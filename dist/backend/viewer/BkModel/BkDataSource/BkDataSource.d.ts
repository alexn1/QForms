import { Result } from '../../../../Result';
import { BkModel } from '../BkModel';
import { Context } from '../../../Context';
import { BkApplication } from '../BkApplication/BkApplication';
import { BkDatabase } from '../BkDatabase/BkDatabase';
import { BkForm } from '../BkForm/BkForm';
import { Key, KeyRecord, Row, RawRow } from '../../../../types';
import { DataSourceScheme } from '../../../common/Scheme/DataSourceScheme';
import { DataSourceData } from '../../../../common/ModelData/DataSourceData';
export type ReadResult = [RawRow[], number | null];
export declare class BkDataSource extends BkModel<DataSourceScheme> {
    keyColumns: string[];
    rows: Row[];
    getDirPath(): string;
    getJsonFilePath(): string;
    init(context: Context): Promise<void>;
    getKeyColumns(): string[];
    checkKeyColumns(row: Row): void;
    checkKeyFields(): void;
    checkRow(row: Row): void;
    checkRows(rows: Row[]): void;
    checkNotUsedColumns(row: Row): void;
    checkFields(row: Row): void;
    encodeRows(rows: Row[]): RawRow[];
    encodeRow(row: Row): RawRow;
    getApp(): BkApplication;
    getKeyValuesFromKey(key: Key): KeyRecord;
    getKeyFromValues(record: KeyRecord): Key;
    getFullName(): string;
    static keyToParams(key: Key, paramName?: string): KeyRecord;
    calcNewKeyValues(originalKeyValues: KeyRecord, values: any): KeyRecord;
    calcNewKey(key: Key, values: any): Key;
    fillAttributes(response: DataSourceData): void;
    fill(context: Context): Promise<{
        rows: RawRow[];
        count: number | null;
        limit?: number;
    }>;
    getRows(): Promise<Row[]>;
    isOnForm(): boolean;
    isDefaultOnForm(): boolean;
    isDefaultOnRowForm(): boolean;
    isDefaultOnTableForm(): boolean;
    read(context: Context): Promise<ReadResult>;
    create(context: Context, _values?: any): Promise<Result>;
    update(context: Context): Promise<Result>;
    delete(context: Context): Promise<Result>;
    getForm(): BkForm;
    getAccess(context: Context): {
        create: boolean;
        read: boolean;
        update: boolean;
        delete: boolean;
    };
    getDatabase(): BkDatabase;
    getLimit(): number | null;
}

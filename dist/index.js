(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define("qforms", [], factory);
	else if(typeof exports === 'object')
		exports["qforms"] = factory();
	else
		root["qforms"] = factory();
})(global, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./src/Result.ts":
/*!***********************!*\
  !*** ./src/Result.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DatabaseResult": () => (/* binding */ DatabaseResult),
/* harmony export */   "InsertExResult": () => (/* binding */ InsertExResult),
/* harmony export */   "Result": () => (/* binding */ Result),
/* harmony export */   "TableResult": () => (/* binding */ TableResult),
/* harmony export */   "UpdateEx": () => (/* binding */ UpdateEx),
/* harmony export */   "UpdateResult": () => (/* binding */ UpdateResult)
/* harmony export */ });
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
const _InsertExResult = class _InsertExResult {
};
__name(_InsertExResult, "InsertExResult");
let InsertExResult = _InsertExResult;
const _UpdateResult = class _UpdateResult {
};
__name(_UpdateResult, "UpdateResult");
let UpdateResult = _UpdateResult;
const _UpdateEx = class _UpdateEx {
};
__name(_UpdateEx, "UpdateEx");
let UpdateEx = _UpdateEx;
const _TableResult = class _TableResult {
};
__name(_TableResult, "TableResult");
let TableResult = _TableResult;
const _DatabaseResult = class _DatabaseResult {
};
__name(_DatabaseResult, "DatabaseResult");
let DatabaseResult = _DatabaseResult;
const _Result = class _Result {
  static addInsertToResult(result, dName, tName, key) {
    if (!result[dName])
      result[dName] = new DatabaseResult();
    if (!result[dName][tName])
      result[dName][tName] = new TableResult();
    if (!result[dName][tName].insert)
      result[dName][tName].insert = [];
    result[dName][tName].insert.push(key);
  }
  static addInsertExToResult(result, dName, tName, key, row) {
    if (!result[dName])
      result[dName] = new DatabaseResult();
    if (!result[dName][tName])
      result[dName][tName] = new TableResult();
    if (!result[dName][tName].insertEx)
      result[dName][tName].insertEx = new InsertExResult();
    result[dName][tName].insertEx[key] = row;
  }
  static addUpdateToResult(result, dName, tName, oldKey, newKey) {
    if (!result[dName])
      result[dName] = new DatabaseResult();
    if (!result[dName][tName])
      result[dName][tName] = new TableResult();
    if (!result[dName][tName].update)
      result[dName][tName].update = new UpdateResult();
    result[dName][tName].update[oldKey] = newKey;
  }
  static addUpdateExToResult(result, dName, tName, oldKey, row) {
    if (!result[dName])
      result[dName] = new DatabaseResult();
    if (!result[dName][tName])
      result[dName][tName] = new TableResult();
    if (!result[dName][tName].updateEx)
      result[dName][tName].updateEx = new UpdateEx();
    result[dName][tName].updateEx[oldKey] = row;
  }
  static addDeleteToResult(result, dName, tName, key) {
    if (!result[dName])
      result[dName] = new DatabaseResult();
    if (!result[dName][tName])
      result[dName][tName] = new TableResult();
    if (!result[dName][tName].delete)
      result[dName][tName].delete = [];
    result[dName][tName].delete.push(key);
  }
  static addTableToResult(result, dName, tName, tResult) {
    if (!result[dName])
      result[dName] = {};
    if (result[dName][tName])
      throw new Error(`table ${tName} already exists`);
    result[dName][tName] = tResult;
  }
};
__name(_Result, "Result");
let Result = _Result;


/***/ }),

/***/ "./src/backend/AppInfo.ts":
/*!********************************!*\
  !*** ./src/backend/AppInfo.ts ***!
  \********************************/
/***/ (() => {



/***/ }),

/***/ "./src/backend/BackHostApp.ts":
/*!************************************!*\
  !*** ./src/backend/BackHostApp.ts ***!
  \************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BackHostApp": () => (/* binding */ BackHostApp)
/* harmony export */ });
/* harmony import */ var http__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! http */ "http");
/* harmony import */ var http__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(http__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! express */ "express");
/* harmony import */ var express__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(express__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var colors_safe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! colors/safe */ "colors/safe");
/* harmony import */ var colors_safe__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(colors_safe__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! fs */ "fs");
/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var body_parser__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! body-parser */ "body-parser");
/* harmony import */ var body_parser__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(body_parser__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var cookie_parser__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! cookie-parser */ "cookie-parser");
/* harmony import */ var cookie_parser__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(cookie_parser__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var express_session__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! express-session */ "express-session");
/* harmony import */ var express_session__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(express_session__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _WebSocketServer__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./WebSocketServer */ "./src/backend/WebSocketServer.ts");
/* harmony import */ var _BkHelper__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./BkHelper */ "./src/backend/BkHelper.ts");
/* harmony import */ var _Context__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Context */ "./src/backend/Context.ts");
/* harmony import */ var _viewer_BkModel_BkApplication_BkApplication__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./viewer/BkModel/BkApplication/BkApplication */ "./src/backend/viewer/BkModel/BkApplication/BkApplication.ts");
/* harmony import */ var _monitor_MonitorModule__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./monitor/MonitorModule */ "./src/backend/monitor/MonitorModule.tsx");
/* harmony import */ var _index_IndexModule__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./index/IndexModule */ "./src/backend/index/IndexModule.tsx");
/* harmony import */ var _HttpError__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./HttpError */ "./src/backend/HttpError.ts");
/* harmony import */ var _viewer_ViewerModule__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./viewer/ViewerModule */ "./src/backend/viewer/ViewerModule.tsx");
/* harmony import */ var _editor_EditorModule__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./editor/EditorModule */ "./src/backend/editor/EditorModule.tsx");
/* harmony import */ var _FileSessionStore__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./FileSessionStore */ "./src/backend/FileSessionStore.ts");
/* harmony import */ var _editor_Editor_ApplicationEditor_ApplicationEditor__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./editor/Editor/ApplicationEditor/ApplicationEditor */ "./src/backend/editor/Editor/ApplicationEditor/ApplicationEditor.ts");
/* harmony import */ var _BaseModel__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./BaseModel */ "./src/backend/BaseModel.ts");
/* harmony import */ var _EventLog__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./EventLog */ "./src/backend/EventLog.ts");
/* harmony import */ var _EmptyPromise__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./EmptyPromise */ "./src/backend/EmptyPromise.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../console */ "./src/console.ts");
/* harmony import */ var _decorators__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../decorators */ "./src/decorators.ts");
/* harmony import */ var _pConsole__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ../pConsole */ "./src/pConsole.ts");
/* harmony import */ var _e500__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./e500 */ "./src/backend/e500.ts");
var __defProp = Object.defineProperty;
var __getOwnPropDesc = Object.getOwnPropertyDescriptor;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __decorateClass = (decorators, target, key, kind) => {
  var result = kind > 1 ? void 0 : kind ? __getOwnPropDesc(target, key) : target;
  for (var i = decorators.length - 1, decorator; i >= 0; i--)
    if (decorator = decorators[i])
      result = (kind ? decorator(target, key, result) : decorator(result)) || result;
  if (kind && result)
    __defProp(target, key, result);
  return result;
};
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};


























const pkg = __webpack_require__(/*! ../../package.json */ "./package.json");
const BACKEND_DIR_PATH = path__WEBPACK_IMPORTED_MODULE_4___default().join(__dirname, "backend");
const APPS_DIR_PATH = process.env.APPS_DIR_PATH || "./apps";
const LISTEN_HOST = process.env.LISTEN_HOST || "localhost";
const LISTEN_PORT = process.env.LISTEN_PORT && parseInt(process.env.LISTEN_PORT) || 7e3;
const _BackHostApp = class _BackHostApp {
  constructor(params = {}) {
    this.params = params;
    this.applications = {};
    this.startTime = /* @__PURE__ */ new Date();
    this.createAppQueue = {};
    (0,_console__WEBPACK_IMPORTED_MODULE_22__.debug)("BackHostApp.constructor", params);
  }
  init() {
    return __async(this, null, function* () {
      this.checkNodeVersion();
      this.initDirPaths();
      this.checkApplicationFolder();
      this.createTempDirsIfNotExistSync();
      this.createEventLog();
      this.initExpressServer();
      yield this.initModules();
      this.createHttpServer();
    });
  }
  run() {
    return __async(this, null, function* () {
      yield _BackHostApp.runHttpServer(this.httpServer, this.getHost(), this.getPort());
      this.httpServer.on("error", this.onHttpServerError.bind(this));
      this.createWebSocketServer();
      this.listenProcessEvents();
      _pConsole__WEBPACK_IMPORTED_MODULE_24__.pConsole.log(this.composeStartMessage(this.getHost(), this.getPort()));
    });
  }
  getHost() {
    return this.params.host || LISTEN_HOST;
  }
  getPort() {
    return this.params.port || LISTEN_PORT;
  }
  createHttpServer() {
    this.httpServer = http__WEBPACK_IMPORTED_MODULE_0___default().createServer(this.express);
  }
  checkNodeVersion() {
    const [majorNodeVersion] = process.versions.node.split(".");
    const MIN_NODE_VERSION = 14;
    if (parseInt(majorNodeVersion) < MIN_NODE_VERSION) {
      throw new Error(
        `min node version required ${MIN_NODE_VERSION}, current ${majorNodeVersion}`
      );
    }
  }
  checkApplicationFolder() {
    if (!fs__WEBPACK_IMPORTED_MODULE_3___default().existsSync(this.appsDirPath)) {
      throw new Error(`Application folder '${this.appsDirPath}' doesn't exist`);
    }
  }
  createTempDirsIfNotExistSync() {
    _BkHelper__WEBPACK_IMPORTED_MODULE_9__.BkHelper.createDirIfNotExistsSync(this.runtimeDirPath);
    _BkHelper__WEBPACK_IMPORTED_MODULE_9__.BkHelper.createDirIfNotExistsSync(this.sessionDirPath);
  }
  createEventLog() {
    this.eventLog = new _EventLog__WEBPACK_IMPORTED_MODULE_20__.EventLog(this.params.logger);
  }
  initModules() {
    return __async(this, null, function* () {
      this.indexModule = new _index_IndexModule__WEBPACK_IMPORTED_MODULE_13__.IndexModule(this);
      yield this.indexModule.init();
      this.monitorModule = new _monitor_MonitorModule__WEBPACK_IMPORTED_MODULE_12__.MonitorModule(this);
      yield this.monitorModule.init();
      this.viewerModule = new _viewer_ViewerModule__WEBPACK_IMPORTED_MODULE_15__.ViewerModule(this);
      yield this.viewerModule.init();
      this.editorModule = new _editor_EditorModule__WEBPACK_IMPORTED_MODULE_16__.EditorModule(this);
      yield this.editorModule.init();
    });
  }
  createWebSocketServer() {
    this.wsServer = new _WebSocketServer__WEBPACK_IMPORTED_MODULE_8__.WebSocketServer({
      hostApp: this,
      httpServer: this.httpServer
    });
  }
  initDirPaths() {
    this.appsDirPath = path__WEBPACK_IMPORTED_MODULE_4___default().resolve(this.params.appsDirPath || APPS_DIR_PATH);
    this.distDirPath = this.params.distDirPath || this.appsDirPath;
    this.backendDirPath = BACKEND_DIR_PATH;
    this.frontendDirPath = path__WEBPACK_IMPORTED_MODULE_4___default().resolve(path__WEBPACK_IMPORTED_MODULE_4___default().join(BACKEND_DIR_PATH, "../frontend"));
    this.runtimeDirPath = path__WEBPACK_IMPORTED_MODULE_4___default().resolve(this.params.runtimeDirPath || "./runtime");
    this.sessionDirPath = path__WEBPACK_IMPORTED_MODULE_4___default().join(this.runtimeDirPath, "session");
  }
  composeStartMessage(host, port) {
    let message = "\n";
    message += `NODE_ENV=${process.env.NODE_ENV}
`;
    message += `QFORMS_LOG_LEVEL=${process.env.QFORMS_LOG_LEVEL}
`;
    message += "\n";
    message += `QForms server v${pkg.version} listening on http://${host}:${port}${this.isDevelopment() ? "/index2" : ""}
`;
    message += `	cwd: ${process.cwd()}
`;
    message += `	appsDirPath: ${this.appsDirPath}
`;
    message += `	distDirPath: ${this.distDirPath}
`;
    message += `	backendDirPath: ${this.backendDirPath}
`;
    message += `	frontendDirPath: ${this.frontendDirPath}
`;
    message += `	runtimeDirPath: ${this.runtimeDirPath}
`;
    message += `	sessionDirPath: ${this.sessionDirPath}
`;
    if (this.isDevelopment()) {
      message += `	monitor: http://${host}:${port}/monitor
`;
    }
    message += `	started at: ${(/* @__PURE__ */ new Date()).toISOString()}
`;
    return message;
  }
  listenProcessEvents() {
    process.on("message", this.onProcessMessage.bind(this));
    process.on("SIGINT", this.onProcessSIGINT.bind(this));
    process.on("SIGTERM", this.onProcessSIGTERM.bind(this));
    process.on("exit", this.onProcessExit.bind(this));
    process.on("uncaughtException", this.onUncaughtException.bind(this));
    process.on("unhandledRejection", this.onUnhandledRejection.bind(this));
  }
  getSecretSync() {
    const secretFilePath = path__WEBPACK_IMPORTED_MODULE_4___default().join(this.runtimeDirPath, "secret.txt");
    let secret;
    secret = _BkHelper__WEBPACK_IMPORTED_MODULE_9__.BkHelper.getFileContentSync(secretFilePath);
    if (secret) {
      return secret;
    }
    secret = _BkHelper__WEBPACK_IMPORTED_MODULE_9__.BkHelper.getRandomString(20);
    _BkHelper__WEBPACK_IMPORTED_MODULE_9__.BkHelper.writeFileSync(secretFilePath, secret);
    return secret;
  }
  initExpressServer() {
    var _a;
    this.express = express__WEBPACK_IMPORTED_MODULE_1___default()();
    this.express.set("handleException", (_a = this.params.handleException) != null ? _a : true);
    this.express.enable("strict routing");
    this.express.use(
      body_parser__WEBPACK_IMPORTED_MODULE_5___default().json({
        limit: "20mb",
        reviver: _BkHelper__WEBPACK_IMPORTED_MODULE_9__.BkHelper.dateTimeReviver
      })
    );
    this.express.use(body_parser__WEBPACK_IMPORTED_MODULE_5___default().urlencoded({ extended: false }));
    this.express.use(cookie_parser__WEBPACK_IMPORTED_MODULE_6___default()());
    this.express.use(
      express_session__WEBPACK_IMPORTED_MODULE_7___default()({
        store: new _FileSessionStore__WEBPACK_IMPORTED_MODULE_17__.FileSessionStore(this.sessionDirPath),
        secret: this.getSecretSync(),
        // @ts-ignore
        key: "sid",
        resave: false,
        saveUninitialized: false
      })
    );
    this.express.options("/error", (req, res, next) => {
      _pConsole__WEBPACK_IMPORTED_MODULE_24__.pConsole.log("options /error");
      res.header("Access-Control-Allow-Origin", "*");
      res.header("Access-Control-Allow-Headers", "Content-Type, Content-Length");
      res.end();
    });
    this.express.post("/error", this.postError.bind(this));
    if (this.isDevelopment()) {
      this.express.get("/index2", this.indexGet.bind(this));
      this.express.post("/index2", this.indexPost.bind(this));
    }
    this.express.get("/monitor", this.monitorGet.bind(this));
    this.express.get(
      "/:module/:appDirName/:appFileName/:env/:domain/",
      this.moduleGet.bind(this)
    );
    this.express.post(
      "/:module/:appDirName/:appFileName/:env/:domain/",
      this.modulePost.bind(this)
    );
    this.express.get(
      "/:module/:appDirName/:appFileName/:env/:domain/*",
      this.moduleGetFile.bind(this)
    );
    this.express.use(
      express__WEBPACK_IMPORTED_MODULE_1___default()["static"](this.frontendDirPath, {
        setHeaders: (res, fullPath, stat) => {
          _pConsole__WEBPACK_IMPORTED_MODULE_24__.pConsole.log(
            `static: /${path__WEBPACK_IMPORTED_MODULE_4___default().relative(this.frontendDirPath, fullPath)} ${res.statusCode}`
          );
        }
      })
    );
    this.initCustomRoutes();
    this.express.use(this._e404.bind(this));
    this.express.use(this._e500.bind(this));
  }
  // создание приложения длительный процесс, если во время создания приложения
  // будет вызвара createApplicationIfNotExists, то ей будет возвращён пустой промис
  createApplicationIfNotExists(context) {
    return __async(this, null, function* () {
      const route = context.getRoute();
      const application = this.applications[route];
      if (application) {
        return application;
      }
      if (Array.isArray(this.createAppQueue[route])) {
        (0,_console__WEBPACK_IMPORTED_MODULE_22__.debug)("application is creating:", route);
        const promise = _EmptyPromise__WEBPACK_IMPORTED_MODULE_21__.EmptyPromise.create();
        this.createAppQueue[route].push(promise);
        return promise;
      }
      return yield this.beginCreateApplication(context);
    });
  }
  // создаём приложение и после создание уведомляем всех ждущих
  beginCreateApplication(context) {
    return __async(this, null, function* () {
      const route = context.getRoute();
      this.createAppQueue[route] = [];
      try {
        const app = this.applications[route] = yield this.createApplication(context);
        (0,_console__WEBPACK_IMPORTED_MODULE_22__.debug)(
          "application created, start resolve loop",
          route,
          this.createAppQueue[route].length
        );
        for (const p of this.createAppQueue[route]) {
          p.resolve(app);
        }
        return app;
      } catch (err) {
        (0,_console__WEBPACK_IMPORTED_MODULE_22__.error)(
          "application not created, start reject loop",
          route,
          this.createAppQueue[route].length
        );
        for (const p of this.createAppQueue[route]) {
          p.reject(err);
        }
        throw err;
      } finally {
        this.createAppQueue[route] = null;
      }
    });
  }
  getApplication(context) {
    const application = this.applications[context.getRoute()];
    if (!application)
      throw new Error(`no application for route: ${context.getRoute()}`);
    return application;
  }
  getApplicationByRoute(route) {
    return this.applications[route];
  }
  getSrcAppFilePath(context) {
    return path__WEBPACK_IMPORTED_MODULE_4___default().join(
      this.appsDirPath,
      context.getAppDirName(),
      context.getAppFileName() + ".json"
    );
  }
  getDistAppFilePath(context) {
    return path__WEBPACK_IMPORTED_MODULE_4___default().join(
      this.distDirPath,
      context.getAppDirName(),
      context.getAppFileName() + ".json"
    );
  }
  createApplication(context) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_22__.debug)(`BackHostApp.createApplication: ${context.getRoute()}`);
      const appFilePath = this.getDistAppFilePath(context);
      const appInfo = yield _viewer_BkModel_BkApplication_BkApplication__WEBPACK_IMPORTED_MODULE_11__.BkApplication.loadAppInfo(
        appFilePath
        /* , distDirPath */
      );
      const ApplicationClass = this.getApplicationClass(appInfo);
      const application = new ApplicationClass(appInfo, this, context.getEnv());
      yield application.init(context);
      return application;
    });
  }
  getApplicationClass(appInfo) {
    const modelClass = _BaseModel__WEBPACK_IMPORTED_MODULE_19__.BaseModel.getAttr(appInfo.appFile.data, "modelClass");
    if (modelClass) {
      const CustomClass = global[modelClass];
      if (!CustomClass)
        throw new Error(`no class ${modelClass}`);
      return CustomClass;
    }
    return _viewer_BkModel_BkApplication_BkApplication__WEBPACK_IMPORTED_MODULE_11__.BkApplication;
  }
  createAppInfos(req) {
    return __async(this, null, function* () {
      const { folder, name } = req.body;
      if (!folder)
        throw new Error(`folder required: ${folder}`);
      if (!name)
        throw new Error(`name required: ${name}`);
      const appDirPath = path__WEBPACK_IMPORTED_MODULE_4___default().join(this.appsDirPath, folder);
      const appFilePath = path__WEBPACK_IMPORTED_MODULE_4___default().join(appDirPath, name + ".json");
      yield _BkHelper__WEBPACK_IMPORTED_MODULE_9__.BkHelper.createDirIfNotExists(appDirPath);
      yield _editor_Editor_ApplicationEditor_ApplicationEditor__WEBPACK_IMPORTED_MODULE_18__.ApplicationEditor.createAppFile(appFilePath, { name });
      const appInfos = yield _viewer_BkModel_BkApplication_BkApplication__WEBPACK_IMPORTED_MODULE_11__.BkApplication.getAppInfos(this.appsDirPath);
      return appInfos;
    });
  }
  composeContextData(err, req) {
    const route = err instanceof _HttpError__WEBPACK_IMPORTED_MODULE_14__.HttpError && err.context ? err.context.getRoute() : null;
    return {
      headers: req.headers,
      method: req.method,
      host: req.headers.host,
      originalUrl: req.originalUrl,
      uri: req.params["0"],
      platformVersion: pkg.version,
      appVersion: route ? this.applications[route].getVersion() : null,
      route,
      body: req.body,
      status: err instanceof _HttpError__WEBPACK_IMPORTED_MODULE_14__.HttpError ? err.status || null : null,
      data: err instanceof _HttpError__WEBPACK_IMPORTED_MODULE_14__.HttpError ? err.data || null : null
    };
  }
  logError(err, req) {
    return __async(this, null, function* () {
      _pConsole__WEBPACK_IMPORTED_MODULE_24__.pConsole.log("BackHostApp.logError:", colors_safe__WEBPACK_IMPORTED_MODULE_2___default().red(err.message));
      try {
        yield this.eventLog.log({
          type: "error",
          source: "server",
          message: err.message,
          stack: err.stack,
          data: req && JSON.stringify(this.composeContextData(err, req), null, 4),
          ip: req && _Context__WEBPACK_IMPORTED_MODULE_10__.Context.getIpFromReq(req)
        });
      } catch (err2) {
        (0,_console__WEBPACK_IMPORTED_MODULE_22__.error)(colors_safe__WEBPACK_IMPORTED_MODULE_2___default().red(err2));
      }
    });
  }
  logEvent(context, message, data) {
    return __async(this, null, function* () {
      _pConsole__WEBPACK_IMPORTED_MODULE_24__.pConsole.log("BackHostApp.logEvent", message);
      try {
        yield this.eventLog.log({
          type: "log",
          source: "server",
          message,
          data: data && JSON.stringify(data, null, 4),
          ip: context.getIp()
        });
      } catch (err) {
        _pConsole__WEBPACK_IMPORTED_MODULE_24__.pConsole.error(colors_safe__WEBPACK_IMPORTED_MODULE_2___default().red(err));
      }
    });
  }
  indexGet(req, res, next) {
    return __async(this, null, function* () {
      _pConsole__WEBPACK_IMPORTED_MODULE_24__.pConsole.log(colors_safe__WEBPACK_IMPORTED_MODULE_2___default().magenta("indexGet"));
      try {
        const html = yield this.indexModule.render();
        res.end(html);
      } catch (err) {
        next(err);
      }
    });
  }
  indexPost(req, res, next) {
    return __async(this, null, function* () {
      _pConsole__WEBPACK_IMPORTED_MODULE_24__.pConsole.log(colors_safe__WEBPACK_IMPORTED_MODULE_2___default().magenta("indexPost"), req.params);
      try {
        const appInfos = yield this.createAppInfos(req);
        res.json({
          appInfos: appInfos.map((appInfo) => ({
            fullName: appInfo.fullName,
            envs: appInfo.envs
          }))
        });
      } catch (err) {
        next(err);
      }
    });
  }
  monitorGet(req, res, next) {
    return __async(this, null, function* () {
      _pConsole__WEBPACK_IMPORTED_MODULE_24__.pConsole.log(
        colors_safe__WEBPACK_IMPORTED_MODULE_2___default().magenta("monitorGet")
        /* , req.headers */
      );
      try {
        if (!this.params.monitor) {
          res.end("Please set monitor username/password in app params");
          return;
        }
        if (this.monitorModule.authorize(req)) {
          const html = this.monitorModule.render();
          res.end(html);
        } else {
          res.statusCode = 401;
          res.setHeader("WWW-Authenticate", 'Basic realm="My Realm"');
          res.end("Unauthorized");
        }
      } catch (err) {
        next(err);
      }
    });
  }
  moduleGet(req, res, next) {
    return __async(this, null, function* () {
      _pConsole__WEBPACK_IMPORTED_MODULE_24__.pConsole.log(
        // @ts-ignore
        colors_safe__WEBPACK_IMPORTED_MODULE_2___default().magenta.underline("GET"),
        `${req.params.module}/${req.params.appDirName}/${req.params.appFileName}/${req.params.env}/${req.params.domain}`
      );
      let context = null;
      try {
        if (req.params.module === "viewer") {
          context = new _Context__WEBPACK_IMPORTED_MODULE_10__.Context({
            req,
            res,
            domain: this.getDomainFromRequest(req)
          });
          const application = yield this.createApplicationIfNotExists(context);
          if (application.isAvailable()) {
            yield this.viewerModule.handleGet(context, application);
          } else {
            next();
          }
        } else if (req.params.module === "editor" && this.isDevelopment()) {
          context = new _Context__WEBPACK_IMPORTED_MODULE_10__.Context({
            req,
            res,
            domain: this.getDomainFromRequest(req)
          });
          yield this.editorModule.handleEditorGet(req, res, context);
        } else {
          next();
        }
      } catch (err) {
        next(err);
      } finally {
        if (context) {
          context.destroy();
        }
      }
    });
  }
  modulePost(req, res, next) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_22__.debug)(colors_safe__WEBPACK_IMPORTED_MODULE_2___default().magenta.underline("BackHostApp.modulePost"), req.params, req.body);
      _pConsole__WEBPACK_IMPORTED_MODULE_24__.pConsole.log(
        // @ts-ignore
        colors_safe__WEBPACK_IMPORTED_MODULE_2___default().magenta.underline("POST"),
        `${req.params.module}/${req.params.appDirName}/${req.params.appFileName}/${req.params.env}/${req.params.domain}`,
        `${req.body.page}.${req.body.form}.${req.body.ds}.${req.body.action}`
      );
      let context = null;
      try {
        if (req.params.module === "viewer") {
          context = new _Context__WEBPACK_IMPORTED_MODULE_10__.Context({
            req,
            res,
            domain: this.getDomainFromRequest(req)
          });
          const application = yield this.createApplicationIfNotExists(context);
          yield this.viewerModule.handlePost(context, application);
        } else if (req.params.module === "editor") {
          if (this.isDevelopment()) {
            context = new _Context__WEBPACK_IMPORTED_MODULE_10__.Context({
              req,
              res,
              domain: this.getDomainFromRequest(req)
            });
            const time2 = yield this.editorModule.handleEditorPost(req, res, context);
          } else {
            next();
          }
        } else {
          next();
        }
      } catch (err) {
        next(err);
      } finally {
        if (context) {
          context.destroy();
        }
      }
    });
  }
  moduleGetFile(req, res, next) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_22__.debug)(colors_safe__WEBPACK_IMPORTED_MODULE_2___default().magenta.underline("BackHostApp.moduleGetFile"), req.originalUrl);
      (0,_decorators__WEBPACK_IMPORTED_MODULE_23__.log)(colors_safe__WEBPACK_IMPORTED_MODULE_2___default().magenta.underline("GET"), req.originalUrl);
      if (req.params.module === "viewer") {
        let context = null;
        try {
          context = new _Context__WEBPACK_IMPORTED_MODULE_10__.Context({
            req,
            res,
            domain: this.getDomainFromRequest(req)
          });
          const application = yield this.createApplicationIfNotExists(context);
          yield this.viewerModule.handleGetFile(context, application, next);
        } catch (err) {
          err.message = `moduleGetFile error: ${err.message}`;
          next(err);
        } finally {
          if (context) {
            context.destroy();
          }
        }
      } else {
        next();
      }
    });
  }
  _e404(req, res, next) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_22__.debug)(colors_safe__WEBPACK_IMPORTED_MODULE_2___default().magenta(req.method), "error/404", req.originalUrl);
      next(
        new _HttpError__WEBPACK_IMPORTED_MODULE_14__.HttpError({
          message: `${req.method} ${req.originalUrl} not found`,
          status: 404
        })
      );
    });
  }
  _e500(err, req, res, next) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_22__.debug)(colors_safe__WEBPACK_IMPORTED_MODULE_2___default().magenta("module.exports.e500:"), req.method, req.originalUrl, err);
      _pConsole__WEBPACK_IMPORTED_MODULE_24__.pConsole.log(colors_safe__WEBPACK_IMPORTED_MODULE_2___default().red(err.message));
      const error2 = typeof err === "string" ? new _HttpError__WEBPACK_IMPORTED_MODULE_14__.HttpError({ message: err }) : err;
      res.status(error2.status || 500);
      if (req.headers["content-type"] && req.headers["content-type"].indexOf("application/json") !== -1) {
        res.end(
          this.isDevelopment() || error2.status === 404 ? error2.message : "Internal Software Error"
        );
      } else {
        const status = error2.status || 500;
        const message = this.isDevelopment() || error2.status === 404 ? error2.message : "Internal Software Error";
        const stack = this.isDevelopment() && error2.status !== 404 ? error2.stack : "";
        res.end((0,_e500__WEBPACK_IMPORTED_MODULE_25__.e500)(status, message, stack));
      }
      yield this.logError(error2, req);
    });
  }
  /* _getTest(req, res, next) {
      debug('getTest');
      res.setHeader('Content-Type', 'text/plain;charset=utf-8');
      res.end('getTest');
  } */
  /* _postTest(req, res, next) {
      debug('postTest', req.body);
      res.json({foo: 'bar'});
  } */
  static runHttpServer(httpServer, host, port) {
    return new Promise((resolve, reject) => {
      try {
        const tempErrorHandler = /* @__PURE__ */ __name((err) => {
          (0,_console__WEBPACK_IMPORTED_MODULE_22__.error)("tempErrorHandler", err);
          httpServer.off("error", tempErrorHandler);
          reject(err);
        }, "tempErrorHandler");
        httpServer.on("error", tempErrorHandler);
        httpServer.listen(port, host, () => {
          httpServer.off("error", tempErrorHandler);
          resolve();
        });
      } catch (err) {
        reject(err);
      }
    });
  }
  onProcessMessage(message) {
    return __async(this, null, function* () {
      if (message === "shutdown") {
        try {
          yield this.shutdown();
        } catch (err) {
          (0,_console__WEBPACK_IMPORTED_MODULE_22__.error)("shutdown error:", err.message);
        }
        process.exit(0);
      }
    });
  }
  onProcessSIGINT() {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_22__.debug)("\nBackHostApp.onProcessSIGINT");
      _pConsole__WEBPACK_IMPORTED_MODULE_24__.pConsole.log("Received INT signal (Ctrl+C), shutting down gracefully...");
      try {
        yield this.shutdown();
        process.exit(0);
      } catch (err) {
        (0,_console__WEBPACK_IMPORTED_MODULE_22__.error)("shutdown error:", err.message);
        process.exit(1);
      }
    });
  }
  onProcessSIGTERM() {
    return __async(this, null, function* () {
      _pConsole__WEBPACK_IMPORTED_MODULE_24__.pConsole.log("Received SIGTERM (kill) signal, shutting down forcefully.");
      try {
        yield this.shutdown();
        process.exit(0);
      } catch (err) {
        (0,_console__WEBPACK_IMPORTED_MODULE_22__.error)("shutdown error:", err.message);
        process.exit(1);
      }
    });
  }
  onProcessExit(code) {
    (0,_console__WEBPACK_IMPORTED_MODULE_22__.debug)("BackHostApp.onProcessExit:", code);
    _pConsole__WEBPACK_IMPORTED_MODULE_24__.pConsole.log("exit:", code);
  }
  onUncaughtException(err, origin) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_22__.error)(colors_safe__WEBPACK_IMPORTED_MODULE_2___default().red("BackHostApp.onUncaughtException"), err);
      err.message = `uncaughtException: ${err.message}`;
      yield this.logError(err);
    });
  }
  onUnhandledRejection(reason, promise) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_22__.error)(colors_safe__WEBPACK_IMPORTED_MODULE_2___default().red("BackHostApp.onUnhandledRejection"), reason);
      reason.message = `unhandledRejection: ${reason.message}`;
      yield this.logError(reason);
    });
  }
  shutdown() {
    return __async(this, null, function* () {
      const routes = Object.keys(this.applications);
      for (let i = 0; i < routes.length; i++) {
        const route = routes[i];
        const application = this.applications[route];
        yield application.deinit();
      }
    });
  }
  onHttpServerError(err) {
    (0,_console__WEBPACK_IMPORTED_MODULE_22__.error)(colors_safe__WEBPACK_IMPORTED_MODULE_2___default().red("BackHostApp.onHttpServerError"), err.code, err.message);
  }
  getDomainFromRequest(req) {
    if (!req)
      throw new Error("need req param");
    const hostPort = req.headers.host;
    if (!hostPort)
      throw new Error("no host");
    const [host, port] = hostPort.split(":");
    const [domain] = host.split(".");
    if (!domain)
      throw new Error("trouble getting a domain");
    return domain;
  }
  postError(req, res, next) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_22__.debug)(colors_safe__WEBPACK_IMPORTED_MODULE_2___default().blue("BackHostApp.postError"), req.body.message);
      const body = req.body;
      _pConsole__WEBPACK_IMPORTED_MODULE_24__.pConsole.log("client error:", colors_safe__WEBPACK_IMPORTED_MODULE_2___default().red(body.message));
      try {
        const data = JSON.stringify(
          {
            headers: req.headers,
            domain: this.getDomainFromRequest(req)
          },
          null,
          4
        );
        yield this.eventLog.log({
          type: body.type,
          source: body.source,
          message: body.message,
          stack: body.stack,
          data: `${body.data}
${data}`,
          ip: body.ip || _Context__WEBPACK_IMPORTED_MODULE_10__.Context.getIpFromReq(req)
        });
        res.header("Access-Control-Allow-Origin", "*");
        res.end("ok");
      } catch (err) {
        next(err);
      }
    });
  }
  getFrontendDirPath() {
    return this.frontendDirPath;
  }
  initCustomRoutes() {
  }
  alias(method, path2, [module, appDirName, appFileName, env, domain], cb, query) {
    this.express[method](path2, (req, res, next) => __async(this, null, function* () {
      req.params.module = module;
      req.params.appDirName = appDirName;
      req.params.appFileName = appFileName;
      if (env) {
        req.params.env = env;
      }
      if (domain) {
        req.params.domain = domain;
      }
      if (query) {
        Object.assign(req.query, _BackHostApp.getQueryFromParams(req, query));
      }
      yield this[cb](req, res, next);
    }));
  }
  static getQueryFromParams(req, query) {
    return Object.keys(query).reduce((acc, name) => {
      const value = query[name];
      if (value === null) {
        acc[name] = req.params[name];
      } else {
        acc[name] = req.params[value] || value;
      }
      return acc;
    }, {});
  }
  getPostAlias(path2, route, query) {
    this.alias("get", path2, route, "moduleGet", query);
    this.alias("post", path2, route, "modulePost", query);
  }
  getNodeEnv() {
    return process.env.NODE_ENV || null;
  }
  isDevelopment() {
    return this.getNodeEnv() === "dev";
  }
  isProduction() {
    return !this.isDevelopment();
  }
  getParams() {
    return this.params;
  }
  broadcastResult(sourceApplication, context, result) {
    (0,_console__WEBPACK_IMPORTED_MODULE_22__.debug)("BackHostApp.broadcastResult");
    for (const route in this.applications) {
      if (context.getRoute() === route && this.applications[route] === sourceApplication) {
        sourceApplication.broadcastDomesticResultToClients(context, result);
      } else {
        const application = this.applications[route];
        application.broadcastForeignResultToClients(context, result);
      }
    }
  }
  static test() {
  }
  getLogger() {
    return this.eventLog;
  }
  getFrontLogUrl() {
    return this.params.frontLogUrl;
  }
  getHttpServer() {
    return this.httpServer;
  }
};
__name(_BackHostApp, "BackHostApp");
__decorateClass([
  (0,_decorators__WEBPACK_IMPORTED_MODULE_23__.log)(_pConsole__WEBPACK_IMPORTED_MODULE_24__.LogLevel.debug),
  _decorators__WEBPACK_IMPORTED_MODULE_23__.time
], _BackHostApp.prototype, "init", 1);
__decorateClass([
  (0,_decorators__WEBPACK_IMPORTED_MODULE_23__.log)(_pConsole__WEBPACK_IMPORTED_MODULE_24__.LogLevel.debug),
  _decorators__WEBPACK_IMPORTED_MODULE_23__.time
], _BackHostApp.prototype, "run", 1);
__decorateClass([
  (0,_decorators__WEBPACK_IMPORTED_MODULE_23__.log)(_pConsole__WEBPACK_IMPORTED_MODULE_24__.LogLevel.debug)
], _BackHostApp.prototype, "createAppInfos", 1);
__decorateClass([
  (0,_decorators__WEBPACK_IMPORTED_MODULE_23__.log)(_pConsole__WEBPACK_IMPORTED_MODULE_24__.LogLevel.debug)
], _BackHostApp.prototype, "onProcessMessage", 1);
__decorateClass([
  (0,_decorators__WEBPACK_IMPORTED_MODULE_23__.log)(_pConsole__WEBPACK_IMPORTED_MODULE_24__.LogLevel.debug)
], _BackHostApp.prototype, "onProcessSIGTERM", 1);
__decorateClass([
  (0,_decorators__WEBPACK_IMPORTED_MODULE_23__.log)(_pConsole__WEBPACK_IMPORTED_MODULE_24__.LogLevel.debug)
], _BackHostApp.prototype, "shutdown", 1);
__decorateClass([
  (0,_decorators__WEBPACK_IMPORTED_MODULE_23__.log)(_pConsole__WEBPACK_IMPORTED_MODULE_24__.LogLevel.debug)
], _BackHostApp, "test", 1);
let BackHostApp = _BackHostApp;


/***/ }),

/***/ "./src/backend/BaseModel.ts":
/*!**********************************!*\
  !*** ./src/backend/BaseModel.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BaseModel": () => (/* binding */ BaseModel)
/* harmony export */ });
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
const _BaseModel = class _BaseModel {
  constructor(data, parent) {
    this.data = data;
    this.parent = parent;
    if (!data)
      throw new Error(`new ${this.constructor.name}: no data`);
  }
  static getClassName(data) {
    return data["@class"];
  }
  static getAttr(data, name) {
    return data["@attributes"][name];
  }
  static getName(data) {
    return _BaseModel.getAttr(data, "name");
  }
  getClassName() {
    return this.data["@class"];
  }
  getName() {
    return _BaseModel.getName(this.data);
  }
  static attributes(data) {
    return data["@attributes"];
  }
  attributes() {
    return this.data["@attributes"];
  }
  getAttr(name) {
    if (!this.isAttr(name))
      throw new Error(`no attribute '${name}'`);
    return this.data["@attributes"][name];
  }
  setAttr(name, value) {
    this.data["@attributes"][name] = value;
  }
  isAttr(name) {
    return this.data["@attributes"][name] !== void 0;
  }
  isData(colName, name) {
    if (!colName)
      throw new Error("isData: no colName");
    if (!name)
      throw new Error("isData: no name");
    return !!this.getColItemData(colName, name);
  }
  getData() {
    return this.data;
  }
  getCol(name) {
    if (!name)
      throw new Error("getCol: no name");
    const arr = this.data[name];
    if (!arr) {
      throw new Error(`getCol: no col ${name}`);
    }
    return arr;
  }
  getItemNames(colName) {
    return this.getCol(colName).map((data) => _BaseModel.getName(data));
  }
  getColItemData(colName, name) {
    const data = _BaseModel.findColDataByName(this.getCol(colName), name);
    if (data)
      return data;
    return null;
  }
  removeColData(colName, name) {
    const col = this.getCol(colName);
    const data = _BaseModel.findColDataByName(col, name);
    if (!data)
      throw new Error(`removeColData: no ${name} in ${colName}`);
    col.splice(col.indexOf(data), 1);
    return data;
  }
  static findColDataByName(col, name) {
    return col.find((data) => _BaseModel.getName(data) === name);
  }
  addModelData(colName, data) {
    const name = _BaseModel.getName(data);
    if (this.getColItemData(colName, name))
      throw new Error(`${name} already exists in ${colName}`);
    this.getCol(colName).push(data);
  }
  getApp() {
    throw new Error("getApp: not implemented");
  }
  replaceDataColItem(colName, oldData, newData) {
    const dataCol = this.getCol(colName);
    const i = dataCol.indexOf(oldData);
    if (i === -1)
      throw new Error(`replaceDataColItem: no ${_BaseModel.getName(oldData)} in ${colName}`);
    dataCol[i] = newData;
    return i;
  }
  getParent() {
    if (!this.parent)
      throw new Error("no parent");
    return this.parent;
  }
};
__name(_BaseModel, "BaseModel");
let BaseModel = _BaseModel;


/***/ }),

/***/ "./src/backend/BkHelper.ts":
/*!*********************************!*\
  !*** ./src/backend/BkHelper.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkHelper": () => (/* binding */ BkHelper)
/* harmony export */ });
/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! fs */ "fs");
/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var glob__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! glob */ "glob");
/* harmony import */ var glob__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(glob__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var slash__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! slash */ "slash");
/* harmony import */ var slash__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(slash__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var colors_safe__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! colors/safe */ "colors/safe");
/* harmony import */ var colors_safe__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(colors_safe__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var node_fetch__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! node-fetch */ "node-fetch");
/* harmony import */ var node_fetch__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(node_fetch__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};







function _getFilePathsSync(dirPath, ext) {
  const filePaths = glob__WEBPACK_IMPORTED_MODULE_1___default().sync(path__WEBPACK_IMPORTED_MODULE_2___default().join(dirPath, "*." + ext));
  glob__WEBPACK_IMPORTED_MODULE_1___default().sync(path__WEBPACK_IMPORTED_MODULE_2___default().join(dirPath, "*/")).forEach((subDirPath) => {
    _getFilePathsSync(subDirPath, ext).forEach((fileName) => {
      filePaths.push(fileName);
    });
  });
  return filePaths;
}
__name(_getFilePathsSync, "_getFilePathsSync");
function _getFilePaths2(dirPath, ext, filePaths) {
  return __async(this, null, function* () {
    const files = yield BkHelper._glob(path__WEBPACK_IMPORTED_MODULE_2___default().join(dirPath, "*." + ext));
    files.forEach((item) => {
      filePaths.push(item);
    });
    const dirs = yield BkHelper._glob(path__WEBPACK_IMPORTED_MODULE_2___default().join(dirPath, "*/"));
    for (let i = 0; i < dirs.length; i++) {
      const subDirPath = dirs[i];
      yield _getFilePaths2(subDirPath, ext, filePaths);
    }
  });
}
__name(_getFilePaths2, "_getFilePaths2");
const _BkHelper = class _BkHelper {
  static getRandomString(length) {
    function getRandomInt(min, max) {
      return Math.floor(Math.random() * (max - min + 1)) + min;
    }
    __name(getRandomInt, "getRandomInt");
    const chars = "abcdefghijklmnopqrstuvwxyz0123456789";
    let result = "";
    for (let i = 0; i < length; i++) {
      const index = getRandomInt(0, chars.length - 1);
      result += chars.substr(index, 1);
    }
    return result;
  }
  static getFilePathsSync(publicDirPath, subDirPath, ext) {
    return _getFilePathsSync(path__WEBPACK_IMPORTED_MODULE_2___default().join(publicDirPath, subDirPath), ext).map((filePath) => {
      return slash__WEBPACK_IMPORTED_MODULE_3___default()(path__WEBPACK_IMPORTED_MODULE_2___default().relative(publicDirPath, filePath));
    });
  }
  static _glob(path2) {
    return new Promise((resolve, reject) => {
      glob__WEBPACK_IMPORTED_MODULE_1___default()(path2, (err, items) => {
        if (err) {
          reject(err);
        } else {
          resolve(items);
        }
      });
    });
  }
  static getFilePaths(dirPath, ext) {
    return __async(this, null, function* () {
      const filePaths = [];
      yield _getFilePaths2(dirPath, ext, filePaths);
      const relativeFilePaths = filePaths.map((filePath) => {
        return slash__WEBPACK_IMPORTED_MODULE_3___default()(path__WEBPACK_IMPORTED_MODULE_2___default().relative(dirPath, filePath));
      });
      return relativeFilePaths;
    });
  }
  static currentTime() {
    const now = /* @__PURE__ */ new Date();
    const arrN = [now.getHours(), now.getMinutes(), now.getSeconds()];
    const arrS = arrN.map((n) => n.toString());
    for (let i = 0; i < arrN.length; i++) {
      if (arrN[i] < 10) {
        arrS[i] = "0" + arrS[i];
      }
    }
    return arrS.join(":");
  }
  /* static currentDate() {
      const now = new Date();
      let dd   = now.getDate();      if (dd < 10) dd = '0' + dd;
      let mm   = now.getMonth() + 1; if (mm < 10) mm = '0' + mm;   /!*January is 0!*!/
      const yyyy = now.getFullYear();
      return [yyyy, mm, dd].join('-');
  } */
  /* static currentDateTime() {
      return BkHelper.currentDate() + ' ' + BkHelper.currentTime();
  } */
  static templateToJsString(value, params) {
    return value.replace(/\$\{([\w.@]+)\}/g, (text, name) => {
      if (Object.prototype.hasOwnProperty.call(params, name)) {
        return `BkHelper.decodeValue('${_BkHelper.encodeValue(params[name])}')`;
      }
      return "undefined";
    });
  }
  /* static replaceKey(obj, key1, key2) {
      const keys   = Object.keys(obj);
      const values = _.filter(obj, () => {return true;});
      const index  = keys.indexOf(key1);
      if (index !== -1) {
          keys[index] = key2;
          obj = _.object(keys, values);
      }
      return obj;
  } */
  static readTextFile(path2) {
    return new Promise((resolve, reject) => {
      fs__WEBPACK_IMPORTED_MODULE_0___default().readFile(path2, "utf8", (err, content) => {
        if (err) {
          reject(err);
        } else {
          resolve(content);
        }
      });
    });
  }
  static getFileContent(filePath) {
    return __async(this, null, function* () {
      if (yield _BkHelper.exists(filePath)) {
        return _BkHelper.readTextFile(filePath);
      }
      return null;
    });
  }
  static getFileContentSync(filePath) {
    if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(filePath)) {
      return null;
    }
    return fs__WEBPACK_IMPORTED_MODULE_0___default().readFileSync(filePath, "utf8");
  }
  static readBinaryFile(filePath) {
    (0,_console__WEBPACK_IMPORTED_MODULE_6__.debug)(colors_safe__WEBPACK_IMPORTED_MODULE_4___default().blue("BkHelper.readBinaryFile"), filePath);
    return new Promise((resolve, reject) => {
      fs__WEBPACK_IMPORTED_MODULE_0___default().readFile(filePath, (err, data) => {
        if (err) {
          reject(err);
        } else {
          resolve(data);
        }
      });
    });
  }
  static createPath(arr) {
    if (arr.length === 0)
      throw new Error("no path elements");
    if (arr.length === 1)
      return "/";
    return arr.join("/");
  }
  static getDirPath(filePath) {
    const arr = filePath.split("/");
    return _BkHelper.createPath(arr.slice(0, arr.length - 1));
  }
  static createDirIfNotExists2(originalDirPath) {
    return __async(this, null, function* () {
      const arr = originalDirPath.split("/");
      for (let i = 1; i <= arr.length; i++) {
        const dirPath = _BkHelper.createPath(arr.slice(0, i));
        const exists = yield _BkHelper.exists(dirPath);
        if (!exists) {
          yield _BkHelper.createDirIfNotExists(dirPath);
        }
      }
    });
  }
  static createDirIfNotExists(dirPath) {
    (0,_console__WEBPACK_IMPORTED_MODULE_6__.debug)(colors_safe__WEBPACK_IMPORTED_MODULE_4___default().blue("BkHelper.createDirIfNotExists"), dirPath);
    return new Promise((resolve, reject) => {
      fs__WEBPACK_IMPORTED_MODULE_0___default().exists(dirPath, (exists) => {
        if (exists) {
          resolve();
        } else {
          fs__WEBPACK_IMPORTED_MODULE_0___default().mkdir(dirPath, (err) => {
            if (err) {
              reject(err);
            } else {
              resolve();
            }
          });
        }
      });
    });
  }
  static createDirIfNotExistsSync(dirPath) {
    if (!fs__WEBPACK_IMPORTED_MODULE_0___default().existsSync(dirPath)) {
      fs__WEBPACK_IMPORTED_MODULE_0___default().mkdirSync(dirPath);
    }
  }
  /* static moveObjProp(obj, prop, offset) {
      const keys     = _.keys(obj);
      const values   = _.values(obj);
      const oldIndex = keys.indexOf(prop);
      if (oldIndex === -1) {
          throw new Error('cannot find element');
      }
      const newIndex = oldIndex + offset;
      if (newIndex < 0) {
          throw new Error('cannot up top element');
      }
      if (newIndex > values.length - 1) {
          throw new Error('cannot down bottom element');
      }
      keys.splice(newIndex, 0,   keys.splice(oldIndex, 1)[0]);
      values.splice(newIndex, 0, values.splice(oldIndex, 1)[0]);
      return _.object(keys, values);
  } */
  static moveArrItem(arr, item, offset) {
    const oldIndex = arr.indexOf(item);
    if (oldIndex === -1)
      throw new Error("cannot find element");
    const newIndex = oldIndex + offset;
    if (newIndex < 0)
      throw new Error("cannot up top element");
    if (newIndex > arr.length - 1)
      throw new Error("cannot down bottom element");
    arr.splice(newIndex, 0, arr.splice(oldIndex, 1)[0]);
  }
  /* static getTempSubDirPath3(tempDirPath) {
      return new Promise((resolve, reject) => {
          const subDirName = BkHelper.getRandomString(8);
          const tempSubSirPath = path.join(tempDirPath, subDirName);
          fs.exists(tempSubSirPath, exists => {
              if (!exists) {
                  fs.mkdir(tempSubSirPath, err => {
                      if (err) {
                          reject(err);
                      } else {
                          resolve(tempSubSirPath);
                      }
                  });
              } else {
                  BkHelper.getTempSubDirPath(tempDirPath, () => {
                      resolve();
                  });
              }
          });
      });
  } */
  static copyFile3(source, target) {
    return new Promise((resolve, reject) => {
      const rd = fs__WEBPACK_IMPORTED_MODULE_0___default().createReadStream(source);
      rd.on("error", (err) => {
        reject(err);
      });
      const wr = fs__WEBPACK_IMPORTED_MODULE_0___default().createWriteStream(target);
      wr.on("error", (err) => {
        reject(err);
      });
      wr.on("close", () => {
        resolve();
      });
      rd.pipe(wr);
    });
  }
  static exists(path2) {
    return new Promise((resolve) => {
      fs__WEBPACK_IMPORTED_MODULE_0___default().exists(path2, (exists) => {
        resolve(exists);
      });
    });
  }
  static writeFile(filePath, content) {
    (0,_console__WEBPACK_IMPORTED_MODULE_6__.debug)(colors_safe__WEBPACK_IMPORTED_MODULE_4___default().blue("BkHelper.writeFile"), filePath);
    return new Promise((resolve, reject) => {
      fs__WEBPACK_IMPORTED_MODULE_0___default().writeFile(filePath, content, "utf8", (err) => {
        if (err) {
          reject(err);
        } else {
          resolve();
        }
      });
    });
  }
  static writeFileSync(filePath, content) {
    (0,_console__WEBPACK_IMPORTED_MODULE_6__.debug)(
      colors_safe__WEBPACK_IMPORTED_MODULE_4___default().blue("BkHelper.writeFileSync"),
      filePath
      /* , content */
    );
    return fs__WEBPACK_IMPORTED_MODULE_0___default().writeFileSync(filePath, content, "utf8");
  }
  static writeFile2(filePath, content) {
    return __async(this, null, function* () {
      const dirPath = _BkHelper.getDirPath(filePath);
      yield _BkHelper.createDirIfNotExists2(dirPath);
      return yield _BkHelper.writeFile(filePath, content);
    });
  }
  static mapObject(object, cb) {
    return Object.keys(object).reduce((obj, key) => {
      const [newKey, newVal] = cb(key, object[key]);
      obj[newKey] = newVal;
      return obj;
    }, {});
  }
  static fsUnlink(filePath) {
    return new Promise((resolve, reject) => {
      fs__WEBPACK_IMPORTED_MODULE_0___default().unlink(filePath, (err) => {
        if (err) {
          reject(err);
        } else {
          resolve();
        }
      });
    });
  }
  // timeOffset number in minutes
  static today(timeOffset) {
    let ts = Date.now();
    if (timeOffset !== void 0 && timeOffset !== null) {
      ts += _BkHelper.MINUTE() * timeOffset;
    }
    const date = new Date(ts);
    ts = new Date(date.getFullYear(), date.getMonth(), date.getDate()).getTime();
    if (timeOffset !== void 0 && timeOffset !== null) {
      ts -= _BkHelper.MINUTE() * timeOffset;
    }
    return new Date(ts);
  }
  static dateTimeReviver(key, value) {
    if (typeof value === "string") {
      const a = /^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(\.\d{3})?(Z|([+-])(\d{2}):(\d{2}))?$/.exec(
        value
      );
      if (a)
        return new Date(value);
    }
    return value;
  }
  static decodeValue(rawValue) {
    if (rawValue === void 0)
      throw new Error("decodeValue undefined");
    if (rawValue === null)
      throw new Error("decodeValue null");
    try {
      return JSON.parse(rawValue, _BkHelper.dateTimeReviver);
    } catch (err) {
      throw new Error(`decodeValue failed: ${rawValue}`);
    }
  }
  static encodeValue(value) {
    return JSON.stringify(value);
  }
  static decodeObject(obj) {
    const dObj = {};
    for (const name in obj) {
      if (typeof obj[name] !== "string")
        throw new Error(`cannot decode: ${name}, type: ${typeof obj[name]}`);
      dObj[name] = _BkHelper.decodeValue(obj[name]);
    }
    return dObj;
  }
  static SECOND() {
    return 1e3;
  }
  static MINUTE() {
    return 60 * _BkHelper.SECOND();
  }
  static HOUR() {
    return 60 * _BkHelper.MINUTE();
  }
  static DAY() {
    return 24 * _BkHelper.HOUR();
  }
  static WEEK() {
    return 7 * _BkHelper.DAY();
  }
  static addMinutes(date, minutes) {
    date.setMinutes(date.getMinutes() + minutes);
  }
  static removeTimezoneOffset(date) {
    _BkHelper.addMinutes(date, -date.getTimezoneOffset());
  }
  static addTimezoneOffset(date) {
    _BkHelper.addMinutes(date, date.getTimezoneOffset());
  }
  static cloneDate(date) {
    return new Date(date.getTime());
  }
  static fillArray(n) {
    return Array.from(Array(n).keys());
  }
  static formatDate(date, format) {
    const YYYY = date.getFullYear();
    const M = date.getMonth() + 1;
    const D = date.getDate();
    const h = date.getHours();
    const m = date.getMinutes();
    const s = date.getSeconds();
    const MM = M < 10 ? `0${M}` : M;
    const DD = D < 10 ? `0${D}` : D;
    const hh = h < 10 ? `0${h}` : h;
    const mm = m < 10 ? `0${m}` : m;
    const ss = s < 10 ? `0${s}` : s;
    const values = { YYYY, M, D, h, m, s, MM, DD, hh, mm, ss };
    return format.replace(
      /\{([\w.]+)\}/g,
      (text, name) => values[name] ? values[name] : text
    );
  }
  static getFirstField(object) {
    const [key] = Object.keys(object);
    if (!key)
      throw new Error("getFirstField: no fields");
    return object[key];
  }
  static argvAsKeyValue(argv, slice = 2) {
    return argv.slice(slice).map((arg) => arg.split("=")).reduce((record, [key, value]) => {
      record[key] = value;
      return record;
    }, {});
  }
  static getWebSocketIP(webSocket) {
    return webSocket.upgradeReq.headers["x-real-ip"] ? webSocket.upgradeReq.headers["x-real-ip"] : webSocket.upgradeReq.socket.remoteAddress;
  }
  static getWebSocketPort(webSocket) {
    return webSocket.upgradeReq.headers["x-real-port"] ? webSocket.upgradeReq.headers["x-real-port"] : webSocket.upgradeReq.socket.remotePort;
  }
  static templateArray(arr) {
    return arr.map((item) => {
      const type = typeof item;
      if (type === "number" || type === "boolean") {
        return item;
      }
      if (type === "string") {
        return `'${item}'`;
      }
      throw new Error(`wrong type for array item: ${type}`);
    });
  }
  /* static createEmptyPromise<T = any>(): EmptyPromise<T> {
      let _resolve, _reject;
      const promise = new EmptyPromise<T>(function (resolve, reject) {
          _resolve = resolve;
          _reject = reject;
      });
      promise.resolve = _resolve;
      promise.reject = _reject;
      return promise;
  } */
  static formatNumber(value) {
    return new Intl.NumberFormat("ru-RU").format(value);
  }
  static formatTime2(_sec) {
    let sec = _sec;
    let sign = "";
    if (_sec < 0) {
      sec = -sec;
      sign = "-";
    }
    let h = Math.floor(sec / 3600);
    let m = Math.floor((sec - h * 3600) / 60);
    let s = Math.floor(sec - h * 3600 - m * 60);
    if (h < 10)
      h = "0" + h;
    if (m < 10)
      m = "0" + m;
    if (s < 10)
      s = "0" + s;
    if (Math.floor(sec / 3600) === 0) {
      return `${sign}${m}m:${s}s`;
    } else {
      return `${sign}${h}h:${m}m:${s}s`;
    }
  }
  static registerGlobalClass(Class) {
    if (global[Class.name])
      throw new Error(`global.${Class.name} already used`);
    global[Class.name] = Class;
  }
  static getContentFromDataUrl(value) {
    const [type, data] = value.split(";");
    const contentType = type.split(":")[1];
    const base64string = data.split(",")[1];
    const buffer = Buffer.from(base64string, "base64");
    return [contentType, buffer];
  }
  static post(url, data) {
    return __async(this, null, function* () {
      const response = yield node_fetch__WEBPACK_IMPORTED_MODULE_5___default()(url, {
        method: "post",
        headers: { "Content-Type": "application/json" },
        body: JSON.stringify(data)
      });
      if (response.ok)
        return yield response.json();
      throw new Error(`${response.status} ${response.statusText}: ${yield response.text()}`);
    });
  }
};
__name(_BkHelper, "BkHelper");
let BkHelper = _BkHelper;
BkHelper.registerGlobalClass(BkHelper);


/***/ }),

/***/ "./src/backend/Context.ts":
/*!********************************!*\
  !*** ./src/backend/Context.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Context": () => (/* binding */ Context)
/* harmony export */ });
var __defProp = Object.defineProperty;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
const _Context = class _Context {
  /* files: {
      [name: string]: any;
  } = {}; */
  // querytimeParams: Record<string, any> = {}; // for runtime query params
  constructor(options = {}) {
    this.options = options;
    this.connections = {};
    const req = this.getReq();
    this.params = __spreadValues({}, req && req.body.params ? req.body.params : {});
  }
  getRoute() {
    return `${this.getAppDirName()}/${this.getAppFileName()}/${this.getEnv()}/${this.getDomain()}`;
  }
  getVirtualPath() {
    return `/${this.getModule()}/${this.getAppDirName()}/${this.getAppFileName()}/${this.getEnv()}/${this.getDomain()}`;
  }
  getUser() {
    const route = this.getRoute();
    const req = this.getReq();
    if (!req)
      return null;
    const session = this.getSession();
    if (session.user && session.user[route]) {
      return session.user[route];
    }
    return null;
  }
  getSession() {
    return this.getReq().session;
  }
  getClientTimezoneOffset() {
    if (typeof this.getSession().tzOffset === "number") {
      return this.getSession().tzOffset;
    }
    return null;
  }
  getTimeOffset() {
    const clientTimezoneOffset = this.getClientTimezoneOffset();
    if (clientTimezoneOffset === null) {
      return null;
    }
    return (/* @__PURE__ */ new Date()).getTimezoneOffset() - clientTimezoneOffset;
  }
  getCookies() {
    return this.getReq().cookies || {};
  }
  getQuery() {
    var _a;
    return ((_a = this.getReq()) == null ? void 0 : _a.query) || {};
  }
  getBody() {
    var _a;
    return ((_a = this.getReq()) == null ? void 0 : _a.body) || {};
  }
  getAllParams() {
    const user = this.getUser();
    const timeOffset = this.getTimeOffset();
    return __spreadValues(__spreadValues(__spreadValues(__spreadValues(__spreadValues({}, this.getCookies()), this.getQuery()), this.params), user ? { userId: user.id, userName: user.name } : {}), timeOffset !== null ? { timeOffset } : {});
  }
  getReq() {
    return this.options.req;
  }
  getRes() {
    if (!this.options.res)
      throw new Error("getRes: no res");
    return this.options.res;
  }
  getModule() {
    if (this.options.module) {
      return this.options.module;
    }
    return this.getReq().params.module;
  }
  getDomain() {
    if (this.options.domain) {
      return this.options.domain;
    }
    if (this.getReq().params.domain) {
      return this.getReq().params.domain;
    }
    throw new Error("domain not defined");
  }
  getAppDirName() {
    if (this.options.appDirName) {
      return this.options.appDirName;
    }
    return this.getReq().params.appDirName;
  }
  getAppFileName() {
    if (this.options.appFileName) {
      return this.options.appFileName;
    }
    return this.getReq().params.appFileName;
  }
  getEnv() {
    if (this.options.env) {
      return this.options.env;
    }
    return this.getReq().params.env;
  }
  getUri() {
    return this.getReq().params["0"];
  }
  getIp() {
    return _Context.getIpFromReq(this.getReq());
  }
  getHost() {
    return this.getReq().headers.host;
  }
  getProtocol() {
    return this.getReq().headers["x-forwarded-proto"] || "http";
  }
  setVersionHeaders(platformVersion, appVersion) {
    this.getRes().setHeader("qforms-platform-version", platformVersion);
    if (appVersion) {
      this.getRes().setHeader("qforms-app-version", appVersion);
    }
  }
  getParam(name) {
    return this.params[name];
  }
  setParam(name, value) {
    this.params[name] = value;
  }
  getParams() {
    return this.params;
  }
  getAllParam(name) {
    const params = this.getAllParams();
    return params[name];
  }
  isDebugMode() {
    return this.getQuery()["debug"] === "1";
  }
  getUrl() {
    const req = this.getReq();
    const fullUrl = `${req.protocol}://${req.get("host")}${req.originalUrl}`;
    return new URL(fullUrl);
  }
  static getIpFromReq(req) {
    return req.headers["x-forwarded-for"] || req.connection.remoteAddress;
  }
  destroy() {
  }
};
__name(_Context, "Context");
let Context = _Context;


/***/ }),

/***/ "./src/backend/Converter.ts":
/*!**********************************!*\
  !*** ./src/backend/Converter.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Converter": () => (/* binding */ Converter)
/* harmony export */ });
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _JsonFile__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./JsonFile */ "./src/backend/JsonFile.ts");
/* harmony import */ var _editor_Editor_ApplicationEditor_ApplicationEditor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editor/Editor/ApplicationEditor/ApplicationEditor */ "./src/backend/editor/Editor/ApplicationEditor/ApplicationEditor.ts");
/* harmony import */ var _BaseModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BaseModel */ "./src/backend/BaseModel.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};





const BACKEND_DIR_PATH = path__WEBPACK_IMPORTED_MODULE_0___default().join(__dirname, "backend");
const _Converter = class _Converter {
  static reformat(appFilePath) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("Convert.reformat", appFilePath);
      const appFile = new _JsonFile__WEBPACK_IMPORTED_MODULE_1__.JsonFile(appFilePath);
      yield appFile.read();
      const appEditor = new _editor_Editor_ApplicationEditor_ApplicationEditor__WEBPACK_IMPORTED_MODULE_2__.ApplicationEditor(appFile, path__WEBPACK_IMPORTED_MODULE_0___default().join(BACKEND_DIR_PATH, "editor"));
      appEditor.reformat();
      yield appEditor.save();
      const pageNames = appEditor.getData().pageLinks.map((data) => _BaseModel__WEBPACK_IMPORTED_MODULE_3__.BaseModel.getName(data));
      for (const pageName of pageNames) {
        const pageEditor = yield appEditor.getPage(pageName);
        pageEditor.reformat();
        yield pageEditor.save();
      }
    });
  }
};
__name(_Converter, "Converter");
let Converter = _Converter;


/***/ }),

/***/ "./src/backend/EmptyPromise.ts":
/*!*************************************!*\
  !*** ./src/backend/EmptyPromise.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EmptyPromise": () => (/* binding */ EmptyPromise)
/* harmony export */ });
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
const _EmptyPromise = class _EmptyPromise extends Promise {
  static create() {
    let _resolve;
    let _reject;
    const emptyPromise = new _EmptyPromise((resolve, reject) => {
      _resolve = resolve;
      _reject = reject;
    });
    emptyPromise.resolve = _resolve;
    emptyPromise.reject = _reject;
    return emptyPromise;
  }
};
__name(_EmptyPromise, "EmptyPromise");
let EmptyPromise = _EmptyPromise;


/***/ }),

/***/ "./src/backend/EventLog.ts":
/*!*********************************!*\
  !*** ./src/backend/EventLog.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EventLog": () => (/* binding */ EventLog)
/* harmony export */ });
/* harmony import */ var _viewer_BkModel_BkDatabase_BkSqlDatabase_BkPostgreSqlDatabase_BkPostgreSqlDatabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./viewer/BkModel/BkDatabase/BkSqlDatabase/BkPostgreSqlDatabase/BkPostgreSqlDatabase */ "./src/backend/viewer/BkModel/BkDatabase/BkSqlDatabase/BkPostgreSqlDatabase/BkPostgreSqlDatabase.ts");
/* harmony import */ var _BkHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BkHelper */ "./src/backend/BkHelper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};


const _EventLog = class _EventLog {
  constructor(options) {
    this.pool = (options == null ? void 0 : options.db) && _viewer_BkModel_BkDatabase_BkSqlDatabase_BkPostgreSqlDatabase_BkPostgreSqlDatabase__WEBPACK_IMPORTED_MODULE_0__.BkPostgreSqlDatabase.createPool(options.db);
    this.url = options == null ? void 0 : options.url;
  }
  create(event) {
    return __async(this, null, function* () {
      if (!this.pool)
        throw new Error("no pool");
      yield _viewer_BkModel_BkDatabase_BkSqlDatabase_BkPostgreSqlDatabase_BkPostgreSqlDatabase__WEBPACK_IMPORTED_MODULE_0__.BkPostgreSqlDatabase.queryResult(
        this.pool,
        "insert into log(created, type, source, message, stack, data, ip) values ({created}, {type}, {source}, {message}, {stack}, {data}, {ip})",
        {
          created: /* @__PURE__ */ new Date(),
          type: event.type,
          source: event.source,
          message: event.message && event.message.substring(0, 255),
          stack: event.stack || null,
          data: event.data || null,
          ip: event.ip || null
        }
      );
    });
  }
  log(event) {
    return __async(this, null, function* () {
      if (this.pool) {
        yield this.create(event);
      }
      if (this.url) {
        const eventId = yield this.logToEventLog(event);
        return eventId;
      }
    });
  }
  logToEventLog(event) {
    return __async(this, null, function* () {
      if (!this.url)
        throw new Error("no url");
      try {
        const { _id } = yield _BkHelper__WEBPACK_IMPORTED_MODULE_1__.BkHelper.post(this.url, event);
        return _id;
      } catch (err) {
        return null;
      }
    });
  }
};
__name(_EventLog, "EventLog");
let EventLog = _EventLog;


/***/ }),

/***/ "./src/backend/FileSessionStore.ts":
/*!*****************************************!*\
  !*** ./src/backend/FileSessionStore.ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FileSessionStore": () => (/* binding */ FileSessionStore)
/* harmony export */ });
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var express_session__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! express-session */ "express-session");
/* harmony import */ var express_session__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(express_session__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _BkHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BkHelper */ "./src/backend/BkHelper.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });




const _FileSessionStore = class _FileSessionStore extends express_session__WEBPACK_IMPORTED_MODULE_1__.Store {
  constructor(dirPath) {
    super();
    this.dirPath = dirPath;
    this.store = {};
  }
  set(sid, session, cb) {
    (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)("FileSessionStore.set", sid, session);
    this.store[sid] = session;
    const sessionFilePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(this.dirPath, `${sid}.json`);
    const content = JSON.stringify(session, null, 4);
    _BkHelper__WEBPACK_IMPORTED_MODULE_2__.BkHelper.writeFile(sessionFilePath, content).then(() => cb(null)).catch((err) => cb(err));
  }
  get(sid, cb) {
    const session = this.store[sid];
    if (session) {
      cb(null, session);
    } else {
      const sessionFilePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(this.dirPath, `${sid}.json`);
      _BkHelper__WEBPACK_IMPORTED_MODULE_2__.BkHelper.getFileContent(sessionFilePath).then((content) => {
        if (content) {
          try {
            const session2 = this.store[sid] = JSON.parse(content);
            cb(null, session2);
          } catch (err) {
            cb(err);
          }
        } else {
          cb(null, null);
        }
      });
    }
  }
  destroy(sid, cb) {
    (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)("FileSessionStore.destroy", sid);
    delete this.store[sid];
    cb(null);
  }
};
__name(_FileSessionStore, "FileSessionStore");
let FileSessionStore = _FileSessionStore;


/***/ }),

/***/ "./src/backend/HttpError.ts":
/*!**********************************!*\
  !*** ./src/backend/HttpError.ts ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "HttpError": () => (/* binding */ HttpError)
/* harmony export */ });
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
const _HttpError = class _HttpError extends Error {
  constructor(options) {
    super(options.message);
    this.context = options.context;
    this.status = options.status;
    this.data = options.data;
  }
};
__name(_HttpError, "HttpError");
let HttpError = _HttpError;


/***/ }),

/***/ "./src/backend/JsonFile.ts":
/*!*********************************!*\
  !*** ./src/backend/JsonFile.ts ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "JsonFile": () => (/* binding */ JsonFile)
/* harmony export */ });
/* harmony import */ var _BkHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BkHelper */ "./src/backend/BkHelper.ts");
/* harmony import */ var _BaseModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BaseModel */ "./src/backend/BaseModel.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};



const _JsonFile = class _JsonFile {
  constructor(filePath, data = null) {
    this.filePath = filePath;
    this.data = data;
    this.content = null;
  }
  create() {
    return __async(this, null, function* () {
      const exists = yield _BkHelper__WEBPACK_IMPORTED_MODULE_0__.BkHelper.exists(this.filePath);
      if (exists)
        throw new Error(`File ${this.filePath} already exists`);
      if (this.data) {
      } else if (this.content) {
        this.data = JSON.parse(this.content);
      } else {
        this.data = {};
      }
      this.content = JSON.stringify(this.data, null, 4);
      yield _BkHelper__WEBPACK_IMPORTED_MODULE_0__.BkHelper.writeFile2(this.filePath, this.content);
    });
  }
  read() {
    return __async(this, null, function* () {
      const content = yield _BkHelper__WEBPACK_IMPORTED_MODULE_0__.BkHelper.readTextFile(this.filePath);
      this.content = content;
      this.data = JSON.parse(content);
    });
  }
  save() {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("JsonFile.save", this.filePath);
      this.content = JSON.stringify(this.data, null, 4);
      yield _BkHelper__WEBPACK_IMPORTED_MODULE_0__.BkHelper.writeFile2(this.filePath, this.content);
    });
  }
  getAttr(name) {
    const value = _BaseModel__WEBPACK_IMPORTED_MODULE_1__.BaseModel.getAttr(this.data, name);
    if (value === void 0)
      throw new Error(`no attribute '${name}'`);
    return value;
  }
};
__name(_JsonFile, "JsonFile");
let JsonFile = _JsonFile;


/***/ }),

/***/ "./src/backend/Links.tsx":
/*!*******************************!*\
  !*** ./src/backend/Links.tsx ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Links": () => (/* binding */ Links)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const Links = /* @__PURE__ */ __name(({ links }) => {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: links.map((link, i) => {
    if (typeof link === "string") {
      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("link", { rel: "stylesheet", href: link }, i);
    } else if (typeof link === "object") {
      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        "link",
        {
          rel: link.rel,
          href: link.href,
          crossOrigin: link.crossorigin ? "anonymous" : void 0
        },
        i
      );
    }
  }) });
}, "Links");


/***/ }),

/***/ "./src/backend/Scripts.tsx":
/*!*********************************!*\
  !*** ./src/backend/Scripts.tsx ***!
  \*********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Scripts": () => (/* binding */ Scripts)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const Scripts = /* @__PURE__ */ __name(({ scripts }) => {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, { children: scripts.map((src, i) => {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("script", { type: "text/javascript", src }, i);
  }) });
}, "Scripts");


/***/ }),

/***/ "./src/backend/Session.ts":
/*!********************************!*\
  !*** ./src/backend/Session.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Session_deleteUser": () => (/* binding */ Session_deleteUser),
/* harmony export */   "Session_save": () => (/* binding */ Session_save)
/* harmony export */ });
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
function Session_deleteUser(session, route) {
  delete session.user[route];
}
__name(Session_deleteUser, "Session_deleteUser");
function Session_save(session) {
  return new Promise((resolve, reject) => {
    session.save((err) => {
      if (err) {
        reject(err);
      } else {
        resolve();
      }
    });
  });
}
__name(Session_save, "Session_save");


/***/ }),

/***/ "./src/backend/WebSocketServer.ts":
/*!****************************************!*\
  !*** ./src/backend/WebSocketServer.ts ***!
  \****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WebSocketServer": () => (/* binding */ WebSocketServer)
/* harmony export */ });
/* harmony import */ var ws__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ws */ "ws");
/* harmony import */ var ws__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(ws__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! url */ "url");
/* harmony import */ var url__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(url__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var colors_safe__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! colors/safe */ "colors/safe");
/* harmony import */ var colors_safe__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(colors_safe__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _Context__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Context */ "./src/backend/Context.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};





const _WebSocketServer = class _WebSocketServer {
  constructor(options) {
    this.options = options;
    this.server = new (ws__WEBPACK_IMPORTED_MODULE_0___default().Server)({
      server: options.httpServer,
      path: "/"
    });
    this.server.on("error", this.onError.bind(this));
    this.server.on("connection", this.onConnection.bind(this));
  }
  onError(err) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.error)("WebSocketServer.onError", err);
    });
  }
  onConnection(webSocket) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("WebSocketServer.onConnection", webSocket.upgradeReq.url);
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.log)("wss:", colors_safe__WEBPACK_IMPORTED_MODULE_2___default().bgYellow(colors_safe__WEBPACK_IMPORTED_MODULE_2___default().black(decodeURIComponent(webSocket.upgradeReq.url))));
      const parts = url__WEBPACK_IMPORTED_MODULE_1___default().parse(webSocket.upgradeReq.url, true);
      if (!parts.query.route)
        throw new Error("no route");
      if (!parts.query.uuid)
        throw new Error("no uuid");
      webSocket.route = parts.query.route;
      webSocket.uuid = parts.query.uuid;
      webSocket.userId = parts.query.userId;
      webSocket.customFields = {
        version: parts.query.version
      };
      webSocket.on("close", this.onClose.bind(this, webSocket));
      webSocket.on("message", this.onMessage.bind(this, webSocket));
      const [appDirName, appFileName, env, domain] = parts.query.route.split("/");
      const context = new _Context__WEBPACK_IMPORTED_MODULE_3__.Context({
        module: "viewer",
        appDirName,
        appFileName,
        env,
        domain
      });
      const application = yield this.getHostApp().createApplicationIfNotExists(context);
      application.addClient(webSocket);
      webSocket.send(JSON.stringify({ type: "info", data: { hello: webSocket.uuid } }));
      context.destroy();
    });
  }
  onClose(webSocket, code, reason) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("WebSocketServer.onSocketClose", webSocket.route, webSocket.uuid, code, reason);
      this.getHostApp().getApplicationByRoute(webSocket.route).removeClient(webSocket);
    });
  }
  onMessage(webSocket, data, flags) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("WebSocketServer.onMessage", webSocket.route, webSocket.uuid, data, flags);
    });
  }
  getHostApp() {
    return this.options.hostApp;
  }
};
__name(_WebSocketServer, "WebSocketServer");
let WebSocketServer = _WebSocketServer;


/***/ }),

/***/ "./src/backend/e500.ts":
/*!*****************************!*\
  !*** ./src/backend/e500.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "e500": () => (/* binding */ e500)
/* harmony export */ });
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
function e500(status, message, stack) {
  return `<!DOCTYPE html>
<html>
<title>${status} ${message}</title>
    <body>
        <h1>${message}</h1>
        <h2>${status}</h2>
        <pre>${stack}</pre>
    </body>
</html>`;
}
__name(e500, "e500");


/***/ }),

/***/ "./src/backend/editor/Editor/ActionEditor/ActionEditor.ts":
/*!****************************************************************!*\
  !*** ./src/backend/editor/Editor/ActionEditor/ActionEditor.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ActionEditor": () => (/* binding */ ActionEditor)
/* harmony export */ });
/* harmony import */ var _Editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Editor */ "./src/backend/editor/Editor/Editor.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _ActionEditor = class _ActionEditor extends _Editor__WEBPACK_IMPORTED_MODULE_0__.Editor {
  static createData(params) {
    if (!params.name)
      throw new Error("no name");
    return {
      "@class": "Action",
      "@attributes": {
        name: params.name,
        caption: params.caption || params.name
      }
    };
  }
  getColName() {
    return "actions";
  }
};
__name(_ActionEditor, "ActionEditor");
let ActionEditor = _ActionEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/ApplicationEditor/ApplicationEditor.ts":
/*!**************************************************************************!*\
  !*** ./src/backend/editor/Editor/ApplicationEditor/ApplicationEditor.ts ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ApplicationEditor": () => (/* binding */ ApplicationEditor)
/* harmony export */ });
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Editor */ "./src/backend/editor/Editor/Editor.ts");
/* harmony import */ var _BkHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../BkHelper */ "./src/backend/BkHelper.ts");
/* harmony import */ var _viewer_BkModel_BkApplication_BkApplication__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../viewer/BkModel/BkApplication/BkApplication */ "./src/backend/viewer/BkModel/BkApplication/BkApplication.ts");
/* harmony import */ var _JsonFile__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../JsonFile */ "./src/backend/JsonFile.ts");
/* harmony import */ var _PageEditor_PageEditor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../PageEditor/PageEditor */ "./src/backend/editor/Editor/PageEditor/PageEditor.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};







const _ApplicationEditor = class _ApplicationEditor extends _Editor__WEBPACK_IMPORTED_MODULE_1__.Editor {
  constructor(appFile, editorPath) {
    super(appFile.data, void 0, editorPath);
    this.appFile = appFile;
    this.appInfo = _viewer_BkModel_BkApplication_BkApplication__WEBPACK_IMPORTED_MODULE_3__.BkApplication.makeAppInfoFromAppFile(appFile);
  }
  getAppFile() {
    this.data;
    return this.appFile;
  }
  static createData(params) {
    if (!params.name)
      throw new Error("no name");
    return {
      "@class": "Application",
      "@attributes": {
        formatVersion: "0.1",
        name: params.name,
        caption: params.caption || params.name,
        authentication: params.authentication || "false",
        user: params.user || "admin",
        password: params.password || "admin",
        lang: params.lang || "en",
        theme: params.theme || "standard",
        cssBlock: params.cssBlock !== void 0 ? params.cssBlock : "",
        viewClass: params.viewClass !== void 0 ? params.viewClass : "",
        ctrlClass: params.ctrlClass !== void 0 ? params.ctrlClass : "",
        modelClass: params.modelClass !== void 0 ? params.modelClass : ""
      },
      env: params.env ? params.env : {},
      databases: [...params.databases ? params.databases.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []],
      dataSources: [
        ...params.dataSources ? params.dataSources.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []
      ],
      actions: [...params.actions ? params.actions.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []],
      pageLinks: [...params.pageLinks ? params.pageLinks.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []]
    };
  }
  static createAppFile(appFilePath, params) {
    return __async(this, null, function* () {
      const data = _ApplicationEditor.createData(params);
      const appFile = new _JsonFile__WEBPACK_IMPORTED_MODULE_4__.JsonFile(appFilePath, data);
      yield appFile.create();
      return appFile;
    });
  }
  newPageAndPageLinkData(params) {
    return __async(this, null, function* () {
      const pagesDirPath = path__WEBPACK_IMPORTED_MODULE_0___default().join(this.appInfo.dirPath, "pages");
      const pageDirPath = path__WEBPACK_IMPORTED_MODULE_0___default().join(pagesDirPath, params.name);
      const pageFilePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(pageDirPath, params.name + ".json");
      const pageData = _PageEditor_PageEditor__WEBPACK_IMPORTED_MODULE_5__.PageEditor.createData(params);
      const pageFile = new _JsonFile__WEBPACK_IMPORTED_MODULE_4__.JsonFile(pageFilePath, pageData);
      yield pageFile.create();
      const pageLinkData = this.newItemData("PageLink", "pageLinks", params);
      return {
        page: pageData,
        pageLink: pageLinkData
      };
    });
  }
  save() {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_6__.debug)("ApplicationEditor.save");
      yield this.appFile.save();
    });
  }
  removePageFile(name) {
    return __async(this, null, function* () {
      const pageLinkEditor = this.createItemEditor("pageLinks", name);
      const pageFilePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(this.appInfo.dirPath, pageLinkEditor.getAttr("fileName"));
      yield _BkHelper__WEBPACK_IMPORTED_MODULE_2__.BkHelper.fsUnlink(pageFilePath);
    });
  }
  createPageEditor(relFilePath) {
    return __async(this, null, function* () {
      const pageFilePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(this.appInfo.dirPath, relFilePath);
      const pageFile = new _JsonFile__WEBPACK_IMPORTED_MODULE_4__.JsonFile(pageFilePath);
      yield pageFile.read();
      return new _PageEditor_PageEditor__WEBPACK_IMPORTED_MODULE_5__.PageEditor(this, pageFile, this.getEditorPath());
    });
  }
  getPage(name) {
    return __async(this, null, function* () {
      const pageLinkEditor = this.createItemEditor("pageLinks", name);
      const relFilePath = pageLinkEditor.getAttr("fileName");
      return yield this.createPageEditor(relFilePath);
    });
  }
  createJs(params) {
    return __async(this, null, function* () {
      const customJsFilePath = yield this.getCustomFilePath("js");
      const templateFilePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(
        this.getEditorPath(),
        "Editor/ApplicationEditor/Application.js.ejs"
      );
      const js = yield this.createFileByParams(customJsFilePath, templateFilePath, {
        application: this.getName(),
        _class: this.constructor.name.replace("Editor", "")
      });
      return js;
    });
  }
  createModelBackJs(params) {
    return __async(this, null, function* () {
      const filePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(yield this.getCustomDirPath(), "Model.back.ts");
      const templateFilePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(
        this.getEditorPath(),
        "Editor/ApplicationEditor/Model.back.ts.ejs"
      );
      const js = yield this.createFileByParams(filePath, templateFilePath, {
        name: this.getName()
      });
      return js;
    });
  }
  getCustomDirPath() {
    return __async(this, null, function* () {
      return this.appInfo.dirPath;
    });
  }
  reformat() {
    this.data = this.appFile.data = _ApplicationEditor.createData(__spreadProps(__spreadValues({}, this.attributes()), {
      env: this.data.env,
      databases: this.data.databases,
      dataSources: this.data.dataSources,
      actions: this.data.actions,
      pageLinks: this.data.pageLinks
    }));
  }
};
__name(_ApplicationEditor, "ApplicationEditor");
let ApplicationEditor = _ApplicationEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/ColumnEditor/ColumnEditor.ts":
/*!****************************************************************!*\
  !*** ./src/backend/editor/Editor/ColumnEditor/ColumnEditor.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ColumnEditor": () => (/* binding */ ColumnEditor)
/* harmony export */ });
/* harmony import */ var _Editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Editor */ "./src/backend/editor/Editor/Editor.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _ColumnEditor = class _ColumnEditor extends _Editor__WEBPACK_IMPORTED_MODULE_0__.Editor {
  static createData(params) {
    if (!params.name)
      throw new Error("no name");
    if (params.key !== void 0 && typeof params.key !== "string") {
      throw new Error("key not string");
    }
    if (params.auto !== void 0 && typeof params.auto !== "string") {
      throw new Error("auto not string");
    }
    if (params.nullable !== void 0 && typeof params.nullable !== "string") {
      throw new Error("nullable not string");
    }
    return {
      "@class": "Column",
      "@attributes": {
        name: params.name,
        caption: params.caption || params.name,
        type: params.type || "",
        dbType: params.dbType || "",
        key: params.key || "false",
        auto: params.auto || "false",
        nullable: params.nullable || "true"
      }
    };
  }
  getColName() {
    return "columns";
  }
};
__name(_ColumnEditor, "ColumnEditor");
let ColumnEditor = _ColumnEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/DataSourceEditor/DataSourceEditor.ts":
/*!************************************************************************!*\
  !*** ./src/backend/editor/Editor/DataSourceEditor/DataSourceEditor.ts ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DataSourceEditor": () => (/* binding */ DataSourceEditor)
/* harmony export */ });
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ApplicationEditor_ApplicationEditor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ApplicationEditor/ApplicationEditor */ "./src/backend/editor/Editor/ApplicationEditor/ApplicationEditor.ts");
/* harmony import */ var _PageEditor_PageEditor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../PageEditor/PageEditor */ "./src/backend/editor/Editor/PageEditor/PageEditor.ts");
/* harmony import */ var _Editor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Editor */ "./src/backend/editor/Editor/Editor.ts");
var __defProp = Object.defineProperty;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};




const _DataSourceEditor = class _DataSourceEditor extends _Editor__WEBPACK_IMPORTED_MODULE_3__.Editor {
  static createData(params) {
    return {
      "@class": "DataSource",
      "@attributes": __spreadValues({}, _DataSourceEditor.createAttributes(params)),
      keyColumns: [
        ...params.keyColumns ? params.keyColumns.map(_Editor__WEBPACK_IMPORTED_MODULE_3__.Editor.createItemData) : []
      ]
    };
  }
  static createAttributes(params) {
    if (!params.name)
      throw new Error("no name");
    return {
      name: params.name,
      database: params.database || "default",
      table: params.table || "",
      modelClass: params.modelClass !== void 0 ? params.modelClass : ""
    };
  }
  getCollectionDirPath() {
    return __async(this, null, function* () {
      const customDirPath = yield this.getParent().getCustomDirPath();
      return path__WEBPACK_IMPORTED_MODULE_0___default().join(customDirPath, "dataSources");
    });
  }
  createModelBackJs(params) {
    return __async(this, null, function* () {
      const filePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(yield this.getCustomDirPath(), "Model.back.ts");
      const templateFilePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(
        this.getEditorPath(),
        "Editor/DataSourceEditor/Model.back.ts.ejs"
      );
      const js = yield this.createFileByParams(filePath, templateFilePath, {
        _class: this.getClassName(),
        page: params.page ? params.page : "",
        form: params.form ? params.form : "",
        dataSource: this.getName()
      });
      return js;
    });
  }
  getColName() {
    return "dataSources";
  }
  save() {
    return __async(this, null, function* () {
      if (this.getParent() instanceof _ApplicationEditor_ApplicationEditor__WEBPACK_IMPORTED_MODULE_1__.ApplicationEditor) {
        yield this.getParent().getAppFile().save();
      } else if (this.getParent() instanceof _PageEditor_PageEditor__WEBPACK_IMPORTED_MODULE_2__.PageEditor) {
        yield this.getParent().pageFile.save();
      } else {
        yield this.getParent().getParent().pageFile.save();
      }
    });
  }
};
__name(_DataSourceEditor, "DataSourceEditor");
let DataSourceEditor = _DataSourceEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/DataSourceEditor/NoSqlDataSourceEditor/NoSqlDataSourceEditor.ts":
/*!***************************************************************************************************!*\
  !*** ./src/backend/editor/Editor/DataSourceEditor/NoSqlDataSourceEditor/NoSqlDataSourceEditor.ts ***!
  \***************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NoSqlDataSourceEditor": () => (/* binding */ NoSqlDataSourceEditor)
/* harmony export */ });
/* harmony import */ var _DataSourceEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../DataSourceEditor */ "./src/backend/editor/Editor/DataSourceEditor/DataSourceEditor.ts");
/* harmony import */ var _Editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Editor */ "./src/backend/editor/Editor/Editor.ts");
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _NoSqlDataSourceEditor = class _NoSqlDataSourceEditor extends _DataSourceEditor__WEBPACK_IMPORTED_MODULE_0__.DataSourceEditor {
  static createData(params) {
    return {
      "@class": "NoSqlDataSource",
      "@attributes": __spreadProps(__spreadValues({}, _DataSourceEditor__WEBPACK_IMPORTED_MODULE_0__.DataSourceEditor.createAttributes(params)), {
        selectQuery: params.selectQuery ? params.selectQuery : "",
        countQuery: params.countQuery ? params.countQuery : "",
        limit: params.limit ? params.limit : ""
      }),
      keyColumns: [
        ...params.keyColumns ? params.keyColumns.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []
      ]
    };
  }
};
__name(_NoSqlDataSourceEditor, "NoSqlDataSourceEditor");
let NoSqlDataSourceEditor = _NoSqlDataSourceEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/DataSourceEditor/SqlDataSourceEditor/SqlDataSourceEditor.ts":
/*!***********************************************************************************************!*\
  !*** ./src/backend/editor/Editor/DataSourceEditor/SqlDataSourceEditor/SqlDataSourceEditor.ts ***!
  \***********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SqlDataSourceEditor": () => (/* binding */ SqlDataSourceEditor)
/* harmony export */ });
/* harmony import */ var _DataSourceEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../DataSourceEditor */ "./src/backend/editor/Editor/DataSourceEditor/DataSourceEditor.ts");
/* harmony import */ var _Editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Editor */ "./src/backend/editor/Editor/Editor.ts");
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _SqlDataSourceEditor = class _SqlDataSourceEditor extends _DataSourceEditor__WEBPACK_IMPORTED_MODULE_0__.DataSourceEditor {
  static createData(params) {
    return {
      "@class": "SqlDataSource",
      "@attributes": __spreadProps(__spreadValues({}, _DataSourceEditor__WEBPACK_IMPORTED_MODULE_0__.DataSourceEditor.createAttributes(params)), {
        singleQuery: params.singleQuery ? params.singleQuery : "",
        multipleQuery: params.multipleQuery ? params.multipleQuery : "",
        countQuery: params.countQuery ? params.countQuery : "",
        limit: params.limit ? params.limit : ""
      }),
      keyColumns: [
        ...params.keyColumns ? params.keyColumns.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []
      ]
    };
  }
};
__name(_SqlDataSourceEditor, "SqlDataSourceEditor");
let SqlDataSourceEditor = _SqlDataSourceEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/DatabaseEditor/DatabaseEditor.ts":
/*!********************************************************************!*\
  !*** ./src/backend/editor/Editor/DatabaseEditor/DatabaseEditor.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DatabaseEditor": () => (/* binding */ DatabaseEditor)
/* harmony export */ });
/* harmony import */ var _Editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Editor */ "./src/backend/editor/Editor/Editor.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _DatabaseEditor = class _DatabaseEditor extends _Editor__WEBPACK_IMPORTED_MODULE_0__.Editor {
  static createData(params) {
    throw new Error("DatabaseEditor.createData not implemented");
  }
  static createAttributes(params) {
    if (!params.name)
      throw new Error("no name");
    return {
      name: params.name,
      modelClass: params.modelClass !== void 0 ? params.modelClass : ""
    };
  }
  getColName() {
    return "databases";
  }
};
__name(_DatabaseEditor, "DatabaseEditor");
let DatabaseEditor = _DatabaseEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/DatabaseEditor/MongoDbDatabaseEditor/MongoDbDatabaseEditor.ts":
/*!*************************************************************************************************!*\
  !*** ./src/backend/editor/Editor/DatabaseEditor/MongoDbDatabaseEditor/MongoDbDatabaseEditor.ts ***!
  \*************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MongoDbDatabaseEditor": () => (/* binding */ MongoDbDatabaseEditor)
/* harmony export */ });
/* harmony import */ var _DatabaseEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../DatabaseEditor */ "./src/backend/editor/Editor/DatabaseEditor/DatabaseEditor.ts");
/* harmony import */ var _Editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Editor */ "./src/backend/editor/Editor/Editor.ts");
var __defProp = Object.defineProperty;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _MongoDbDatabaseEditor = class _MongoDbDatabaseEditor extends _DatabaseEditor__WEBPACK_IMPORTED_MODULE_0__.DatabaseEditor {
  static createData(params) {
    if (!params.name)
      throw new Error("no name");
    return {
      "@class": "MongoDbDatabase",
      "@attributes": __spreadValues({}, _DatabaseEditor__WEBPACK_IMPORTED_MODULE_0__.DatabaseEditor.createAttributes(params)),
      params: [...params.params ? params.params.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []],
      tables: [...params.tables ? params.tables.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []]
    };
  }
};
__name(_MongoDbDatabaseEditor, "MongoDbDatabaseEditor");
let MongoDbDatabaseEditor = _MongoDbDatabaseEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/DatabaseEditor/MySqlDatabaseEditor/MySqlDatabaseEditor.ts":
/*!*********************************************************************************************!*\
  !*** ./src/backend/editor/Editor/DatabaseEditor/MySqlDatabaseEditor/MySqlDatabaseEditor.ts ***!
  \*********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MySqlDatabaseEditor": () => (/* binding */ MySqlDatabaseEditor)
/* harmony export */ });
/* harmony import */ var _DatabaseEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../DatabaseEditor */ "./src/backend/editor/Editor/DatabaseEditor/DatabaseEditor.ts");
/* harmony import */ var _Editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Editor */ "./src/backend/editor/Editor/Editor.ts");
var __defProp = Object.defineProperty;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _MySqlDatabaseEditor = class _MySqlDatabaseEditor extends _DatabaseEditor__WEBPACK_IMPORTED_MODULE_0__.DatabaseEditor {
  static createData(params) {
    if (!params.name)
      throw new Error("no name");
    return {
      "@class": "MySqlDatabase",
      "@attributes": __spreadValues({}, _DatabaseEditor__WEBPACK_IMPORTED_MODULE_0__.DatabaseEditor.createAttributes(params)),
      params: [...params.params ? params.params.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []],
      tables: [...params.tables ? params.tables.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []]
    };
  }
};
__name(_MySqlDatabaseEditor, "MySqlDatabaseEditor");
let MySqlDatabaseEditor = _MySqlDatabaseEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/DatabaseEditor/PostgreSqlDatabaseEditor/PostgreSqlDatabaseEditor.ts":
/*!*******************************************************************************************************!*\
  !*** ./src/backend/editor/Editor/DatabaseEditor/PostgreSqlDatabaseEditor/PostgreSqlDatabaseEditor.ts ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PostgreSqlDatabaseEditor": () => (/* binding */ PostgreSqlDatabaseEditor)
/* harmony export */ });
/* harmony import */ var _DatabaseEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../DatabaseEditor */ "./src/backend/editor/Editor/DatabaseEditor/DatabaseEditor.ts");
/* harmony import */ var _Editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Editor */ "./src/backend/editor/Editor/Editor.ts");
var __defProp = Object.defineProperty;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _PostgreSqlDatabaseEditor = class _PostgreSqlDatabaseEditor extends _DatabaseEditor__WEBPACK_IMPORTED_MODULE_0__.DatabaseEditor {
  static createData(params) {
    if (!params.name)
      throw new Error("no name");
    return {
      "@class": "PostgreSqlDatabase",
      "@attributes": __spreadValues({}, _DatabaseEditor__WEBPACK_IMPORTED_MODULE_0__.DatabaseEditor.createAttributes(params)),
      params: [...params.params ? params.params.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []],
      tables: [...params.tables ? params.tables.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []]
    };
  }
};
__name(_PostgreSqlDatabaseEditor, "PostgreSqlDatabaseEditor");
let PostgreSqlDatabaseEditor = _PostgreSqlDatabaseEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/Editor.ts":
/*!*********************************************!*\
  !*** ./src/backend/editor/Editor/Editor.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Editor": () => (/* binding */ Editor)
/* harmony export */ });
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _BaseModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../BaseModel */ "./src/backend/BaseModel.ts");
/* harmony import */ var _BkHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../BkHelper */ "./src/backend/BkHelper.ts");
/* harmony import */ var _backend__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../backend */ "./src/backend/index.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

const ejs = __webpack_require__(/*! ejs */ "ejs");




const _Editor = class _Editor extends _BaseModel__WEBPACK_IMPORTED_MODULE_1__.BaseModel {
  constructor(data, parent, editorPath) {
    super(data, parent);
    this.editorPath = editorPath;
  }
  getEditorPath() {
    if (!this.editorPath)
      throw new Error(`${this.constructor.name}: no editorPath`);
    return this.editorPath;
  }
  /* async createFileByReplace(newFilePath, templateFilePath, replaceFrom, replaceTo, emptyTemplate) {
      debug('Editor.createFileByReplace');
      emptyTemplate = emptyTemplate || '';
      const exists = await BkHelper.exists(newFilePath);
      if (exists) {
          throw new Error(`File ${path.basename(newFilePath)} already exist.`);
      }
      const template = await BkHelper.readTextFile(templateFilePath);
      let text = template.replace(new RegExp(replaceFrom, 'g'), replaceTo);
      if (text === '') {
          text = emptyTemplate;
      }
      await BkHelper.writeFile2(newFilePath, text);
      return text;
  } */
  createFileByParams(newFilePath, templateFilePath, params) {
    return __async(this, null, function* () {
      const exists = yield _BkHelper__WEBPACK_IMPORTED_MODULE_2__.BkHelper.exists(newFilePath);
      if (exists) {
        throw new Error(`File ${path__WEBPACK_IMPORTED_MODULE_0___default().basename(newFilePath)} already exists.`);
      }
      const template = yield _BkHelper__WEBPACK_IMPORTED_MODULE_2__.BkHelper.readTextFile(templateFilePath);
      const content = ejs.render(template, params);
      yield _BkHelper__WEBPACK_IMPORTED_MODULE_2__.BkHelper.writeFile2(newFilePath, content);
      return content;
    });
  }
  /* getViewName() {
      return this.constructor.name.replace('Editor', '') + 'View';
  } */
  getFile(filePath) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("Editor.getFile", filePath);
      const exists = yield _BkHelper__WEBPACK_IMPORTED_MODULE_2__.BkHelper.exists(filePath);
      if (exists) {
        return yield _BkHelper__WEBPACK_IMPORTED_MODULE_2__.BkHelper.readTextFile(filePath);
      }
    });
  }
  saveFile(filePath, content) {
    return __async(this, null, function* () {
      const exists = yield _BkHelper__WEBPACK_IMPORTED_MODULE_2__.BkHelper.exists(filePath);
      if (!exists) {
        throw new Error(`File {path.basename(filePath)} doesn't exist.`);
      }
      yield _BkHelper__WEBPACK_IMPORTED_MODULE_2__.BkHelper.writeFile2(filePath, content);
    });
  }
  getCustomFile(ext) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("Editor.getCustomFile", ext);
      const customFilePath = yield this.getCustomFilePath(ext);
      return this.getFile(customFilePath);
    });
  }
  saveCustomFile(ext, text) {
    return __async(this, null, function* () {
      const customFilePath = yield this.getCustomFilePath(ext);
      yield this.saveFile(customFilePath, text);
    });
  }
  /* moveDataSourceUp(name) {
      this.moveDataColItem('dataSources', name, -1);
  } */
  /* moveDataSourceDown(name) {
      this.moveDataColItem('dataSources', name, 1);
  } */
  /* moveActionUp(name) {
      this.moveDataColItem('actions', name, -1);
  } */
  /* moveActionDown(name) {
      this.moveDataColItem('actions', name, 1);
  } */
  getCustomFilePath(ext) {
    return __async(this, null, function* () {
      const customDirPath = yield this.getCustomDirPath();
      if (ext === "js") {
        return path__WEBPACK_IMPORTED_MODULE_0___default().join(customDirPath, "Controller.front.ts");
      } else if (ext === "jsx") {
        return path__WEBPACK_IMPORTED_MODULE_0___default().join(customDirPath, "View.tsx");
      } else if (ext === "less") {
        return path__WEBPACK_IMPORTED_MODULE_0___default().join(customDirPath, "View.less");
      }
      return path__WEBPACK_IMPORTED_MODULE_0___default().join(customDirPath, this.getName() + "." + ext);
    });
  }
  /* createDataSourceEditor(name) {
      const data = this.getColItemData('dataSources', name);
      const className = BaseModel.getClassName(data);
      const DataSourceClass = backend[`${className}Editor`];
      return new DataSourceClass(data, this);
  } */
  moveDataColItem(colName, name, offset) {
    _BkHelper__WEBPACK_IMPORTED_MODULE_2__.BkHelper.moveArrItem(this.getCol(colName), this.getColItemData(colName, name), offset);
  }
  /* async newActionData(params) {
      if (!params.name) throw new Error('no name');
      const name = params.name;
      if (this.getColItemData('actions', name)) {
          throw new Error(`action ${name} already exists`);
      }
      const data = backend.ActionEditor.createData(params);
      this.addModelData('actions', data);
      return data;
  } */
  /* createActionEditor(name) {
      return new backend.ActionEditor(this.getColItemData('actions', name), this);
  } */
  setColData(colName, newData) {
    return this.getParent().replaceDataColItem(colName, this.data, newData);
  }
  createItemEditor(colName, itemName) {
    const data = this.getColItemData(colName, itemName);
    const className = _BaseModel__WEBPACK_IMPORTED_MODULE_1__.BaseModel.getClassName(data);
    const Class = _backend__WEBPACK_IMPORTED_MODULE_3__[`${className}Editor`];
    return new Class(data, this, this.editorPath);
  }
  getCustomDirPath() {
    return __async(this, null, function* () {
      const collectionDirPath = yield this.getCollectionDirPath();
      return path__WEBPACK_IMPORTED_MODULE_0___default().join(collectionDirPath, this.getName());
    });
  }
  getCollectionDirPath() {
    return __async(this, null, function* () {
      throw new Error("Editor.getCollectionDirPath not implemented");
    });
  }
  moveItemUp(colName, itemName) {
    this.moveDataColItem(colName, itemName, -1);
  }
  moveItemDown(colName, itemName) {
    this.moveDataColItem(colName, itemName, 1);
  }
  newItemData(className, colName, params) {
    (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("Editor.newItemData", className, colName, params);
    const { name } = params;
    if (!name)
      throw new Error("no name");
    const editorClassName = `${className}Editor`;
    const Class = _backend__WEBPACK_IMPORTED_MODULE_3__[editorClassName];
    if (!Class)
      throw new Error(`no class ${editorClassName}`);
    const data = Class.createData(params);
    this.addModelData(colName, data);
    return data;
  }
  getColName() {
    throw new Error(`${this.constructor.name}.getColName not implemented`);
  }
  static createItemData(data) {
    try {
      const params = data["@attributes"] ? __spreadValues(__spreadValues({
        class: _BaseModel__WEBPACK_IMPORTED_MODULE_1__.BaseModel.getClassName(data)
      }, _BaseModel__WEBPACK_IMPORTED_MODULE_1__.BaseModel.attributes(data)), data) : data;
      if (!params.class) {
        const name = data["@attributes"] ? _BaseModel__WEBPACK_IMPORTED_MODULE_1__.BaseModel.getName(data) : data.name;
        throw new Error(`${name}: no class in data`);
      }
      return _backend__WEBPACK_IMPORTED_MODULE_3__[`${params.class}Editor`].createData(params);
    } catch (err) {
      const name = data["@attributes"] ? _BaseModel__WEBPACK_IMPORTED_MODULE_1__.BaseModel.getName(data) : data.name;
      err.message = `${name}: ${err.message}`;
      throw err;
    }
  }
};
__name(_Editor, "Editor");
let Editor = _Editor;


/***/ }),

/***/ "./src/backend/editor/Editor/FieldEditor/CheckBoxFieldEditor/CheckBoxFieldEditor.ts":
/*!******************************************************************************************!*\
  !*** ./src/backend/editor/Editor/FieldEditor/CheckBoxFieldEditor/CheckBoxFieldEditor.ts ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CheckBoxFieldEditor": () => (/* binding */ CheckBoxFieldEditor)
/* harmony export */ });
/* harmony import */ var _FieldEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FieldEditor */ "./src/backend/editor/Editor/FieldEditor/FieldEditor.ts");
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _CheckBoxFieldEditor = class _CheckBoxFieldEditor extends _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor {
  static createData(params) {
    return {
      "@class": "CheckBoxField",
      "@attributes": __spreadProps(__spreadValues({}, _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor.createAttributes(params)), {
        readOnly: params.readOnly ? params.readOnly : "false",
        notNull: params.notNull ? params.notNull : "false"
      })
    };
  }
};
__name(_CheckBoxFieldEditor, "CheckBoxFieldEditor");
let CheckBoxFieldEditor = _CheckBoxFieldEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/FieldEditor/CheckBoxListFieldEditor/CheckBoxListFieldEditor.ts":
/*!**************************************************************************************************!*\
  !*** ./src/backend/editor/Editor/FieldEditor/CheckBoxListFieldEditor/CheckBoxListFieldEditor.ts ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CheckBoxListFieldEditor": () => (/* binding */ CheckBoxListFieldEditor)
/* harmony export */ });
/* harmony import */ var _FieldEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FieldEditor */ "./src/backend/editor/Editor/FieldEditor/FieldEditor.ts");
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _CheckBoxListFieldEditor = class _CheckBoxListFieldEditor extends _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor {
  static createData(params) {
    return {
      "@class": "CheckBoxListField",
      "@attributes": __spreadProps(__spreadValues({}, _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor.createAttributes(params)), {
        readOnly: params.readOnly ? params.readOnly : "false",
        notNull: params.notNull ? params.notNull : "false",
        dataSourceName: params.dataSourceName ? params.dataSourceName : "",
        valueColumn: params.valueColumn ? params.valueColumn : "",
        displayColumn: params.displayColumn ? params.displayColumn : ""
      })
    };
  }
};
__name(_CheckBoxListFieldEditor, "CheckBoxListFieldEditor");
let CheckBoxListFieldEditor = _CheckBoxListFieldEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/FieldEditor/ComboBoxFieldEditor/ComboBoxFieldEditor.ts":
/*!******************************************************************************************!*\
  !*** ./src/backend/editor/Editor/FieldEditor/ComboBoxFieldEditor/ComboBoxFieldEditor.ts ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ComboBoxFieldEditor": () => (/* binding */ ComboBoxFieldEditor)
/* harmony export */ });
/* harmony import */ var _FieldEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FieldEditor */ "./src/backend/editor/Editor/FieldEditor/FieldEditor.ts");
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _ComboBoxFieldEditor = class _ComboBoxFieldEditor extends _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor {
  static createData(params) {
    return {
      "@class": "ComboBoxField",
      "@attributes": __spreadProps(__spreadValues({}, _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor.createAttributes(params)), {
        readOnly: params.readOnly ? params.readOnly : "false",
        notNull: params.notNull ? params.notNull : "false",
        placeholder: params.placeholder ? params.placeholder : "",
        dataSourceName: params.dataSourceName ? params.dataSourceName : "",
        valueColumn: params.valueColumn ? params.valueColumn : "",
        displayColumn: params.displayColumn ? params.displayColumn : "",
        newRowMode: params.newRowMode ? params.newRowMode : "disabled",
        itemEditPage: params.itemEditPage ? params.itemEditPage : "",
        itemCreatePage: params.itemCreatePage ? params.itemCreatePage : "",
        itemCreateForm: params.itemCreateForm ? params.itemCreateForm : "",
        itemSelectPage: params.itemSelectPage ? params.itemSelectPage : ""
      })
    };
  }
};
__name(_ComboBoxFieldEditor, "ComboBoxFieldEditor");
let ComboBoxFieldEditor = _ComboBoxFieldEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/FieldEditor/DateFieldEditor/DateFieldEditor.ts":
/*!**********************************************************************************!*\
  !*** ./src/backend/editor/Editor/FieldEditor/DateFieldEditor/DateFieldEditor.ts ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DateFieldEditor": () => (/* binding */ DateFieldEditor)
/* harmony export */ });
/* harmony import */ var _FieldEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FieldEditor */ "./src/backend/editor/Editor/FieldEditor/FieldEditor.ts");
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _DateFieldEditor = class _DateFieldEditor extends _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor {
  static createData(params) {
    return {
      "@class": "DateField",
      "@attributes": __spreadProps(__spreadValues({}, _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor.createAttributes(params)), {
        readOnly: params.readOnly ? params.readOnly : "false",
        notNull: params.notNull ? params.notNull : "false",
        format: params.format ? params.format : "{DD}.{MM}.{YYYY} {hh}:{mm}:{ss}",
        timezone: params.timezone ? params.timezone : "true",
        placeholder: params.placeholder ? params.placeholder : "",
        validateOnChange: params.validateOnChange ? params.validateOnChange : "true",
        validateOnBlur: params.validateOnBlur ? params.validateOnBlur : "false"
      })
    };
  }
};
__name(_DateFieldEditor, "DateFieldEditor");
let DateFieldEditor = _DateFieldEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/FieldEditor/DateTimeFieldEditor/DateTimeFieldEditor.ts":
/*!******************************************************************************************!*\
  !*** ./src/backend/editor/Editor/FieldEditor/DateTimeFieldEditor/DateTimeFieldEditor.ts ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DateTimeFieldEditor": () => (/* binding */ DateTimeFieldEditor)
/* harmony export */ });
/* harmony import */ var _FieldEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FieldEditor */ "./src/backend/editor/Editor/FieldEditor/FieldEditor.ts");
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _DateTimeFieldEditor = class _DateTimeFieldEditor extends _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor {
  static createData(params) {
    return {
      "@class": "DateTimeField",
      "@attributes": __spreadProps(__spreadValues({}, _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor.createAttributes(params)), {
        readOnly: params.readOnly ? params.readOnly : "false",
        notNull: params.notNull ? params.notNull : "false",
        format: params.format ? params.format : "{DD}.{MM}.{YYYY}",
        timezone: params.timezone ? params.timezone : "true",
        placeholder: params.placeholder ? params.placeholder : "",
        validateOnChange: params.validateOnChange ? params.validateOnChange : "true",
        validateOnBlur: params.validateOnBlur ? params.validateOnBlur : "false"
      })
    };
  }
};
__name(_DateTimeFieldEditor, "DateTimeFieldEditor");
let DateTimeFieldEditor = _DateTimeFieldEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/FieldEditor/FieldEditor.ts":
/*!**************************************************************!*\
  !*** ./src/backend/editor/Editor/FieldEditor/FieldEditor.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FieldEditor": () => (/* binding */ FieldEditor)
/* harmony export */ });
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Editor */ "./src/backend/editor/Editor/Editor.ts");
/* harmony import */ var _backend__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../backend */ "./src/backend/index.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};



const _FieldEditor = class _FieldEditor extends _Editor__WEBPACK_IMPORTED_MODULE_1__.Editor {
  static createAttributes(params) {
    if (!params.name)
      throw new Error("no name");
    return {
      name: params.name,
      caption: params.caption !== void 0 ? params.caption : params.name,
      column: params.column !== void 0 ? params.column : params.name,
      defaultValue: params.defaultValue !== void 0 ? params.defaultValue : "",
      value: params.value !== void 0 ? params.value : "",
      param: params.param !== void 0 ? params.param : "false",
      visible: params.visible !== void 0 ? params.visible : "true",
      type: params.type !== void 0 ? params.type : "",
      width: params.width !== void 0 ? params.width : "",
      cssBlock: params.cssBlock !== void 0 ? params.cssBlock : "",
      viewClass: params.viewClass !== void 0 ? params.viewClass : "",
      ctrlClass: params.ctrlClass !== void 0 ? params.ctrlClass : "",
      autoFocus: params.autoFocus !== void 0 ? params.autoFocus : "false"
    };
  }
  changeClass(newClassName) {
    const newData = _backend__WEBPACK_IMPORTED_MODULE_2__[`${newClassName}Editor`].createData(this.attributes());
    this.setColData(this.getColName(), newData);
    return newData;
  }
  createJs(params) {
    return __async(this, null, function* () {
      const templateFilePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(this.getEditorPath(), "Editor/FieldEditor/Field.js.ejs");
      const customJsFilePath = yield this.getCustomFilePath("js");
      const js = yield this.createFileByParams(customJsFilePath, templateFilePath, {
        page: this.getParent().getParent().getName(),
        form: this.getParent().getName(),
        field: this.getName(),
        formClass: this.getParent().constructor.name.replace("Editor", ""),
        _class: this.constructor.name.replace("Editor", "")
      });
      return js;
    });
  }
  createJsx(params) {
    return __async(this, null, function* () {
      const templateFilePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(this.getEditorPath(), "Editor/FieldEditor/View.jsx.ejs");
      const customJsxFilePath = yield this.getCustomFilePath("jsx");
      const jsx = yield this.createFileByParams(customJsxFilePath, templateFilePath, {
        page: this.getParent().getParent().getName(),
        form: this.getParent().getName(),
        field: this.getName(),
        formClass: this.getParent().constructor.name.replace("Editor", ""),
        _class: this.constructor.name.replace("Editor", "")
      });
      return jsx;
    });
  }
  createLess(params) {
    return __async(this, null, function* () {
      const templateFilePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(
        this.getEditorPath(),
        "Editor/FieldEditor/View.less.ejs"
      );
      const customLessFilePath = yield this.getCustomFilePath("less");
      const less = yield this.createFileByParams(customLessFilePath, templateFilePath, {
        page: this.getParent().getParent().getName(),
        form: this.getParent().getName(),
        field: this.getName(),
        formClass: this.getParent().constructor.name.replace("Editor", ""),
        _class: this.constructor.name.replace("Editor", "")
      });
      return less;
    });
  }
  getCollectionDirPath() {
    return __async(this, null, function* () {
      const customDirPath = yield this.getParent().getCustomDirPath();
      const dirPath = path__WEBPACK_IMPORTED_MODULE_0___default().join(customDirPath, "fields");
      return dirPath;
    });
  }
  getColName() {
    return "fields";
  }
};
__name(_FieldEditor, "FieldEditor");
let FieldEditor = _FieldEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/FieldEditor/FileFieldEditor/FileFieldEditor.ts":
/*!**********************************************************************************!*\
  !*** ./src/backend/editor/Editor/FieldEditor/FileFieldEditor/FileFieldEditor.ts ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FileFieldEditor": () => (/* binding */ FileFieldEditor)
/* harmony export */ });
/* harmony import */ var _FieldEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FieldEditor */ "./src/backend/editor/Editor/FieldEditor/FieldEditor.ts");
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _FileFieldEditor = class _FileFieldEditor extends _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor {
  static createData(params) {
    return {
      "@class": "FileField",
      "@attributes": __spreadProps(__spreadValues({}, _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor.createAttributes(params)), {
        readOnly: params.readOnly ? params.readOnly : "false",
        notNull: params.notNull ? params.notNull : "false"
      })
    };
  }
};
__name(_FileFieldEditor, "FileFieldEditor");
let FileFieldEditor = _FileFieldEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/FieldEditor/ImageFieldEditor/ImageFieldEditor.ts":
/*!************************************************************************************!*\
  !*** ./src/backend/editor/Editor/FieldEditor/ImageFieldEditor/ImageFieldEditor.ts ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ImageFieldEditor": () => (/* binding */ ImageFieldEditor)
/* harmony export */ });
/* harmony import */ var _FieldEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FieldEditor */ "./src/backend/editor/Editor/FieldEditor/FieldEditor.ts");
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _ImageFieldEditor = class _ImageFieldEditor extends _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor {
  static createData(params) {
    return {
      "@class": "ImageField",
      "@attributes": __spreadProps(__spreadValues({}, _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor.createAttributes(params)), {
        readOnly: params.readOnly ? params.readOnly : "false",
        notNull: params.notNull ? params.notNull : "false"
      })
    };
  }
};
__name(_ImageFieldEditor, "ImageFieldEditor");
let ImageFieldEditor = _ImageFieldEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/FieldEditor/LabelFieldEditor/LabelFieldEditor.ts":
/*!************************************************************************************!*\
  !*** ./src/backend/editor/Editor/FieldEditor/LabelFieldEditor/LabelFieldEditor.ts ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LabelFieldEditor": () => (/* binding */ LabelFieldEditor)
/* harmony export */ });
/* harmony import */ var _FieldEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FieldEditor */ "./src/backend/editor/Editor/FieldEditor/FieldEditor.ts");
var __defProp = Object.defineProperty;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _LabelFieldEditor = class _LabelFieldEditor extends _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor {
  static createData(params) {
    return {
      "@class": "LabelField",
      "@attributes": __spreadValues({}, _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor.createAttributes(params))
    };
  }
};
__name(_LabelFieldEditor, "LabelFieldEditor");
let LabelFieldEditor = _LabelFieldEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/FieldEditor/LinkFieldEditor/LinkFieldEditor.ts":
/*!**********************************************************************************!*\
  !*** ./src/backend/editor/Editor/FieldEditor/LinkFieldEditor/LinkFieldEditor.ts ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LinkFieldEditor": () => (/* binding */ LinkFieldEditor)
/* harmony export */ });
/* harmony import */ var _FieldEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FieldEditor */ "./src/backend/editor/Editor/FieldEditor/FieldEditor.ts");
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _LinkFieldEditor = class _LinkFieldEditor extends _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor {
  static createData(params) {
    return {
      "@class": "LinkField",
      "@attributes": __spreadProps(__spreadValues({}, _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor.createAttributes(params)), {
        notNull: params.notNull ? params.notNull : "false",
        page: params.page ? params.page : "",
        displayColumn: params.displayColumn ? params.displayColumn : ""
      })
    };
  }
};
__name(_LinkFieldEditor, "LinkFieldEditor");
let LinkFieldEditor = _LinkFieldEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/FieldEditor/PasswordFieldEditor/PasswordFieldEditor.ts":
/*!******************************************************************************************!*\
  !*** ./src/backend/editor/Editor/FieldEditor/PasswordFieldEditor/PasswordFieldEditor.ts ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PasswordFieldEditor": () => (/* binding */ PasswordFieldEditor)
/* harmony export */ });
/* harmony import */ var _FieldEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FieldEditor */ "./src/backend/editor/Editor/FieldEditor/FieldEditor.ts");
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _PasswordFieldEditor = class _PasswordFieldEditor extends _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor {
  static createData(params) {
    return {
      "@class": "PasswordField",
      "@attributes": __spreadProps(__spreadValues({}, _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor.createAttributes(params)), {
        readOnly: params.readOnly ? params.readOnly : "false",
        notNull: params.notNull ? params.notNull : "false",
        placeholder: params.placeholder ? params.placeholder : "",
        validateOnChange: params.validateOnChange ? params.validateOnChange : "true",
        validateOnBlur: params.validateOnBlur ? params.validateOnBlur : "false",
        autocomplete: params.autocomplete ? params.autocomplete : ""
      })
    };
  }
};
__name(_PasswordFieldEditor, "PasswordFieldEditor");
let PasswordFieldEditor = _PasswordFieldEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/FieldEditor/PhoneFieldEditor/PhoneFieldEditor.ts":
/*!************************************************************************************!*\
  !*** ./src/backend/editor/Editor/FieldEditor/PhoneFieldEditor/PhoneFieldEditor.ts ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PhoneFieldEditor": () => (/* binding */ PhoneFieldEditor)
/* harmony export */ });
/* harmony import */ var _FieldEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FieldEditor */ "./src/backend/editor/Editor/FieldEditor/FieldEditor.ts");
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _PhoneFieldEditor = class _PhoneFieldEditor extends _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor {
  static createData(params) {
    return {
      "@class": "PhoneField",
      "@attributes": __spreadProps(__spreadValues({}, _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor.createAttributes(params)), {
        readOnly: params.readOnly ? params.readOnly : "false",
        notNull: params.notNull ? params.notNull : "false",
        placeholder: params.placeholder ? params.placeholder : "",
        validateOnChange: params.validateOnChange ? params.validateOnChange : "true",
        validateOnBlur: params.validateOnBlur ? params.validateOnBlur : "false",
        autocomplete: params.autocomplete ? params.autocomplete : ""
      })
    };
  }
};
__name(_PhoneFieldEditor, "PhoneFieldEditor");
let PhoneFieldEditor = _PhoneFieldEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/FieldEditor/RadioFieldEditor/RadioFieldEditor.ts":
/*!************************************************************************************!*\
  !*** ./src/backend/editor/Editor/FieldEditor/RadioFieldEditor/RadioFieldEditor.ts ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RadioFieldEditor": () => (/* binding */ RadioFieldEditor)
/* harmony export */ });
/* harmony import */ var _FieldEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FieldEditor */ "./src/backend/editor/Editor/FieldEditor/FieldEditor.ts");
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _RadioFieldEditor = class _RadioFieldEditor extends _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor {
  static createData(params) {
    return {
      "@class": "RadioField",
      "@attributes": __spreadProps(__spreadValues({}, _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor.createAttributes(params)), {
        readOnly: params.readOnly ? params.readOnly : "false",
        notNull: params.notNull ? params.notNull : "false",
        // placeholder   : params.placeholder    ? params.placeholder    :             '',
        dataSourceName: params.dataSourceName ? params.dataSourceName : "",
        valueColumn: params.valueColumn ? params.valueColumn : "",
        displayColumn: params.displayColumn ? params.displayColumn : ""
      })
    };
  }
};
__name(_RadioFieldEditor, "RadioFieldEditor");
let RadioFieldEditor = _RadioFieldEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/FieldEditor/TextAreaFieldEditor/TextAreaFieldEditor.ts":
/*!******************************************************************************************!*\
  !*** ./src/backend/editor/Editor/FieldEditor/TextAreaFieldEditor/TextAreaFieldEditor.ts ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextAreaFieldEditor": () => (/* binding */ TextAreaFieldEditor)
/* harmony export */ });
/* harmony import */ var _FieldEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FieldEditor */ "./src/backend/editor/Editor/FieldEditor/FieldEditor.ts");
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _TextAreaFieldEditor = class _TextAreaFieldEditor extends _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor {
  static createData(params) {
    return {
      "@class": "TextAreaField",
      "@attributes": __spreadProps(__spreadValues({}, _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor.createAttributes(params)), {
        readOnly: params.readOnly ? params.readOnly : "false",
        notNull: params.notNull ? params.notNull : "false",
        rows: params.rows ? params.rows : "",
        cols: params.cols ? params.cols : "",
        validateOnChange: params.validateOnChange ? params.validateOnChange : "true",
        validateOnBlur: params.validateOnBlur ? params.validateOnBlur : "false"
      })
    };
  }
};
__name(_TextAreaFieldEditor, "TextAreaFieldEditor");
let TextAreaFieldEditor = _TextAreaFieldEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/FieldEditor/TextBoxFieldEditor/TextBoxFieldEditor.ts":
/*!****************************************************************************************!*\
  !*** ./src/backend/editor/Editor/FieldEditor/TextBoxFieldEditor/TextBoxFieldEditor.ts ***!
  \****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextBoxFieldEditor": () => (/* binding */ TextBoxFieldEditor)
/* harmony export */ });
/* harmony import */ var _FieldEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FieldEditor */ "./src/backend/editor/Editor/FieldEditor/FieldEditor.ts");
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _TextBoxFieldEditor = class _TextBoxFieldEditor extends _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor {
  static createData(params) {
    return {
      "@class": "TextBoxField",
      "@attributes": __spreadProps(__spreadValues({}, _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor.createAttributes(params)), {
        readOnly: params.readOnly ? params.readOnly : "false",
        notNull: params.notNull ? params.notNull : "false",
        placeholder: params.placeholder ? params.placeholder : "",
        validateOnChange: params.validateOnChange ? params.validateOnChange : "true",
        validateOnBlur: params.validateOnBlur ? params.validateOnBlur : "false",
        autocomplete: params.autocomplete ? params.autocomplete : ""
      })
    };
  }
};
__name(_TextBoxFieldEditor, "TextBoxFieldEditor");
let TextBoxFieldEditor = _TextBoxFieldEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/FieldEditor/TimeFieldEditor/TimeFieldEditor.ts":
/*!**********************************************************************************!*\
  !*** ./src/backend/editor/Editor/FieldEditor/TimeFieldEditor/TimeFieldEditor.ts ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TimeFieldEditor": () => (/* binding */ TimeFieldEditor)
/* harmony export */ });
/* harmony import */ var _FieldEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FieldEditor */ "./src/backend/editor/Editor/FieldEditor/FieldEditor.ts");
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _TimeFieldEditor = class _TimeFieldEditor extends _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor {
  static createData(params) {
    return {
      "@class": "TimeField",
      "@attributes": __spreadProps(__spreadValues({}, _FieldEditor__WEBPACK_IMPORTED_MODULE_0__.FieldEditor.createAttributes(params)), {
        readOnly: params.readOnly ? params.readOnly : "false",
        notNull: params.notNull ? params.notNull : "false",
        placeholder: params.placeholder ? params.placeholder : "",
        validateOnChange: params.validateOnChange ? params.validateOnChange : "true",
        validateOnBlur: params.validateOnBlur ? params.validateOnBlur : "false"
      })
    };
  }
};
__name(_TimeFieldEditor, "TimeFieldEditor");
let TimeFieldEditor = _TimeFieldEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/FormEditor/FormEditor.ts":
/*!************************************************************!*\
  !*** ./src/backend/editor/Editor/FormEditor/FormEditor.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FormEditor": () => (/* binding */ FormEditor)
/* harmony export */ });
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Editor */ "./src/backend/editor/Editor/Editor.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};



const _FormEditor = class _FormEditor extends _Editor__WEBPACK_IMPORTED_MODULE_1__.Editor {
  static createAttributes(params) {
    if (!params.name)
      throw new Error("no name");
    return {
      name: params.name,
      caption: params.caption !== void 0 ? params.caption : params.name,
      visible: params.visible !== void 0 ? params.visible : "true",
      cssBlock: params.cssBlock !== void 0 ? params.cssBlock : "",
      viewClass: params.viewClass !== void 0 ? params.viewClass : "",
      ctrlClass: params.ctrlClass !== void 0 ? params.ctrlClass : "",
      modelClass: params.modelClass !== void 0 ? params.modelClass : ""
    };
  }
  static createData(params) {
    (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("FormEditor.createData", params);
    return {
      "@class": "Form",
      "@attributes": __spreadValues({}, _FormEditor.createAttributes(params)),
      dataSources: [
        ...params.dataSources ? params.dataSources.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []
      ],
      actions: [...params.actions ? params.actions.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []],
      fields: [...params.fields ? params.fields.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []]
    };
  }
  createJs(params) {
    return __async(this, null, function* () {
      const templateFilePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(this.getEditorPath(), "Editor/FormEditor/Form.js.ejs");
      const customJsFilePath = yield this.getCustomFilePath("js");
      const js = yield this.createFileByParams(customJsFilePath, templateFilePath, {
        page: this.getParent().getName(),
        form: this.getName(),
        _class: this.constructor.name.replace("Editor", "")
      });
      return js;
    });
  }
  createJsx(params) {
    return __async(this, null, function* () {
      const templateFilePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(this.getEditorPath(), "Editor/FormEditor/Form.jsx.ejs");
      const customFilePath = yield this.getCustomFilePath("jsx");
      const jsx = yield this.createFileByParams(customFilePath, templateFilePath, {
        page: this.getParent().getName(),
        form: this.getName(),
        _class: this.constructor.name.replace("Editor", "")
      });
      return jsx;
    });
  }
  createLess(params) {
    return __async(this, null, function* () {
      const templateFilePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(this.getEditorPath(), "Editor/FormEditor/Form.less.ejs");
      const customFilePath = yield this.getCustomFilePath("less");
      const less = yield this.createFileByParams(customFilePath, templateFilePath, {
        page: this.getParent().getName(),
        form: this.getName(),
        _class: this.constructor.name.replace("Editor", "")
      });
      return less;
    });
  }
  createModelBackJs(params) {
    return __async(this, null, function* () {
      const filePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(yield this.getCustomDirPath(), "Model.back.ts");
      const templateFilePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(
        this.getEditorPath(),
        "Editor/FormEditor/Model.back.ts.ejs"
      );
      const js = yield this.createFileByParams(filePath, templateFilePath, {
        page: this.getParent().getName(),
        form: this.getName(),
        _class: this.getClassName()
      });
      return js;
    });
  }
  getCollectionDirPath() {
    return __async(this, null, function* () {
      const customDirPath = yield this.getParent().getCustomDirPath();
      return path__WEBPACK_IMPORTED_MODULE_0___default().join(customDirPath, "forms");
    });
  }
  getColName() {
    return "forms";
  }
};
__name(_FormEditor, "FormEditor");
let FormEditor = _FormEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/FormEditor/RowFormEditor/RowFormEditor.ts":
/*!*****************************************************************************!*\
  !*** ./src/backend/editor/Editor/FormEditor/RowFormEditor/RowFormEditor.ts ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormEditor": () => (/* binding */ RowFormEditor)
/* harmony export */ });
/* harmony import */ var _FormEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FormEditor */ "./src/backend/editor/Editor/FormEditor/FormEditor.ts");
/* harmony import */ var _Editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Editor */ "./src/backend/editor/Editor/Editor.ts");
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _RowFormEditor = class _RowFormEditor extends _FormEditor__WEBPACK_IMPORTED_MODULE_0__.FormEditor {
  static createData(params) {
    return {
      "@class": "RowForm",
      "@attributes": __spreadProps(__spreadValues({}, _FormEditor__WEBPACK_IMPORTED_MODULE_0__.FormEditor.createAttributes(params)), {
        newMode: params.newMode ? params.newMode : "",
        backOnly: params.backOnly ? params.backOnly : "false",
        refreshButton: params.refreshButton || "true"
      }),
      dataSources: [
        ...params.dataSources ? params.dataSources.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []
      ],
      actions: [...params.actions ? params.actions.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []],
      fields: [...params.fields ? params.fields.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []]
    };
  }
};
__name(_RowFormEditor, "RowFormEditor");
let RowFormEditor = _RowFormEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/FormEditor/TableFormEditor/TableFormEditor.ts":
/*!*********************************************************************************!*\
  !*** ./src/backend/editor/Editor/FormEditor/TableFormEditor/TableFormEditor.ts ***!
  \*********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableFormEditor": () => (/* binding */ TableFormEditor)
/* harmony export */ });
/* harmony import */ var _FormEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FormEditor */ "./src/backend/editor/Editor/FormEditor/FormEditor.ts");
/* harmony import */ var _Editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Editor */ "./src/backend/editor/Editor/Editor.ts");
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _TableFormEditor = class _TableFormEditor extends _FormEditor__WEBPACK_IMPORTED_MODULE_0__.FormEditor {
  static createData(params) {
    return {
      "@class": "TableForm",
      "@attributes": __spreadProps(__spreadValues({}, _FormEditor__WEBPACK_IMPORTED_MODULE_0__.FormEditor.createAttributes(params)), {
        editMethod: params.editMethod || "disabled",
        itemEditPage: params.itemEditPage || "",
        itemCreatePage: params.itemCreatePage || "",
        newRowMode: params.newRowMode || "disabled",
        deleteRowMode: params.deleteRowMode || "disabled",
        refreshButton: params.refreshButton || "true"
      }),
      dataSources: [
        ...params.dataSources ? params.dataSources.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []
      ],
      actions: [...params.actions ? params.actions.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []],
      fields: [...params.fields ? params.fields.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []]
    };
  }
};
__name(_TableFormEditor, "TableFormEditor");
let TableFormEditor = _TableFormEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/KeyColumnEditor/KeyColumnEditor.ts":
/*!**********************************************************************!*\
  !*** ./src/backend/editor/Editor/KeyColumnEditor/KeyColumnEditor.ts ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "KeyColumnEditor": () => (/* binding */ KeyColumnEditor)
/* harmony export */ });
/* harmony import */ var _Editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Editor */ "./src/backend/editor/Editor/Editor.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _KeyColumnEditor = class _KeyColumnEditor extends _Editor__WEBPACK_IMPORTED_MODULE_0__.Editor {
  static createData(params) {
    if (!params.name)
      throw new Error("no name");
    return {
      "@class": "KeyColumn",
      "@attributes": {
        name: params.name
      }
    };
  }
  getColName() {
    return "keyColumns";
  }
};
__name(_KeyColumnEditor, "KeyColumnEditor");
let KeyColumnEditor = _KeyColumnEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/PageEditor/PageEditor.ts":
/*!************************************************************!*\
  !*** ./src/backend/editor/Editor/PageEditor/PageEditor.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PageEditor": () => (/* binding */ PageEditor)
/* harmony export */ });
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Editor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Editor */ "./src/backend/editor/Editor/Editor.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};



const _PageEditor = class _PageEditor extends _Editor__WEBPACK_IMPORTED_MODULE_1__.Editor {
  constructor(appEditor, pageFile, editorPath) {
    super(pageFile.data, appEditor, editorPath);
    this.appEditor = appEditor;
    this.pageFile = pageFile;
  }
  static createData(params) {
    return {
      "@class": "Page",
      "@attributes": {
        formatVersion: "0.1",
        name: params.name,
        caption: params.caption !== void 0 ? params.caption : params.name,
        cssBlock: params.cssBlock !== void 0 ? params.cssBlock : "",
        viewClass: params.viewClass !== void 0 ? params.viewClass : "",
        ctrlClass: params.ctrlClass !== void 0 ? params.ctrlClass : "",
        modelClass: params.modelClass !== void 0 ? params.modelClass : "",
        formInTab: params.formInTab !== void 0 ? params.formInTab : "false"
      },
      dataSources: [
        ...params.dataSources ? params.dataSources.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []
      ],
      actions: [...params.actions ? params.actions.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []],
      forms: [...params.forms ? params.forms.map(_Editor__WEBPACK_IMPORTED_MODULE_1__.Editor.createItemData) : []]
    };
  }
  setAttr(name, value) {
    (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("PageEditor.setAttr", name, value);
    if (name === "name") {
      const pageLinkEditor = this.appEditor.createItemEditor("pageLinks", this.getName());
      pageLinkEditor.setAttr(name, value);
    }
    super.setAttr(name, value);
  }
  save() {
    return __async(this, null, function* () {
      yield this.pageFile.save();
    });
  }
  createJs(params) {
    return __async(this, null, function* () {
      const templateFilePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(this.getEditorPath(), "Editor/PageEditor/Page.js.ejs");
      const customJsFilePath = yield this.getCustomFilePath("js");
      const js = yield this.createFileByParams(customJsFilePath, templateFilePath, {
        page: this.getName(),
        _class: this.constructor.name.replace("Editor", "")
      });
      return js;
    });
  }
  createJsx(params) {
    return __async(this, null, function* () {
      const templateFilePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(this.getEditorPath(), "Editor/PageEditor/Page.jsx.ejs");
      const customJsxFilePath = yield this.getCustomFilePath("jsx");
      const jsx = yield this.createFileByParams(customJsxFilePath, templateFilePath, {
        page: this.getName(),
        _class: this.constructor.name.replace("Editor", "")
      });
      return jsx;
    });
  }
  createLess(params) {
    return __async(this, null, function* () {
      const templateFilePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(this.getEditorPath(), "Editor/PageEditor/Page.less.ejs");
      const customLessFilePath = yield this.getCustomFilePath("less");
      const less = yield this.createFileByParams(customLessFilePath, templateFilePath, {
        page: this.getName(),
        _class: this.constructor.name.replace("Editor", "")
      });
      return less;
    });
  }
  createModelBackJs(params) {
    return __async(this, null, function* () {
      const filePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(yield this.getCustomDirPath(), "Model.back.ts");
      const templateFilePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(
        this.getEditorPath(),
        "Editor/PageEditor/Model.back.ts.ejs"
      );
      const js = yield this.createFileByParams(filePath, templateFilePath, {
        name: this.getName()
      });
      return js;
    });
  }
  getCustomDirPath() {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("PageEditor.getCustomDirPath");
      const customDirPath = yield this.getParent().getCustomDirPath();
      return path__WEBPACK_IMPORTED_MODULE_0___default().join(customDirPath, "pages", this.getName());
    });
  }
  reformat() {
    this.data = this.pageFile.data = _PageEditor.createData(__spreadProps(__spreadValues({}, this.attributes()), {
      dataSources: this.data.dataSources,
      actions: this.data.actions,
      forms: this.data.forms
    }));
  }
};
__name(_PageEditor, "PageEditor");
let PageEditor = _PageEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/PageLinkEditor/PageLinkEditor.ts":
/*!********************************************************************!*\
  !*** ./src/backend/editor/Editor/PageLinkEditor/PageLinkEditor.ts ***!
  \********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PageLinkEditor": () => (/* binding */ PageLinkEditor)
/* harmony export */ });
/* harmony import */ var _Editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Editor */ "./src/backend/editor/Editor/Editor.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _PageLinkEditor = class _PageLinkEditor extends _Editor__WEBPACK_IMPORTED_MODULE_0__.Editor {
  static createData(params) {
    return {
      "@class": "PageLink",
      "@attributes": {
        name: params.name,
        fileName: params.fileName || `pages/${params.name}/${params.name}.json`,
        menu: params.menu || (params.startup === "true" ? "Menu" : ""),
        startup: params.startup || "false"
      }
    };
  }
  getColName() {
    return "pageLinks";
  }
};
__name(_PageLinkEditor, "PageLinkEditor");
let PageLinkEditor = _PageLinkEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/ParamEditor/ParamEditor.ts":
/*!**************************************************************!*\
  !*** ./src/backend/editor/Editor/ParamEditor/ParamEditor.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ParamEditor": () => (/* binding */ ParamEditor)
/* harmony export */ });
/* harmony import */ var _Editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Editor */ "./src/backend/editor/Editor/Editor.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _ParamEditor = class _ParamEditor extends _Editor__WEBPACK_IMPORTED_MODULE_0__.Editor {
  static createData(params) {
    if (!params.name)
      throw new Error("no name");
    return {
      "@class": "Param",
      "@attributes": {
        name: params.name,
        value: `"${params.value || ""}"`
      }
    };
  }
  getColName() {
    return "params";
  }
};
__name(_ParamEditor, "ParamEditor");
let ParamEditor = _ParamEditor;


/***/ }),

/***/ "./src/backend/editor/Editor/TableEditor/TableEditor.ts":
/*!**************************************************************!*\
  !*** ./src/backend/editor/Editor/TableEditor/TableEditor.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableEditor": () => (/* binding */ TableEditor)
/* harmony export */ });
/* harmony import */ var _Editor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Editor */ "./src/backend/editor/Editor/Editor.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _TableEditor = class _TableEditor extends _Editor__WEBPACK_IMPORTED_MODULE_0__.Editor {
  static createData(params) {
    return {
      "@class": "Table",
      "@attributes": {
        name: params.name
      },
      columns: [...params.columns ? params.columns.map(_Editor__WEBPACK_IMPORTED_MODULE_0__.Editor.createItemData) : []]
    };
  }
  getColName() {
    return "tables";
  }
};
__name(_TableEditor, "TableEditor");
let TableEditor = _TableEditor;


/***/ }),

/***/ "./src/backend/editor/EditorController/ActionEditorController/ActionEditorController.ts":
/*!**********************************************************************************************!*\
  !*** ./src/backend/editor/EditorController/ActionEditorController/ActionEditorController.ts ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ActionEditorController": () => (/* binding */ ActionEditorController)
/* harmony export */ });
/* harmony import */ var _EditorController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EditorController */ "./src/backend/editor/EditorController/EditorController.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};


const _ActionEditorController = class _ActionEditorController extends _EditorController__WEBPACK_IMPORTED_MODULE_0__.EditorController {
  _new(params) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_1__.debug)("ActionEditorController._new");
      const appEditor = this.createApplicationEditor();
      let data;
      if (params.pageFileName) {
        const pageEditor = yield appEditor.createPageEditor(params.pageFileName);
        if (params.form) {
          const formEditor = pageEditor.createItemEditor("forms", params.form);
          data = yield formEditor.newItemData("Action", "actions", params);
        } else {
          data = yield pageEditor.newItemData("Action", "actions", params);
        }
        yield pageEditor.save();
      } else {
        data = yield appEditor.newItemData("Action", "actions", params);
        yield appEditor.save();
      }
      return data;
    });
  }
  save(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      if (params.pageFileName) {
        const pageEditor = yield appEditor.createPageEditor(params.pageFileName);
        if (params.form) {
          const formEditor = pageEditor.createItemEditor("forms", params.form);
          const actionEditor = formEditor.createItemEditor("actions", params.action);
          actionEditor.setAttr(params.attr, params.value);
        } else {
          const actionEditor = pageEditor.createItemEditor("actions", params.action);
          actionEditor.setAttr(params.attr, params.value);
        }
        yield pageEditor.save();
      } else {
        const actionEditor = appEditor.createItemEditor("actions", params.action);
        actionEditor.setAttr(params.attr, params.value);
        yield appEditor.save();
      }
      return null;
    });
  }
  delete(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      let data;
      if (params.pageFileName) {
        const pageEditor = yield appEditor.createPageEditor(params.pageFileName);
        if (params.form) {
          const formEditor = pageEditor.createItemEditor("forms", params.form);
          data = formEditor.removeColData("actions", params.action);
        } else {
          data = pageEditor.removeColData("actions", params.action);
        }
        yield pageEditor.save();
      } else {
        data = appEditor.removeColData("actions", params.action);
        yield appEditor.save();
      }
      return data;
    });
  }
  moveUp(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      if (params.pageFileName) {
        const pageEditor = yield appEditor.createPageEditor(params.pageFileName);
        if (params.form) {
          const formEditor = pageEditor.createItemEditor("forms", params.form);
          formEditor.moveItemUp("actions", params.action);
          yield pageEditor.save();
        } else {
          pageEditor.moveItemUp("actions", params.action);
          yield pageEditor.save();
        }
      } else {
        appEditor.moveItemUp("actions", params.action);
        yield appEditor.save();
      }
      return null;
    });
  }
  moveDown(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      if (params.pageFileName) {
        const pageEditor = yield appEditor.createPageEditor(params.pageFileName);
        if (params.form) {
          const formEditor = pageEditor.createItemEditor("forms", params.form);
          formEditor.moveItemDown("actions", params.action);
          yield pageEditor.save();
        } else {
          pageEditor.moveItemDown("actions", params.action);
          yield pageEditor.save();
        }
      } else {
        appEditor.moveItemDown("actions", params.action);
        yield appEditor.save();
      }
      return null;
    });
  }
};
__name(_ActionEditorController, "ActionEditorController");
let ActionEditorController = _ActionEditorController;


/***/ }),

/***/ "./src/backend/editor/EditorController/ApplicationEditorController/ApplicationEditorController.ts":
/*!********************************************************************************************************!*\
  !*** ./src/backend/editor/EditorController/ApplicationEditorController/ApplicationEditorController.ts ***!
  \********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ApplicationEditorController": () => (/* binding */ ApplicationEditorController)
/* harmony export */ });
/* harmony import */ var _VisualEditorController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../VisualEditorController */ "./src/backend/editor/EditorController/VisualEditorController.ts");
var __defProp = Object.defineProperty;
var __getProtoOf = Object.getPrototypeOf;
var __reflectGet = Reflect.get;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __superGet = (cls, obj, key) => __reflectGet(__getProtoOf(cls), key, obj);
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

const _ApplicationEditorController = class _ApplicationEditorController extends _VisualEditorController__WEBPACK_IMPORTED_MODULE_0__.VisualEditorController {
  save(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      appEditor.setAttr(params.attr, params.value);
      yield appEditor.save();
      return null;
    });
  }
  getView(params) {
    return __async(this, null, function* () {
      const result = yield __superGet(_ApplicationEditorController.prototype, this, "getView").call(this, params);
      if (params.view === "VisualView.html") {
        const appEditor = this.createApplicationEditor();
        result.data.js = yield appEditor.getCustomFile("js");
      }
      return result;
    });
  }
  createController(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const js = yield appEditor.createJs(params);
      return { js };
    });
  }
  createModelBackJs(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const js = yield appEditor.createModelBackJs(params);
      return { js };
    });
  }
  saveController(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      yield appEditor.saveCustomFile("js", params.text);
      return { js: params.text };
    });
  }
};
__name(_ApplicationEditorController, "ApplicationEditorController");
let ApplicationEditorController = _ApplicationEditorController;


/***/ }),

/***/ "./src/backend/editor/EditorController/ColumnEditorController/ColumnEditorController.ts":
/*!**********************************************************************************************!*\
  !*** ./src/backend/editor/EditorController/ColumnEditorController/ColumnEditorController.ts ***!
  \**********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ColumnEditorController": () => (/* binding */ ColumnEditorController)
/* harmony export */ });
/* harmony import */ var _EditorController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EditorController */ "./src/backend/editor/EditorController/EditorController.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};


const _ColumnEditorController = class _ColumnEditorController extends _EditorController__WEBPACK_IMPORTED_MODULE_0__.EditorController {
  /* constructor(...args) {
      debug('ColumnEditorController.constructor');
      super(...args);
  } */
  save(params) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_1__.debug)("ColumnEditorController.save");
      const appEditor = this.createApplicationEditor();
      const databaseEditor = appEditor.createItemEditor("databases", params.database);
      const tableEditor = databaseEditor.createItemEditor("tables", params.table);
      const columnEditor = tableEditor.createItemEditor("columns", params.column);
      columnEditor.setAttr(params.attr, params.value);
      yield appEditor.save();
      return "ok";
    });
  }
  _new(params) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_1__.debug)("ColumnEditorController._new");
      const appEditor = this.createApplicationEditor();
      const databaseEditor = appEditor.createItemEditor("databases", params.database);
      const tableEditor = databaseEditor.createItemEditor("tables", params.table);
      const columnData = tableEditor.newItemData("Column", "columns", params);
      yield appEditor.save();
      return columnData;
    });
  }
  delete(params) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_1__.debug)("ColumnEditorController.delete");
      const appEditor = this.createApplicationEditor();
      const databaseEditor = appEditor.createItemEditor("databases", params.database);
      const tableEditor = databaseEditor.createItemEditor("tables", params.table);
      const data = tableEditor.removeColData("columns", params.column);
      yield appEditor.save();
      return data;
    });
  }
};
__name(_ColumnEditorController, "ColumnEditorController");
let ColumnEditorController = _ColumnEditorController;


/***/ }),

/***/ "./src/backend/editor/EditorController/DataSourceEditorController/DataSourceEditorController.ts":
/*!******************************************************************************************************!*\
  !*** ./src/backend/editor/EditorController/DataSourceEditorController/DataSourceEditorController.ts ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DataSourceEditorController": () => (/* binding */ DataSourceEditorController)
/* harmony export */ });
/* harmony import */ var _EditorController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EditorController */ "./src/backend/editor/EditorController/EditorController.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __getProtoOf = Object.getPrototypeOf;
var __reflectGet = Reflect.get;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __superGet = (cls, obj, key) => __reflectGet(__getProtoOf(cls), key, obj);
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};


const _DataSourceEditorController = class _DataSourceEditorController extends _EditorController__WEBPACK_IMPORTED_MODULE_0__.EditorController {
  /* constructor(...args) {
      super(...args);
  } */
  createDataSourceEditor(params) {
    return __async(this, null, function* () {
      let editor = this.createApplicationEditor();
      if (params.pageFileName) {
        editor = yield editor.createPageEditor(params.pageFileName);
        if (params.form) {
          editor = editor.createItemEditor("forms", params.form);
        }
      }
      return editor.createItemEditor("dataSources", params.dataSource);
    });
  }
  _new(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      let data;
      if (params.page) {
        const pageEditor = yield appEditor.createPageEditor(params.page);
        if (params.form) {
          const formEditor = pageEditor.createItemEditor("forms", params.form);
          data = formEditor.newItemData(params.class, "dataSources", params);
        } else {
          data = pageEditor.newItemData(params.class, "dataSources", params);
        }
        yield pageEditor.save();
      } else {
        data = appEditor.newItemData(params.class, "dataSources", params);
        yield appEditor.save();
      }
      return data;
    });
  }
  delete(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      let data;
      if (params.page) {
        const pageEditor = yield appEditor.createPageEditor(params.page);
        if (params.form) {
          const formEditor = pageEditor.createItemEditor("forms", params.form);
          data = formEditor.removeColData("dataSources", params.dataSource);
        } else {
          data = pageEditor.removeColData("dataSources", params.dataSource);
        }
        yield pageEditor.save();
      } else {
        data = appEditor.removeColData("dataSources", params.dataSource);
        yield appEditor.save();
      }
      return data;
    });
  }
  moveUp(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      if (params.page) {
        const pageEditor = yield appEditor.createPageEditor(params.page);
        if (params.form) {
          const formEditor = pageEditor.createItemEditor("forms", params.form);
          formEditor.moveItemUp("dataSources", params.dataSource);
          yield pageEditor.save();
          return null;
        } else {
          pageEditor.moveItemUp("dataSources", params.dataSource);
          yield pageEditor.save();
          return null;
        }
      } else {
        appEditor.moveItemUp("dataSources", params.dataSource);
        yield appEditor.save();
        return null;
      }
    });
  }
  moveDown(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      if (params.page) {
        const pageEditor = yield appEditor.createPageEditor(params.page);
        if (params.form) {
          const formEditor = pageEditor.createItemEditor("forms", params.form);
          formEditor.moveItemDown("dataSources", params.dataSource);
          yield pageEditor.save();
          return null;
        } else {
          pageEditor.moveItemDown("dataSources", params.dataSource);
          yield pageEditor.save();
          return null;
        }
      } else {
        appEditor.moveItemDown("dataSources", params.dataSource);
        yield appEditor.save();
        return null;
      }
    });
  }
  save(params) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_1__.debug)("DataSourceEditorController.save");
      const dataSourceEditor = yield this.createDataSourceEditor(params);
      dataSourceEditor.setAttr(params.attr, params.value);
      yield dataSourceEditor.save();
      return null;
    });
  }
  createModelBackJs(params) {
    return __async(this, null, function* () {
      const dataSourceEditor = yield this.createDataSourceEditor(params);
      const js = yield dataSourceEditor.createModelBackJs(params);
      return { js };
    });
  }
  getView(params) {
    return __async(this, null, function* () {
      const result = yield __superGet(_DataSourceEditorController.prototype, this, "getView").call(this, params);
      switch (params.view) {
        default:
          return result;
      }
    });
  }
  /* async createController(params) {
      const dataSourceEditor = await this.createDataSourceEditor(params);
      const backendJs = await dataSourceEditor.createBackendJs(params);
      return {backendJs};
  } */
  /* async saveController(params) {
      const dataSourceEditor = await this.createDataSourceEditor(params);
      await dataSourceEditor.saveCustomFile('back.js', params.text);
      return null;
  } */
};
__name(_DataSourceEditorController, "DataSourceEditorController");
let DataSourceEditorController = _DataSourceEditorController;


/***/ }),

/***/ "./src/backend/editor/EditorController/DatabaseEditorController/DatabaseEditorController.ts":
/*!**************************************************************************************************!*\
  !*** ./src/backend/editor/EditorController/DatabaseEditorController/DatabaseEditorController.ts ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DatabaseEditorController": () => (/* binding */ DatabaseEditorController)
/* harmony export */ });
/* harmony import */ var _EditorController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EditorController */ "./src/backend/editor/EditorController/EditorController.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __getProtoOf = Object.getPrototypeOf;
var __reflectGet = Reflect.get;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __superGet = (cls, obj, key) => __reflectGet(__getProtoOf(cls), key, obj);
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};


const _DatabaseEditorController = class _DatabaseEditorController extends _EditorController__WEBPACK_IMPORTED_MODULE_0__.EditorController {
  constructor() {
    super(...arguments);
    this.application = null;
  }
  /* constructor(...args) {
      super(...args);
      this.application = null;
  } */
  init(context) {
    return __async(this, null, function* () {
      yield __superGet(_DatabaseEditorController.prototype, this, "init").call(this, context);
      this.application = yield this.hostApp.createApplication(context);
    });
  }
  _new(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const data = appEditor.newItemData(params.class, "databases", params);
      yield appEditor.save();
      return data;
    });
  }
  save(params) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_1__.debug)("DatabaseEditorController.save");
      const appEditor = this.createApplicationEditor();
      const databaseEditor = appEditor.createItemEditor("databases", params.database);
      databaseEditor.setAttr(params.attr, params.value);
      yield appEditor.save();
      return "ok";
    });
  }
  delete(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const data = appEditor.removeColData("databases", params.database);
      yield appEditor.save();
      return data;
    });
  }
  getView(params) {
    return __async(this, null, function* () {
      const result = yield __superGet(_DatabaseEditorController.prototype, this, "getView").call(this, params);
      if (params.view === "DatabaseView/DatabaseView.html") {
        const database = this.application.getDatabase(params.database);
        result.data.tables = yield database.getTableList();
      }
      return result;
    });
  }
  getTableInfo(params) {
    return __async(this, null, function* () {
      const database = this.application.getDatabase(params.database);
      const tableInfo = yield database.getTableInfo(params.table);
      return { tableInfo };
    });
  }
  moveUp(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      appEditor.moveItemUp("databases", params.database);
      yield appEditor.save();
      return "ok";
    });
  }
  moveDown(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      appEditor.moveItemDown("databases", params.database);
      yield appEditor.save();
      return "ok";
    });
  }
};
__name(_DatabaseEditorController, "DatabaseEditorController");
let DatabaseEditorController = _DatabaseEditorController;


/***/ }),

/***/ "./src/backend/editor/EditorController/EditorController.ts":
/*!*****************************************************************!*\
  !*** ./src/backend/editor/EditorController/EditorController.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EditorController": () => (/* binding */ EditorController)
/* harmony export */ });
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Editor_ApplicationEditor_ApplicationEditor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Editor/ApplicationEditor/ApplicationEditor */ "./src/backend/editor/Editor/ApplicationEditor/ApplicationEditor.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};



const _EditorController = class _EditorController {
  constructor(appInfo, hostApp) {
    this.appInfo = appInfo;
    this.hostApp = hostApp;
  }
  init(context) {
    return __async(this, null, function* () {
    });
  }
  getView(params) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("EditorController.getView");
      return {
        data: {}
      };
    });
  }
  createApplicationEditor() {
    (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("EditorController.createApplicationEditor");
    return new _Editor_ApplicationEditor_ApplicationEditor__WEBPACK_IMPORTED_MODULE_1__.ApplicationEditor(
      this.appInfo.appFile,
      path__WEBPACK_IMPORTED_MODULE_0___default().join(this.hostApp.backendDirPath, "editor")
    );
  }
};
__name(_EditorController, "EditorController");
let EditorController = _EditorController;


/***/ }),

/***/ "./src/backend/editor/EditorController/FieldEditorController/FieldEditorController.ts":
/*!********************************************************************************************!*\
  !*** ./src/backend/editor/EditorController/FieldEditorController/FieldEditorController.ts ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FieldEditorController": () => (/* binding */ FieldEditorController)
/* harmony export */ });
/* harmony import */ var _VisualEditorController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../VisualEditorController */ "./src/backend/editor/EditorController/VisualEditorController.ts");
var __defProp = Object.defineProperty;
var __getProtoOf = Object.getPrototypeOf;
var __reflectGet = Reflect.get;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __superGet = (cls, obj, key) => __reflectGet(__getProtoOf(cls), key, obj);
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

const _FieldEditorController = class _FieldEditorController extends _VisualEditorController__WEBPACK_IMPORTED_MODULE_0__.VisualEditorController {
  /*constructor(...args) {
      super(...args);
  }*/
  _new(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.createPageEditor(params.pageFileName);
      const formEditor = pageEditor.createItemEditor("forms", params.form);
      const data = formEditor.newItemData(params.class, "fields", params);
      yield pageEditor.save();
      return data;
    });
  }
  save(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.createPageEditor(params.pageFileName);
      const formEditor = pageEditor.createItemEditor("forms", params.form);
      const fieldEditor = formEditor.createItemEditor("fields", params.field);
      fieldEditor.setAttr(params.attr, params.value);
      yield pageEditor.save();
      return null;
    });
  }
  delete(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.createPageEditor(params.pageFileName);
      const formEditor = pageEditor.createItemEditor("forms", params.form);
      const data = formEditor.removeColData("fields", params.field);
      yield pageEditor.save();
      return data;
    });
  }
  changeClass(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.getPage(params.page);
      const formEditor = pageEditor.createItemEditor("forms", params.form);
      const fieldEditor = formEditor.createItemEditor("fields", params.field);
      const newData = fieldEditor.changeClass(params.class);
      yield pageEditor.save();
      return newData;
    });
  }
  getView(params) {
    return __async(this, null, function* () {
      const result = yield __superGet(_FieldEditorController.prototype, this, "getView").call(this, params);
      if (params.view === "VisualView.html") {
        const appEditor = this.createApplicationEditor();
        const pageEditor = yield appEditor.getPage(params.page);
        const formEditor = pageEditor.createItemEditor("forms", params.form);
        const fieldEditor = formEditor.createItemEditor("fields", params.field);
        result.data.js = yield fieldEditor.getCustomFile("js");
        result.data.jsx = yield fieldEditor.getCustomFile("jsx");
        result.data.less = yield fieldEditor.getCustomFile("less");
        return result;
      }
      return result;
    });
  }
  createController(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.getPage(params.page);
      const formEditor = pageEditor.createItemEditor("forms", params.form);
      const fieldEditor = formEditor.createItemEditor("fields", params.field);
      const js = yield fieldEditor.createJs(params);
      return { js };
    });
  }
  createView(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.getPage(params.page);
      const formEditor = pageEditor.createItemEditor("forms", params.form);
      const fieldEditor = formEditor.createItemEditor("fields", params.field);
      const jsx = yield fieldEditor.createJsx(params);
      return { jsx };
    });
  }
  createStyle(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.getPage(params.page);
      const formEditor = pageEditor.createItemEditor("forms", params.form);
      const fieldEditor = formEditor.createItemEditor("fields", params.field);
      const less = yield fieldEditor.createLess(params);
      return { less };
    });
  }
  saveController(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.getPage(params.page);
      const formEditor = pageEditor.createItemEditor("forms", params.form);
      const fieldEditor = formEditor.createItemEditor("fields", params.field);
      yield fieldEditor.saveCustomFile("js", params.text);
      return { js: params.text };
    });
  }
  moveUp(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.createPageEditor(params.pageFileName);
      const formEditor = pageEditor.createItemEditor("forms", params.form);
      formEditor.moveItemUp("fields", params.field);
      yield pageEditor.save();
      return "ok";
    });
  }
  moveDown(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.createPageEditor(params.pageFileName);
      const formEditor = pageEditor.createItemEditor("forms", params.form);
      formEditor.moveItemDown("fields", params.field);
      yield pageEditor.save();
      return "ok";
    });
  }
};
__name(_FieldEditorController, "FieldEditorController");
let FieldEditorController = _FieldEditorController;


/***/ }),

/***/ "./src/backend/editor/EditorController/FormEditorController/FormEditorController.ts":
/*!******************************************************************************************!*\
  !*** ./src/backend/editor/EditorController/FormEditorController/FormEditorController.ts ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FormEditorController": () => (/* binding */ FormEditorController)
/* harmony export */ });
/* harmony import */ var _VisualEditorController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../VisualEditorController */ "./src/backend/editor/EditorController/VisualEditorController.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __getProtoOf = Object.getPrototypeOf;
var __reflectGet = Reflect.get;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __superGet = (cls, obj, key) => __reflectGet(__getProtoOf(cls), key, obj);
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};


const _FormEditorController = class _FormEditorController extends _VisualEditorController__WEBPACK_IMPORTED_MODULE_0__.VisualEditorController {
  /*constructor(...args) {
      super(...args);
  }*/
  _new(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.createPageEditor(params["pageFileName"]);
      const data = yield pageEditor.newItemData(params.class, "forms", params);
      yield pageEditor.save();
      return data;
    });
  }
  save(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.createPageEditor(params["pageFileName"]);
      const formEditor = pageEditor.createItemEditor("forms", params.form);
      formEditor.setAttr(params["attr"], params["value"]);
      yield pageEditor.save();
      return null;
    });
  }
  delete(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.createPageEditor(params.pageFileName);
      const data = pageEditor.removeColData("forms", params.form);
      yield pageEditor.save();
      return data;
    });
  }
  moveUp(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.createPageEditor(params.pageFileName);
      pageEditor.moveItemUp("forms", params.form);
      yield pageEditor.save();
      return "ok";
    });
  }
  moveDown(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.createPageEditor(params.pageFileName);
      pageEditor.moveItemDown("forms", params.form);
      yield pageEditor.save();
      return "ok";
    });
  }
  getView(params) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_1__.debug)("FormEditorController.getView");
      const result = yield __superGet(_FormEditorController.prototype, this, "getView").call(this, params);
      switch (params.view) {
        case "VisualView.html":
          const appEditor = this.createApplicationEditor();
          const pageEditor = yield appEditor.getPage(params.page);
          const formEditor = pageEditor.createItemEditor("forms", params.form);
          result.data.js = yield formEditor.getCustomFile("js");
          result.data.jsx = yield formEditor.getCustomFile("jsx");
          result.data.less = yield formEditor.getCustomFile("less");
          return result;
        default:
          return result;
      }
    });
  }
  createController(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.getPage(params.page);
      const formEditor = pageEditor.createItemEditor("forms", params.form);
      const js = yield formEditor.createJs(params);
      return { js };
    });
  }
  createView(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.getPage(params.page);
      const formEditor = pageEditor.createItemEditor("forms", params.form);
      const jsx = yield formEditor.createJsx(params);
      return { jsx };
    });
  }
  createStyle(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.getPage(params.page);
      const formEditor = pageEditor.createItemEditor("forms", params.form);
      const less = yield formEditor.createLess(params);
      return { less };
    });
  }
  saveController(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.getPage(params.page);
      const formEditor = pageEditor.createItemEditor("forms", params.form);
      yield formEditor.saveCustomFile("js", params.text);
      return { js: params.text };
    });
  }
  createModelBackJs(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.getPage(params.page);
      const formEditor = pageEditor.createItemEditor("forms", params.form);
      const js = yield formEditor.createModelBackJs(params);
      return { js };
    });
  }
};
__name(_FormEditorController, "FormEditorController");
let FormEditorController = _FormEditorController;


/***/ }),

/***/ "./src/backend/editor/EditorController/KeyColumnEditorController/KeyColumnEditorController.ts":
/*!****************************************************************************************************!*\
  !*** ./src/backend/editor/EditorController/KeyColumnEditorController/KeyColumnEditorController.ts ***!
  \****************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "KeyColumnEditorController": () => (/* binding */ KeyColumnEditorController)
/* harmony export */ });
/* harmony import */ var _EditorController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EditorController */ "./src/backend/editor/EditorController/EditorController.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

const _KeyColumnEditorController = class _KeyColumnEditorController extends _EditorController__WEBPACK_IMPORTED_MODULE_0__.EditorController {
  /*constructor(...args) {
      super(...args);
  }*/
  _new(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      if (params.page) {
        const pageEditor = yield appEditor.createPageEditor(params.page);
        if (params.form) {
          const formEditor = pageEditor.createItemEditor("forms", params.form);
          const dataSourceEditor = formEditor.createItemEditor(
            "dataSources",
            params.dataSource
          );
          const data = dataSourceEditor.newItemData("KeyColumn", "keyColumns", params);
          yield pageEditor.save();
          return data;
        } else {
          const dataSourceEditor = pageEditor.createItemEditor(
            "dataSources",
            params.dataSource
          );
          const data = dataSourceEditor.newItemData("KeyColumn", "keyColumns", params);
          yield pageEditor.save();
          return data;
        }
      } else {
        const dataSourceEditor = appEditor.createItemEditor("dataSources", params.dataSource);
        const data = dataSourceEditor.newItemData("KeyColumn", "keyColumns", params);
        yield appEditor.save();
        return data;
      }
    });
  }
  save(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.createPageEditor(params.pageFileName);
      const formEditor = pageEditor.createItemEditor("forms", params.form);
      const dataSourceEditor = formEditor.createItemEditor("dataSources", params.dataSource);
      const keyColumnEditor = dataSourceEditor.createItemEditor(
        "keyColumns",
        params.keyColumn
      );
      keyColumnEditor.setAttr(params.attr, params.value);
      yield pageEditor.save();
      return null;
    });
  }
  delete(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      let dataSourceEditor;
      let pageEditor;
      if (params.page) {
        pageEditor = yield appEditor.createPageEditor(params.page);
        if (params.form) {
          const formEditor = pageEditor.createItemEditor("forms", params.form);
          dataSourceEditor = formEditor.createItemEditor("dataSources", params.dataSource);
        } else {
          dataSourceEditor = pageEditor.createItemEditor("dataSources", params.dataSource);
        }
      } else {
        dataSourceEditor = appEditor.createItemEditor("dataSources", params.dataSource);
      }
      const data = dataSourceEditor.removeColData("keyColumns", params.keyColumn);
      if (pageEditor) {
        yield pageEditor.save();
      } else {
        yield appEditor.save();
      }
      return data;
    });
  }
};
__name(_KeyColumnEditorController, "KeyColumnEditorController");
let KeyColumnEditorController = _KeyColumnEditorController;


/***/ }),

/***/ "./src/backend/editor/EditorController/PageEditorController/PageEditorController.ts":
/*!******************************************************************************************!*\
  !*** ./src/backend/editor/EditorController/PageEditorController/PageEditorController.ts ***!
  \******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PageEditorController": () => (/* binding */ PageEditorController)
/* harmony export */ });
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _VisualEditorController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../VisualEditorController */ "./src/backend/editor/EditorController/VisualEditorController.ts");
/* harmony import */ var _BkHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../BkHelper */ "./src/backend/BkHelper.ts");
var __defProp = Object.defineProperty;
var __getProtoOf = Object.getPrototypeOf;
var __reflectGet = Reflect.get;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __superGet = (cls, obj, key) => __reflectGet(__getProtoOf(cls), key, obj);
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};



const _PageEditorController = class _PageEditorController extends _VisualEditorController__WEBPACK_IMPORTED_MODULE_1__.VisualEditorController {
  /*constructor(...args) {
      super(...args);
  }*/
  get(params) {
    return __async(this, null, function* () {
      const pageFilePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(this.appInfo.dirPath, params.fileName);
      const content = yield _BkHelper__WEBPACK_IMPORTED_MODULE_2__.BkHelper.readTextFile(pageFilePath);
      return JSON.parse(content);
    });
  }
  save(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.createPageEditor(params.fileName);
      pageEditor.setAttr(params.attr, params.value);
      yield pageEditor.save();
      return null;
    });
  }
  _new(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const data = yield appEditor.newPageAndPageLinkData(params);
      yield appEditor.save();
      return data;
    });
  }
  delete(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      yield appEditor.removePageFile(params.page);
      const data = appEditor.removeColData("pageLinks", params.page);
      yield appEditor.save();
      return data;
    });
  }
  getView(params) {
    return __async(this, null, function* () {
      const result = yield __superGet(_PageEditorController.prototype, this, "getView").call(this, params);
      switch (params.view) {
        case "VisualView.html":
          const appEditor = this.createApplicationEditor();
          const pageEditor = yield appEditor.getPage(params.page);
          result.data.js = yield pageEditor.getCustomFile("js");
          result.data.jsx = yield pageEditor.getCustomFile("jsx");
          result.data.less = yield pageEditor.getCustomFile("less");
          return result;
        default:
          return result;
      }
    });
  }
  createController(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.getPage(params.page);
      const js = yield pageEditor.createJs(params);
      return { js };
    });
  }
  createView(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.getPage(params.page);
      const jsx = yield pageEditor.createJsx(params);
      return { jsx };
    });
  }
  createStyle(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.getPage(params.page);
      const less = yield pageEditor.createLess(params);
      return { less };
    });
  }
  saveController(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.getPage(params.page);
      yield pageEditor.saveCustomFile("js", params.text);
      return { js: params.text };
    });
  }
  createModelBackJs(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageEditor = yield appEditor.getPage(params.page);
      const js = yield pageEditor.createModelBackJs(params);
      return { js };
    });
  }
};
__name(_PageEditorController, "PageEditorController");
let PageEditorController = _PageEditorController;


/***/ }),

/***/ "./src/backend/editor/EditorController/PageLinkEditorController/PageLinkEditorController.ts":
/*!**************************************************************************************************!*\
  !*** ./src/backend/editor/EditorController/PageLinkEditorController/PageLinkEditorController.ts ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PageLinkEditorController": () => (/* binding */ PageLinkEditorController)
/* harmony export */ });
/* harmony import */ var _EditorController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EditorController */ "./src/backend/editor/EditorController/EditorController.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

const _PageLinkEditorController = class _PageLinkEditorController extends _EditorController__WEBPACK_IMPORTED_MODULE_0__.EditorController {
  save(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const pageLinkEditor = appEditor.createItemEditor("pageLinks", params.pageLink);
      pageLinkEditor.setAttr(params.attr, params.value);
      yield appEditor.save();
      return null;
    });
  }
  moveUp(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      appEditor.moveItemUp("pageLinks", params.page);
      yield appEditor.save();
      return "ok";
    });
  }
  moveDown(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      appEditor.moveItemDown("pageLinks", params.page);
      yield appEditor.save();
      return "ok";
    });
  }
};
__name(_PageLinkEditorController, "PageLinkEditorController");
let PageLinkEditorController = _PageLinkEditorController;


/***/ }),

/***/ "./src/backend/editor/EditorController/ParamEditorController/ParamEditorController.ts":
/*!********************************************************************************************!*\
  !*** ./src/backend/editor/EditorController/ParamEditorController/ParamEditorController.ts ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ParamEditorController": () => (/* binding */ ParamEditorController)
/* harmony export */ });
/* harmony import */ var _EditorController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EditorController */ "./src/backend/editor/EditorController/EditorController.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};


const _ParamEditorController = class _ParamEditorController extends _EditorController__WEBPACK_IMPORTED_MODULE_0__.EditorController {
  /* constructor(...args) {
      debug('ParamEditorController.constructor');
      super(...args);
  } */
  _new(params) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_1__.debug)("ParamEditorController._new");
      const appEditor = this.createApplicationEditor();
      const databaseEditor = appEditor.createItemEditor("databases", params.database);
      const data = databaseEditor.newItemData("Param", "params", params);
      yield appEditor.save();
      return data;
    });
  }
  save(params) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_1__.debug)("ParamEditorController.save");
      const appEditor = this.createApplicationEditor();
      const databaseEditor = appEditor.createItemEditor("databases", params.database);
      const paramEditor = databaseEditor.createItemEditor("params", params.param);
      paramEditor.setAttr(params.attr, params.value);
      yield appEditor.save();
      return null;
    });
  }
  delete(params) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_1__.debug)("ParamEditorController.delete");
      const appEditor = this.createApplicationEditor();
      const databaseEditor = appEditor.createItemEditor("databases", params.database);
      const data = databaseEditor.removeColData("params", params.param);
      yield appEditor.save();
      return data;
    });
  }
};
__name(_ParamEditorController, "ParamEditorController");
let ParamEditorController = _ParamEditorController;


/***/ }),

/***/ "./src/backend/editor/EditorController/TableEditorController/TableEditorController.ts":
/*!********************************************************************************************!*\
  !*** ./src/backend/editor/EditorController/TableEditorController/TableEditorController.ts ***!
  \********************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableEditorController": () => (/* binding */ TableEditorController)
/* harmony export */ });
/* harmony import */ var _EditorController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EditorController */ "./src/backend/editor/EditorController/EditorController.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};


const _TableEditorController = class _TableEditorController extends _EditorController__WEBPACK_IMPORTED_MODULE_0__.EditorController {
  /* constructor(...args) {
      super(...args);
  } */
  _new(params) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_1__.debug)("TableEditorController._new");
      const appEditor = this.createApplicationEditor();
      const databaseEditor = appEditor.createItemEditor("databases", params.database);
      const data = databaseEditor.newItemData("Table", "tables", params);
      yield appEditor.save();
      return data;
    });
  }
  delete(params) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_1__.debug)("TableEditorController.delete");
      const appEditor = this.createApplicationEditor();
      const databaseEditor = appEditor.createItemEditor("databases", params.database);
      const data = databaseEditor.removeColData("tables", params.table);
      yield appEditor.save();
      return data;
    });
  }
  moveUp(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const databaseEditor = appEditor.createItemEditor("databases", params.database);
      databaseEditor.moveItemUp("tables", params.table);
      yield appEditor.save();
      return "ok";
    });
  }
  moveDown(params) {
    return __async(this, null, function* () {
      const appEditor = this.createApplicationEditor();
      const databaseEditor = appEditor.createItemEditor("databases", params.database);
      databaseEditor.moveItemDown("tables", params.table);
      yield appEditor.save();
      return "ok";
    });
  }
  save(params) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_1__.debug)("TableEditorController.save");
      const appEditor = this.createApplicationEditor();
      const databaseEditor = appEditor.createItemEditor("databases", params.database);
      const tableEditor = databaseEditor.createItemEditor("tables", params.table);
      tableEditor.setAttr(params.attr, params.value);
      yield appEditor.save();
      return null;
    });
  }
};
__name(_TableEditorController, "TableEditorController");
let TableEditorController = _TableEditorController;


/***/ }),

/***/ "./src/backend/editor/EditorController/VisualEditorController.ts":
/*!***********************************************************************!*\
  !*** ./src/backend/editor/EditorController/VisualEditorController.ts ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VisualEditorController": () => (/* binding */ VisualEditorController)
/* harmony export */ });
/* harmony import */ var _EditorController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./EditorController */ "./src/backend/editor/EditorController/EditorController.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _VisualEditorController = class _VisualEditorController extends _EditorController__WEBPACK_IMPORTED_MODULE_0__.EditorController {
  /* async getView(params) {
      debug('VisualEditorController.getView');
      const result = await super.getView(params);
      if (params.view === 'VisualView.html') {
          const viewFilePath = path.join(
              this.hostApp.getFrontendDirPath(),
              'editor/class/Controller/ModelController/DocumentController/VisualController/view/VisualView.html'
          );
          result.view = await BkHelper.readTextFile(viewFilePath);
      }
      return result;
  } */
};
__name(_VisualEditorController, "VisualEditorController");
let VisualEditorController = _VisualEditorController;


/***/ }),

/***/ "./src/backend/editor/EditorModule.tsx":
/*!*********************************************!*\
  !*** ./src/backend/editor/EditorModule.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EditorModule": () => (/* binding */ EditorModule)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom/server */ "react-dom/server");
/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom_server__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _BkHelper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../BkHelper */ "./src/backend/BkHelper.ts");
/* harmony import */ var _viewer_BkModel_BkApplication_BkApplication__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../viewer/BkModel/BkApplication/BkApplication */ "./src/backend/viewer/BkModel/BkApplication/BkApplication.ts");
/* harmony import */ var _Links__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Links */ "./src/backend/Links.tsx");
/* harmony import */ var _Scripts__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Scripts */ "./src/backend/Scripts.tsx");
/* harmony import */ var _index__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../index */ "./src/backend/index.ts");
/* harmony import */ var _home__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./home */ "./src/backend/editor/home.tsx");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};










const pkg = __webpack_require__(/*! ../../../package.json */ "./package.json");
const EDITOR_CONTROLLERS = [
  "Application",
  "Database",
  "Param",
  "Table",
  "Column",
  "DataSource",
  "KeyColumn",
  "Page",
  "PageLink",
  "Form",
  "Field",
  "Action"
];
const EDITOR_ACTIONS = [
  "save",
  "_new",
  "delete",
  "getView",
  "saveView",
  "saveController",
  "createView",
  "createStyle",
  "createController",
  "get",
  "getTableInfo",
  "changeClass",
  "moveUp",
  "moveDown",
  "createModelBackJs"
];
const _EditorModule = class _EditorModule {
  constructor(hostApp) {
    this.hostApp = hostApp;
  }
  init() {
    return __async(this, null, function* () {
      this.css = (yield _BkHelper__WEBPACK_IMPORTED_MODULE_3__.BkHelper.getFilePaths(
        path__WEBPACK_IMPORTED_MODULE_1___default().join(this.hostApp.getFrontendDirPath(), "editor/public"),
        "css"
      )).map((path2) => `/editor/public/${path2}`);
      this.js = (yield _BkHelper__WEBPACK_IMPORTED_MODULE_3__.BkHelper.getFilePaths(
        path__WEBPACK_IMPORTED_MODULE_1___default().join(this.hostApp.getFrontendDirPath(), "editor/public"),
        "js"
      )).map((path2) => `/editor/public/${path2}`);
    });
  }
  getLinks() {
    return [
      "/lib/codemirror-4.8/lib/codemirror.css",
      "/lib/codemirror-4.8/theme/cobalt.css",
      ...this.css
    ];
  }
  getScripts() {
    return [
      "/lib/codemirror-4.8/lib/codemirror.js",
      "/lib/codemirror-4.8/mode/javascript/javascript.js",
      ...this.js
    ];
  }
  handleEditorGet(req, res, context) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_9__.debug)("EditorModule.handleEditorGet");
      const appInfo = yield _viewer_BkModel_BkApplication_BkApplication__WEBPACK_IMPORTED_MODULE_4__.BkApplication.loadAppInfo(this.hostApp.getSrcAppFilePath(context));
      const data = {
        app: appInfo.appFile.data,
        nodeEnv: this.hostApp.getNodeEnv(),
        logErrorUrl: "/error"
      };
      const links = react_dom_server__WEBPACK_IMPORTED_MODULE_2___default().renderToStaticMarkup(/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Links__WEBPACK_IMPORTED_MODULE_5__.Links, { links: this.getLinks() }));
      const scripts = react_dom_server__WEBPACK_IMPORTED_MODULE_2___default().renderToStaticMarkup(
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Scripts__WEBPACK_IMPORTED_MODULE_6__.Scripts, { scripts: this.getScripts() })
      );
      const html = (0,_home__WEBPACK_IMPORTED_MODULE_8__.home)(
        pkg.version,
        __spreadProps(__spreadValues({}, data), {
          runAppLink: `/viewer/${context.getAppDirName()}/${context.getAppFileName()}/${context.getEnv()}/${context.getDomain()}/?debug=1`
        }),
        `/viewer/${context.getAppDirName()}/${context.getAppFileName()}/${context.getEnv()}/${context.getDomain()}/?debug=1`,
        context.getAppDirName(),
        context.getAppFileName(),
        context.getEnv(),
        links,
        scripts
      );
      res.end(html);
    });
  }
  handleEditorPost(req, res, context) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_9__.debug)("EditorModule.handleEditorPost", req.body);
      const body = req.body;
      if (EDITOR_CONTROLLERS.indexOf(body.controller) === -1) {
        throw new Error(`unknown controller: ${body.controller}`);
      }
      if (EDITOR_ACTIONS.indexOf(body.action) === -1) {
        throw new Error(`unknown action ${body.action}`);
      }
      const editorControllerClassName = `${body.controller}EditorController`;
      const ControllerClass = _index__WEBPACK_IMPORTED_MODULE_7__[editorControllerClassName];
      if (!ControllerClass)
        throw new Error(`no class with name ${editorControllerClassName}`);
      const appInfo = yield _viewer_BkModel_BkApplication_BkApplication__WEBPACK_IMPORTED_MODULE_4__.BkApplication.loadAppInfo(this.hostApp.getSrcAppFilePath(context));
      const ctrl = new ControllerClass(appInfo, this.hostApp, null);
      yield ctrl.init(context);
      const method = body.action;
      if (!ctrl[method])
        throw new Error(`no method: ${editorControllerClassName}.${method}`);
      const result = yield ctrl[method](context.getParams());
      if (result === void 0)
        throw new Error("handleEditorPost: result is undefined");
      res.json(result);
    });
  }
};
__name(_EditorModule, "EditorModule");
let EditorModule = _EditorModule;


/***/ }),

/***/ "./src/backend/editor/home.tsx":
/*!*************************************!*\
  !*** ./src/backend/editor/home.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "home": () => (/* binding */ home)
/* harmony export */ });
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
const home = /* @__PURE__ */ __name((version, data, runAppLink, appDirName, appFileName, env, links, scripts) => {
  return `<!DOCTYPE html>
<html class="editor" lang="en">
<head>
<!-- ${version} -->
<meta charset="utf-8">
<title>${appDirName}/${appFileName}[${env}] - QForms Editor</title>
<!-- links -->
${links}
<!-- scripts -->
${scripts}
<!--<script type="text/javascript">
    document.addEventListener('DOMContentLoaded', async () => {
        console.debug('editor.ejs DOMContentLoaded');
        const data = JSON.parse(document.querySelector('script[type="application/json"]').textContent);
        const runAppLink = "${runAppLink}";
        const editorFrontHostApp = new EditorFrontHostApp(data, runAppLink);
        editorFrontHostApp.init();
        await editorFrontHostApp.run();
    });
<\/script>-->
<script type="application/json">${JSON.stringify(
    data
    /*, null, 4*/
  )}<\/script>
</head>
<body class="editor__body">
<div class="editor__root"></div>
</body>
</html>
`;
}, "home");


/***/ }),

/***/ "./src/backend/editor/index.ts":
/*!*************************************!*\
  !*** ./src/backend/editor/index.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ActionEditor": () => (/* reexport safe */ _Editor_ActionEditor_ActionEditor__WEBPACK_IMPORTED_MODULE_0__.ActionEditor),
/* harmony export */   "ActionEditorController": () => (/* reexport safe */ _EditorController_ActionEditorController_ActionEditorController__WEBPACK_IMPORTED_MODULE_34__.ActionEditorController),
/* harmony export */   "ApplicationEditor": () => (/* reexport safe */ _Editor_ApplicationEditor_ApplicationEditor__WEBPACK_IMPORTED_MODULE_1__.ApplicationEditor),
/* harmony export */   "ApplicationEditorController": () => (/* reexport safe */ _EditorController_ApplicationEditorController_ApplicationEditorController__WEBPACK_IMPORTED_MODULE_43__.ApplicationEditorController),
/* harmony export */   "CheckBoxFieldEditor": () => (/* reexport safe */ _Editor_FieldEditor_CheckBoxFieldEditor_CheckBoxFieldEditor__WEBPACK_IMPORTED_MODULE_6__.CheckBoxFieldEditor),
/* harmony export */   "CheckBoxListFieldEditor": () => (/* reexport safe */ _Editor_FieldEditor_CheckBoxListFieldEditor_CheckBoxListFieldEditor__WEBPACK_IMPORTED_MODULE_7__.CheckBoxListFieldEditor),
/* harmony export */   "ColumnEditor": () => (/* reexport safe */ _Editor_ColumnEditor_ColumnEditor__WEBPACK_IMPORTED_MODULE_33__.ColumnEditor),
/* harmony export */   "ColumnEditorController": () => (/* reexport safe */ _EditorController_ColumnEditorController_ColumnEditorController__WEBPACK_IMPORTED_MODULE_41__.ColumnEditorController),
/* harmony export */   "ComboBoxFieldEditor": () => (/* reexport safe */ _Editor_FieldEditor_ComboBoxFieldEditor_ComboBoxFieldEditor__WEBPACK_IMPORTED_MODULE_8__.ComboBoxFieldEditor),
/* harmony export */   "DataSourceEditor": () => (/* reexport safe */ _Editor_DataSourceEditor_DataSourceEditor__WEBPACK_IMPORTED_MODULE_2__.DataSourceEditor),
/* harmony export */   "DataSourceEditorController": () => (/* reexport safe */ _EditorController_DataSourceEditorController_DataSourceEditorController__WEBPACK_IMPORTED_MODULE_36__.DataSourceEditorController),
/* harmony export */   "DatabaseEditor": () => (/* reexport safe */ _Editor_DatabaseEditor_DatabaseEditor__WEBPACK_IMPORTED_MODULE_27__.DatabaseEditor),
/* harmony export */   "DatabaseEditorController": () => (/* reexport safe */ _EditorController_DatabaseEditorController_DatabaseEditorController__WEBPACK_IMPORTED_MODULE_35__.DatabaseEditorController),
/* harmony export */   "DateFieldEditor": () => (/* reexport safe */ _Editor_FieldEditor_DateFieldEditor_DateFieldEditor__WEBPACK_IMPORTED_MODULE_9__.DateFieldEditor),
/* harmony export */   "DateTimeFieldEditor": () => (/* reexport safe */ _Editor_FieldEditor_DateTimeFieldEditor_DateTimeFieldEditor__WEBPACK_IMPORTED_MODULE_11__.DateTimeFieldEditor),
/* harmony export */   "FieldEditor": () => (/* reexport safe */ _Editor_FieldEditor_FieldEditor__WEBPACK_IMPORTED_MODULE_5__.FieldEditor),
/* harmony export */   "FieldEditorController": () => (/* reexport safe */ _EditorController_FieldEditorController_FieldEditorController__WEBPACK_IMPORTED_MODULE_44__.FieldEditorController),
/* harmony export */   "FileFieldEditor": () => (/* reexport safe */ _Editor_FieldEditor_FileFieldEditor_FileFieldEditor__WEBPACK_IMPORTED_MODULE_12__.FileFieldEditor),
/* harmony export */   "FormEditor": () => (/* reexport safe */ _Editor_FormEditor_FormEditor__WEBPACK_IMPORTED_MODULE_21__.FormEditor),
/* harmony export */   "FormEditorController": () => (/* reexport safe */ _EditorController_FormEditorController_FormEditorController__WEBPACK_IMPORTED_MODULE_45__.FormEditorController),
/* harmony export */   "ImageFieldEditor": () => (/* reexport safe */ _Editor_FieldEditor_ImageFieldEditor_ImageFieldEditor__WEBPACK_IMPORTED_MODULE_13__.ImageFieldEditor),
/* harmony export */   "KeyColumnEditor": () => (/* reexport safe */ _Editor_KeyColumnEditor_KeyColumnEditor__WEBPACK_IMPORTED_MODULE_26__.KeyColumnEditor),
/* harmony export */   "KeyColumnEditorController": () => (/* reexport safe */ _EditorController_KeyColumnEditorController_KeyColumnEditorController__WEBPACK_IMPORTED_MODULE_37__.KeyColumnEditorController),
/* harmony export */   "LabelFieldEditor": () => (/* reexport safe */ _Editor_FieldEditor_LabelFieldEditor_LabelFieldEditor__WEBPACK_IMPORTED_MODULE_14__.LabelFieldEditor),
/* harmony export */   "LinkFieldEditor": () => (/* reexport safe */ _Editor_FieldEditor_LinkFieldEditor_LinkFieldEditor__WEBPACK_IMPORTED_MODULE_15__.LinkFieldEditor),
/* harmony export */   "MongoDbDatabaseEditor": () => (/* reexport safe */ _Editor_DatabaseEditor_MongoDbDatabaseEditor_MongoDbDatabaseEditor__WEBPACK_IMPORTED_MODULE_30__.MongoDbDatabaseEditor),
/* harmony export */   "MySqlDatabaseEditor": () => (/* reexport safe */ _Editor_DatabaseEditor_MySqlDatabaseEditor_MySqlDatabaseEditor__WEBPACK_IMPORTED_MODULE_28__.MySqlDatabaseEditor),
/* harmony export */   "NoSqlDataSourceEditor": () => (/* reexport safe */ _Editor_DataSourceEditor_NoSqlDataSourceEditor_NoSqlDataSourceEditor__WEBPACK_IMPORTED_MODULE_4__.NoSqlDataSourceEditor),
/* harmony export */   "PageEditor": () => (/* reexport safe */ _Editor_PageEditor_PageEditor__WEBPACK_IMPORTED_MODULE_24__.PageEditor),
/* harmony export */   "PageEditorController": () => (/* reexport safe */ _EditorController_PageEditorController_PageEditorController__WEBPACK_IMPORTED_MODULE_46__.PageEditorController),
/* harmony export */   "PageLinkEditor": () => (/* reexport safe */ _Editor_PageLinkEditor_PageLinkEditor__WEBPACK_IMPORTED_MODULE_25__.PageLinkEditor),
/* harmony export */   "PageLinkEditorController": () => (/* reexport safe */ _EditorController_PageLinkEditorController_PageLinkEditorController__WEBPACK_IMPORTED_MODULE_38__.PageLinkEditorController),
/* harmony export */   "ParamEditor": () => (/* reexport safe */ _Editor_ParamEditor_ParamEditor__WEBPACK_IMPORTED_MODULE_32__.ParamEditor),
/* harmony export */   "ParamEditorController": () => (/* reexport safe */ _EditorController_ParamEditorController_ParamEditorController__WEBPACK_IMPORTED_MODULE_39__.ParamEditorController),
/* harmony export */   "PasswordFieldEditor": () => (/* reexport safe */ _Editor_FieldEditor_PasswordFieldEditor_PasswordFieldEditor__WEBPACK_IMPORTED_MODULE_19__.PasswordFieldEditor),
/* harmony export */   "PhoneFieldEditor": () => (/* reexport safe */ _Editor_FieldEditor_PhoneFieldEditor_PhoneFieldEditor__WEBPACK_IMPORTED_MODULE_18__.PhoneFieldEditor),
/* harmony export */   "PostgreSqlDatabaseEditor": () => (/* reexport safe */ _Editor_DatabaseEditor_PostgreSqlDatabaseEditor_PostgreSqlDatabaseEditor__WEBPACK_IMPORTED_MODULE_29__.PostgreSqlDatabaseEditor),
/* harmony export */   "RadioFieldEditor": () => (/* reexport safe */ _Editor_FieldEditor_RadioFieldEditor_RadioFieldEditor__WEBPACK_IMPORTED_MODULE_20__.RadioFieldEditor),
/* harmony export */   "RowFormEditor": () => (/* reexport safe */ _Editor_FormEditor_RowFormEditor_RowFormEditor__WEBPACK_IMPORTED_MODULE_22__.RowFormEditor),
/* harmony export */   "SqlDataSourceEditor": () => (/* reexport safe */ _Editor_DataSourceEditor_SqlDataSourceEditor_SqlDataSourceEditor__WEBPACK_IMPORTED_MODULE_3__.SqlDataSourceEditor),
/* harmony export */   "TableEditor": () => (/* reexport safe */ _Editor_TableEditor_TableEditor__WEBPACK_IMPORTED_MODULE_31__.TableEditor),
/* harmony export */   "TableEditorController": () => (/* reexport safe */ _EditorController_TableEditorController_TableEditorController__WEBPACK_IMPORTED_MODULE_40__.TableEditorController),
/* harmony export */   "TableFormEditor": () => (/* reexport safe */ _Editor_FormEditor_TableFormEditor_TableFormEditor__WEBPACK_IMPORTED_MODULE_23__.TableFormEditor),
/* harmony export */   "TextAreaFieldEditor": () => (/* reexport safe */ _Editor_FieldEditor_TextAreaFieldEditor_TextAreaFieldEditor__WEBPACK_IMPORTED_MODULE_16__.TextAreaFieldEditor),
/* harmony export */   "TextBoxFieldEditor": () => (/* reexport safe */ _Editor_FieldEditor_TextBoxFieldEditor_TextBoxFieldEditor__WEBPACK_IMPORTED_MODULE_17__.TextBoxFieldEditor),
/* harmony export */   "TimeFieldEditor": () => (/* reexport safe */ _Editor_FieldEditor_TimeFieldEditor_TimeFieldEditor__WEBPACK_IMPORTED_MODULE_10__.TimeFieldEditor),
/* harmony export */   "VisualEditorController": () => (/* reexport safe */ _EditorController_VisualEditorController__WEBPACK_IMPORTED_MODULE_42__.VisualEditorController)
/* harmony export */ });
/* harmony import */ var _Editor_ActionEditor_ActionEditor__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Editor/ActionEditor/ActionEditor */ "./src/backend/editor/Editor/ActionEditor/ActionEditor.ts");
/* harmony import */ var _Editor_ApplicationEditor_ApplicationEditor__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Editor/ApplicationEditor/ApplicationEditor */ "./src/backend/editor/Editor/ApplicationEditor/ApplicationEditor.ts");
/* harmony import */ var _Editor_DataSourceEditor_DataSourceEditor__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Editor/DataSourceEditor/DataSourceEditor */ "./src/backend/editor/Editor/DataSourceEditor/DataSourceEditor.ts");
/* harmony import */ var _Editor_DataSourceEditor_SqlDataSourceEditor_SqlDataSourceEditor__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Editor/DataSourceEditor/SqlDataSourceEditor/SqlDataSourceEditor */ "./src/backend/editor/Editor/DataSourceEditor/SqlDataSourceEditor/SqlDataSourceEditor.ts");
/* harmony import */ var _Editor_DataSourceEditor_NoSqlDataSourceEditor_NoSqlDataSourceEditor__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Editor/DataSourceEditor/NoSqlDataSourceEditor/NoSqlDataSourceEditor */ "./src/backend/editor/Editor/DataSourceEditor/NoSqlDataSourceEditor/NoSqlDataSourceEditor.ts");
/* harmony import */ var _Editor_FieldEditor_FieldEditor__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Editor/FieldEditor/FieldEditor */ "./src/backend/editor/Editor/FieldEditor/FieldEditor.ts");
/* harmony import */ var _Editor_FieldEditor_CheckBoxFieldEditor_CheckBoxFieldEditor__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Editor/FieldEditor/CheckBoxFieldEditor/CheckBoxFieldEditor */ "./src/backend/editor/Editor/FieldEditor/CheckBoxFieldEditor/CheckBoxFieldEditor.ts");
/* harmony import */ var _Editor_FieldEditor_CheckBoxListFieldEditor_CheckBoxListFieldEditor__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Editor/FieldEditor/CheckBoxListFieldEditor/CheckBoxListFieldEditor */ "./src/backend/editor/Editor/FieldEditor/CheckBoxListFieldEditor/CheckBoxListFieldEditor.ts");
/* harmony import */ var _Editor_FieldEditor_ComboBoxFieldEditor_ComboBoxFieldEditor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./Editor/FieldEditor/ComboBoxFieldEditor/ComboBoxFieldEditor */ "./src/backend/editor/Editor/FieldEditor/ComboBoxFieldEditor/ComboBoxFieldEditor.ts");
/* harmony import */ var _Editor_FieldEditor_DateFieldEditor_DateFieldEditor__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./Editor/FieldEditor/DateFieldEditor/DateFieldEditor */ "./src/backend/editor/Editor/FieldEditor/DateFieldEditor/DateFieldEditor.ts");
/* harmony import */ var _Editor_FieldEditor_TimeFieldEditor_TimeFieldEditor__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Editor/FieldEditor/TimeFieldEditor/TimeFieldEditor */ "./src/backend/editor/Editor/FieldEditor/TimeFieldEditor/TimeFieldEditor.ts");
/* harmony import */ var _Editor_FieldEditor_DateTimeFieldEditor_DateTimeFieldEditor__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Editor/FieldEditor/DateTimeFieldEditor/DateTimeFieldEditor */ "./src/backend/editor/Editor/FieldEditor/DateTimeFieldEditor/DateTimeFieldEditor.ts");
/* harmony import */ var _Editor_FieldEditor_FileFieldEditor_FileFieldEditor__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Editor/FieldEditor/FileFieldEditor/FileFieldEditor */ "./src/backend/editor/Editor/FieldEditor/FileFieldEditor/FileFieldEditor.ts");
/* harmony import */ var _Editor_FieldEditor_ImageFieldEditor_ImageFieldEditor__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Editor/FieldEditor/ImageFieldEditor/ImageFieldEditor */ "./src/backend/editor/Editor/FieldEditor/ImageFieldEditor/ImageFieldEditor.ts");
/* harmony import */ var _Editor_FieldEditor_LabelFieldEditor_LabelFieldEditor__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Editor/FieldEditor/LabelFieldEditor/LabelFieldEditor */ "./src/backend/editor/Editor/FieldEditor/LabelFieldEditor/LabelFieldEditor.ts");
/* harmony import */ var _Editor_FieldEditor_LinkFieldEditor_LinkFieldEditor__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Editor/FieldEditor/LinkFieldEditor/LinkFieldEditor */ "./src/backend/editor/Editor/FieldEditor/LinkFieldEditor/LinkFieldEditor.ts");
/* harmony import */ var _Editor_FieldEditor_TextAreaFieldEditor_TextAreaFieldEditor__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Editor/FieldEditor/TextAreaFieldEditor/TextAreaFieldEditor */ "./src/backend/editor/Editor/FieldEditor/TextAreaFieldEditor/TextAreaFieldEditor.ts");
/* harmony import */ var _Editor_FieldEditor_TextBoxFieldEditor_TextBoxFieldEditor__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Editor/FieldEditor/TextBoxFieldEditor/TextBoxFieldEditor */ "./src/backend/editor/Editor/FieldEditor/TextBoxFieldEditor/TextBoxFieldEditor.ts");
/* harmony import */ var _Editor_FieldEditor_PhoneFieldEditor_PhoneFieldEditor__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Editor/FieldEditor/PhoneFieldEditor/PhoneFieldEditor */ "./src/backend/editor/Editor/FieldEditor/PhoneFieldEditor/PhoneFieldEditor.ts");
/* harmony import */ var _Editor_FieldEditor_PasswordFieldEditor_PasswordFieldEditor__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./Editor/FieldEditor/PasswordFieldEditor/PasswordFieldEditor */ "./src/backend/editor/Editor/FieldEditor/PasswordFieldEditor/PasswordFieldEditor.ts");
/* harmony import */ var _Editor_FieldEditor_RadioFieldEditor_RadioFieldEditor__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./Editor/FieldEditor/RadioFieldEditor/RadioFieldEditor */ "./src/backend/editor/Editor/FieldEditor/RadioFieldEditor/RadioFieldEditor.ts");
/* harmony import */ var _Editor_FormEditor_FormEditor__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./Editor/FormEditor/FormEditor */ "./src/backend/editor/Editor/FormEditor/FormEditor.ts");
/* harmony import */ var _Editor_FormEditor_RowFormEditor_RowFormEditor__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./Editor/FormEditor/RowFormEditor/RowFormEditor */ "./src/backend/editor/Editor/FormEditor/RowFormEditor/RowFormEditor.ts");
/* harmony import */ var _Editor_FormEditor_TableFormEditor_TableFormEditor__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./Editor/FormEditor/TableFormEditor/TableFormEditor */ "./src/backend/editor/Editor/FormEditor/TableFormEditor/TableFormEditor.ts");
/* harmony import */ var _Editor_PageEditor_PageEditor__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./Editor/PageEditor/PageEditor */ "./src/backend/editor/Editor/PageEditor/PageEditor.ts");
/* harmony import */ var _Editor_PageLinkEditor_PageLinkEditor__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./Editor/PageLinkEditor/PageLinkEditor */ "./src/backend/editor/Editor/PageLinkEditor/PageLinkEditor.ts");
/* harmony import */ var _Editor_KeyColumnEditor_KeyColumnEditor__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./Editor/KeyColumnEditor/KeyColumnEditor */ "./src/backend/editor/Editor/KeyColumnEditor/KeyColumnEditor.ts");
/* harmony import */ var _Editor_DatabaseEditor_DatabaseEditor__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./Editor/DatabaseEditor/DatabaseEditor */ "./src/backend/editor/Editor/DatabaseEditor/DatabaseEditor.ts");
/* harmony import */ var _Editor_DatabaseEditor_MySqlDatabaseEditor_MySqlDatabaseEditor__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./Editor/DatabaseEditor/MySqlDatabaseEditor/MySqlDatabaseEditor */ "./src/backend/editor/Editor/DatabaseEditor/MySqlDatabaseEditor/MySqlDatabaseEditor.ts");
/* harmony import */ var _Editor_DatabaseEditor_PostgreSqlDatabaseEditor_PostgreSqlDatabaseEditor__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./Editor/DatabaseEditor/PostgreSqlDatabaseEditor/PostgreSqlDatabaseEditor */ "./src/backend/editor/Editor/DatabaseEditor/PostgreSqlDatabaseEditor/PostgreSqlDatabaseEditor.ts");
/* harmony import */ var _Editor_DatabaseEditor_MongoDbDatabaseEditor_MongoDbDatabaseEditor__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./Editor/DatabaseEditor/MongoDbDatabaseEditor/MongoDbDatabaseEditor */ "./src/backend/editor/Editor/DatabaseEditor/MongoDbDatabaseEditor/MongoDbDatabaseEditor.ts");
/* harmony import */ var _Editor_TableEditor_TableEditor__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./Editor/TableEditor/TableEditor */ "./src/backend/editor/Editor/TableEditor/TableEditor.ts");
/* harmony import */ var _Editor_ParamEditor_ParamEditor__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./Editor/ParamEditor/ParamEditor */ "./src/backend/editor/Editor/ParamEditor/ParamEditor.ts");
/* harmony import */ var _Editor_ColumnEditor_ColumnEditor__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./Editor/ColumnEditor/ColumnEditor */ "./src/backend/editor/Editor/ColumnEditor/ColumnEditor.ts");
/* harmony import */ var _EditorController_ActionEditorController_ActionEditorController__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./EditorController/ActionEditorController/ActionEditorController */ "./src/backend/editor/EditorController/ActionEditorController/ActionEditorController.ts");
/* harmony import */ var _EditorController_DatabaseEditorController_DatabaseEditorController__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./EditorController/DatabaseEditorController/DatabaseEditorController */ "./src/backend/editor/EditorController/DatabaseEditorController/DatabaseEditorController.ts");
/* harmony import */ var _EditorController_DataSourceEditorController_DataSourceEditorController__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./EditorController/DataSourceEditorController/DataSourceEditorController */ "./src/backend/editor/EditorController/DataSourceEditorController/DataSourceEditorController.ts");
/* harmony import */ var _EditorController_KeyColumnEditorController_KeyColumnEditorController__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./EditorController/KeyColumnEditorController/KeyColumnEditorController */ "./src/backend/editor/EditorController/KeyColumnEditorController/KeyColumnEditorController.ts");
/* harmony import */ var _EditorController_PageLinkEditorController_PageLinkEditorController__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./EditorController/PageLinkEditorController/PageLinkEditorController */ "./src/backend/editor/EditorController/PageLinkEditorController/PageLinkEditorController.ts");
/* harmony import */ var _EditorController_ParamEditorController_ParamEditorController__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./EditorController/ParamEditorController/ParamEditorController */ "./src/backend/editor/EditorController/ParamEditorController/ParamEditorController.ts");
/* harmony import */ var _EditorController_TableEditorController_TableEditorController__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./EditorController/TableEditorController/TableEditorController */ "./src/backend/editor/EditorController/TableEditorController/TableEditorController.ts");
/* harmony import */ var _EditorController_ColumnEditorController_ColumnEditorController__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./EditorController/ColumnEditorController/ColumnEditorController */ "./src/backend/editor/EditorController/ColumnEditorController/ColumnEditorController.ts");
/* harmony import */ var _EditorController_VisualEditorController__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./EditorController/VisualEditorController */ "./src/backend/editor/EditorController/VisualEditorController.ts");
/* harmony import */ var _EditorController_ApplicationEditorController_ApplicationEditorController__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./EditorController/ApplicationEditorController/ApplicationEditorController */ "./src/backend/editor/EditorController/ApplicationEditorController/ApplicationEditorController.ts");
/* harmony import */ var _EditorController_FieldEditorController_FieldEditorController__WEBPACK_IMPORTED_MODULE_44__ = __webpack_require__(/*! ./EditorController/FieldEditorController/FieldEditorController */ "./src/backend/editor/EditorController/FieldEditorController/FieldEditorController.ts");
/* harmony import */ var _EditorController_FormEditorController_FormEditorController__WEBPACK_IMPORTED_MODULE_45__ = __webpack_require__(/*! ./EditorController/FormEditorController/FormEditorController */ "./src/backend/editor/EditorController/FormEditorController/FormEditorController.ts");
/* harmony import */ var _EditorController_PageEditorController_PageEditorController__WEBPACK_IMPORTED_MODULE_46__ = __webpack_require__(/*! ./EditorController/PageEditorController/PageEditorController */ "./src/backend/editor/EditorController/PageEditorController/PageEditorController.ts");

















































/***/ }),

/***/ "./src/backend/index.ts":
/*!******************************!*\
  !*** ./src/backend/index.ts ***!
  \******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ActionEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.ActionEditor),
/* harmony export */   "ActionEditorController": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.ActionEditorController),
/* harmony export */   "ApplicationEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.ApplicationEditor),
/* harmony export */   "ApplicationEditorController": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.ApplicationEditorController),
/* harmony export */   "BackHostApp": () => (/* reexport safe */ _BackHostApp__WEBPACK_IMPORTED_MODULE_3__.BackHostApp),
/* harmony export */   "BaseModel": () => (/* reexport safe */ _BaseModel__WEBPACK_IMPORTED_MODULE_2__.BaseModel),
/* harmony export */   "BkAction": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkAction),
/* harmony export */   "BkApplication": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkApplication),
/* harmony export */   "BkCheckBoxField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkCheckBoxField),
/* harmony export */   "BkCheckBoxListField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkCheckBoxListField),
/* harmony export */   "BkColumn": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkColumn),
/* harmony export */   "BkComboBoxField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkComboBoxField),
/* harmony export */   "BkDataSource": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkDataSource),
/* harmony export */   "BkDatabase": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkDatabase),
/* harmony export */   "BkDateField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkDateField),
/* harmony export */   "BkDateTimeField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkDateTimeField),
/* harmony export */   "BkField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkField),
/* harmony export */   "BkFileField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkFileField),
/* harmony export */   "BkForm": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkForm),
/* harmony export */   "BkHelper": () => (/* reexport safe */ _BkHelper__WEBPACK_IMPORTED_MODULE_0__.BkHelper),
/* harmony export */   "BkImageField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkImageField),
/* harmony export */   "BkLabelField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkLabelField),
/* harmony export */   "BkLinkField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkLinkField),
/* harmony export */   "BkModel": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkModel),
/* harmony export */   "BkMongoDbDatabase": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkMongoDbDatabase),
/* harmony export */   "BkMySqlDatabase": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkMySqlDatabase),
/* harmony export */   "BkNoSqlDataSource": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkNoSqlDataSource),
/* harmony export */   "BkPage": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkPage),
/* harmony export */   "BkPageLink": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkPageLink),
/* harmony export */   "BkParam": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkParam),
/* harmony export */   "BkPasswordField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkPasswordField),
/* harmony export */   "BkPhoneField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkPhoneField),
/* harmony export */   "BkPostgreSqlDatabase": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkPostgreSqlDatabase),
/* harmony export */   "BkRadioField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkRadioField),
/* harmony export */   "BkRowForm": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkRowForm),
/* harmony export */   "BkSqlDataSource": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkSqlDataSource),
/* harmony export */   "BkTable": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkTable),
/* harmony export */   "BkTableForm": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkTableForm),
/* harmony export */   "BkTextAreaField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkTextAreaField),
/* harmony export */   "BkTextBoxField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkTextBoxField),
/* harmony export */   "BkTimeField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_7__.BkTimeField),
/* harmony export */   "CheckBoxFieldEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.CheckBoxFieldEditor),
/* harmony export */   "CheckBoxListFieldEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.CheckBoxListFieldEditor),
/* harmony export */   "ColumnEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.ColumnEditor),
/* harmony export */   "ColumnEditorController": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.ColumnEditorController),
/* harmony export */   "ComboBoxFieldEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.ComboBoxFieldEditor),
/* harmony export */   "Context": () => (/* reexport safe */ _Context__WEBPACK_IMPORTED_MODULE_1__.Context),
/* harmony export */   "Converter": () => (/* reexport safe */ _Converter__WEBPACK_IMPORTED_MODULE_4__.Converter),
/* harmony export */   "DataSourceEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.DataSourceEditor),
/* harmony export */   "DataSourceEditorController": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.DataSourceEditorController),
/* harmony export */   "DatabaseEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.DatabaseEditor),
/* harmony export */   "DatabaseEditorController": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.DatabaseEditorController),
/* harmony export */   "DateFieldEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.DateFieldEditor),
/* harmony export */   "DateTimeFieldEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.DateTimeFieldEditor),
/* harmony export */   "FieldEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.FieldEditor),
/* harmony export */   "FieldEditorController": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.FieldEditorController),
/* harmony export */   "FileFieldEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.FileFieldEditor),
/* harmony export */   "FormEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.FormEditor),
/* harmony export */   "FormEditorController": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.FormEditorController),
/* harmony export */   "ImageFieldEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.ImageFieldEditor),
/* harmony export */   "JsonFile": () => (/* reexport safe */ _JsonFile__WEBPACK_IMPORTED_MODULE_5__.JsonFile),
/* harmony export */   "KeyColumnEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.KeyColumnEditor),
/* harmony export */   "KeyColumnEditorController": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.KeyColumnEditorController),
/* harmony export */   "LabelFieldEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.LabelFieldEditor),
/* harmony export */   "LinkFieldEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.LinkFieldEditor),
/* harmony export */   "MongoDbDatabaseEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.MongoDbDatabaseEditor),
/* harmony export */   "MySqlDatabaseEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.MySqlDatabaseEditor),
/* harmony export */   "NoSqlDataSourceEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.NoSqlDataSourceEditor),
/* harmony export */   "PageEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.PageEditor),
/* harmony export */   "PageEditorController": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.PageEditorController),
/* harmony export */   "PageLinkEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.PageLinkEditor),
/* harmony export */   "PageLinkEditorController": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.PageLinkEditorController),
/* harmony export */   "ParamEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.ParamEditor),
/* harmony export */   "ParamEditorController": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.ParamEditorController),
/* harmony export */   "PasswordFieldEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.PasswordFieldEditor),
/* harmony export */   "PhoneFieldEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.PhoneFieldEditor),
/* harmony export */   "PostgreSqlDatabaseEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.PostgreSqlDatabaseEditor),
/* harmony export */   "RadioFieldEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.RadioFieldEditor),
/* harmony export */   "RowFormEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.RowFormEditor),
/* harmony export */   "SqlDataSourceEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.SqlDataSourceEditor),
/* harmony export */   "TableEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.TableEditor),
/* harmony export */   "TableEditorController": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.TableEditorController),
/* harmony export */   "TableFormEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.TableFormEditor),
/* harmony export */   "TextAreaFieldEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.TextAreaFieldEditor),
/* harmony export */   "TextBoxFieldEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.TextBoxFieldEditor),
/* harmony export */   "TimeFieldEditor": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.TimeFieldEditor),
/* harmony export */   "VisualEditorController": () => (/* reexport safe */ _editor__WEBPACK_IMPORTED_MODULE_8__.VisualEditorController)
/* harmony export */ });
/* harmony import */ var _BkHelper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BkHelper */ "./src/backend/BkHelper.ts");
/* harmony import */ var _Context__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Context */ "./src/backend/Context.ts");
/* harmony import */ var _BaseModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BaseModel */ "./src/backend/BaseModel.ts");
/* harmony import */ var _BackHostApp__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BackHostApp */ "./src/backend/BackHostApp.ts");
/* harmony import */ var _Converter__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Converter */ "./src/backend/Converter.ts");
/* harmony import */ var _JsonFile__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./JsonFile */ "./src/backend/JsonFile.ts");
/* harmony import */ var _AppInfo__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./AppInfo */ "./src/backend/AppInfo.ts");
/* harmony import */ var _AppInfo__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_AppInfo__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _AppInfo__WEBPACK_IMPORTED_MODULE_6__) if(["default","BkHelper","Context","BaseModel","BackHostApp","Converter","JsonFile"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _AppInfo__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);
/* harmony import */ var _viewer__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./viewer */ "./src/backend/viewer/index.ts");
/* harmony import */ var _editor__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./editor */ "./src/backend/editor/index.ts");











/***/ }),

/***/ "./src/backend/index/IndexModule.tsx":
/*!*******************************************!*\
  !*** ./src/backend/index/IndexModule.tsx ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "IndexModule": () => (/* binding */ IndexModule)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom/server */ "react-dom/server");
/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom_server__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _viewer_BkModel_BkApplication_BkApplication__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../viewer/BkModel/BkApplication/BkApplication */ "./src/backend/viewer/BkModel/BkApplication/BkApplication.ts");
/* harmony import */ var _BkHelper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../BkHelper */ "./src/backend/BkHelper.ts");
/* harmony import */ var _Links__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Links */ "./src/backend/Links.tsx");
/* harmony import */ var _Scripts__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Scripts */ "./src/backend/Scripts.tsx");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};







const pkg = __webpack_require__(/*! ../../../package.json */ "./package.json");
const _IndexModule = class _IndexModule {
  constructor(hostApp) {
    this.hostApp = hostApp;
  }
  init() {
    return __async(this, null, function* () {
      this.css = (yield _BkHelper__WEBPACK_IMPORTED_MODULE_4__.BkHelper.getFilePaths(
        path__WEBPACK_IMPORTED_MODULE_1___default().join(this.hostApp.getFrontendDirPath(), "index/public"),
        "css"
      )).map((path2) => `/index/public/${path2}`);
      this.js = (yield _BkHelper__WEBPACK_IMPORTED_MODULE_4__.BkHelper.getFilePaths(
        path__WEBPACK_IMPORTED_MODULE_1___default().join(this.hostApp.getFrontendDirPath(), "index/public"),
        "js"
      )).map((path2) => `/index/public/${path2}`);
    });
  }
  fill() {
    return __async(this, null, function* () {
      const appInfos = yield _viewer_BkModel_BkApplication_BkApplication__WEBPACK_IMPORTED_MODULE_3__.BkApplication.getAppInfos(
        this.hostApp.appsDirPath
      );
      return {
        nodeEnv: this.hostApp.getNodeEnv(),
        appInfos: appInfos.map((appInfo) => ({
          fullName: appInfo.fullName,
          envs: appInfo.envs
        }))
      };
    });
  }
  getLinks() {
    return this.css;
  }
  getScripts() {
    return this.js;
  }
  render() {
    return __async(this, null, function* () {
      const links = react_dom_server__WEBPACK_IMPORTED_MODULE_2___default().renderToStaticMarkup(/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Links__WEBPACK_IMPORTED_MODULE_5__.Links, { links: this.getLinks() }));
      const scripts = react_dom_server__WEBPACK_IMPORTED_MODULE_2___default().renderToStaticMarkup(
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Scripts__WEBPACK_IMPORTED_MODULE_6__.Scripts, { scripts: this.getScripts() })
      );
      const data = yield this.fill();
      const data2 = JSON.stringify(
        data
        /*, null, 4*/
      );
      return `<!DOCTYPE html>
<html>
<head>
    <!-- ${pkg.version}> -->
    <meta charSet="utf-8">
    <title>QForms v${pkg.version}</title>
    <!-- links -->
    ${links}
    <!-- scripts -->
    ${scripts}
    <script type="application/json">${data2}<\/script>
    <!--<script>
        document.addEventListener('DOMContentLoaded', () => {
            // console.debug('DOMContentLoaded');
            const data = JSON.parse(document.querySelector('script[type="application/json"]').textContent);
            new IndexFrontHostApp(data).init();
        });
    <\/script>-->
</head>
<body>
<div id="root"></div>
</body>
</html>`;
    });
  }
};
__name(_IndexModule, "IndexModule");
let IndexModule = _IndexModule;


/***/ }),

/***/ "./src/backend/monitor/MonitorModule.tsx":
/*!***********************************************!*\
  !*** ./src/backend/monitor/MonitorModule.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MonitorModule": () => (/* binding */ MonitorModule)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _BkHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../BkHelper */ "./src/backend/BkHelper.ts");
/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom/server */ "react-dom/server");
/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom_server__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _Links__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../Links */ "./src/backend/Links.tsx");
/* harmony import */ var _Scripts__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../Scripts */ "./src/backend/Scripts.tsx");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};






const pkg = __webpack_require__(/*! ../../../package.json */ "./package.json");
const _MonitorModule = class _MonitorModule {
  constructor(hostApp) {
    this.hostApp = hostApp;
  }
  init() {
    return __async(this, null, function* () {
      this.css = (yield _BkHelper__WEBPACK_IMPORTED_MODULE_2__.BkHelper.getFilePaths(
        path__WEBPACK_IMPORTED_MODULE_1___default().join(this.hostApp.getFrontendDirPath(), "monitor/public"),
        "css"
      )).map((path2) => `/monitor/public/${path2}`);
      this.js = (yield _BkHelper__WEBPACK_IMPORTED_MODULE_2__.BkHelper.getFilePaths(
        path__WEBPACK_IMPORTED_MODULE_1___default().join(this.hostApp.getFrontendDirPath(), "monitor/public"),
        "js"
      )).map((path2) => `/monitor/public/${path2}`);
    });
  }
  fill() {
    return {
      nodeEnv: this.hostApp.getNodeEnv(),
      uptime: Date.now() - this.hostApp.startTime.getTime(),
      applications: Object.keys(this.hostApp.applications).map((route) => {
        const app = this.hostApp.applications[route];
        return {
          route,
          version: app.getVersion(),
          pages: Object.keys(app.pages).map((name) => {
            return {
              name
            };
          }),
          clients: app.clients.map((webSocket) => {
            return {
              // @ts-ignore
              uuid: webSocket.uuid,
              // @ts-ignore
              userId: webSocket.userId,
              ip: _BkHelper__WEBPACK_IMPORTED_MODULE_2__.BkHelper.getWebSocketIP(webSocket),
              // @ts-ignore
              version: webSocket.customFields.version
            };
          })
        };
      })
    };
  }
  getLinks() {
    return this.css;
  }
  getScripts() {
    return this.js;
  }
  checkCredentials(req) {
    const base64string = req.headers.authorization.substr(6);
    const usernamePassword = new Buffer(base64string, "base64").toString();
    const [username, password] = usernamePassword.split(":");
    return username === this.hostApp.getParams().monitor.username && password === this.hostApp.getParams().monitor.password;
  }
  authorize(req) {
    if (this.hostApp.isDevelopment()) {
      return true;
    }
    if (!this.hostApp.getParams().monitor) {
      throw new Error("no monitor params");
    }
    return req.headers.authorization && req.headers.authorization.substr(0, 5) === "Basic" && this.checkCredentials(req);
  }
  render() {
    const links = react_dom_server__WEBPACK_IMPORTED_MODULE_3___default().renderToStaticMarkup(/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Links__WEBPACK_IMPORTED_MODULE_4__.Links, { links: this.getLinks() }));
    const scripts = react_dom_server__WEBPACK_IMPORTED_MODULE_3___default().renderToStaticMarkup(
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Scripts__WEBPACK_IMPORTED_MODULE_5__.Scripts, { scripts: this.getScripts() })
    );
    const data = JSON.stringify(
      this.fill()
      /*, null, 4*/
    );
    return `<!DOCTYPE html>
<html class="monitor" lang="en">
<head>
    <!-- ${pkg.version}> -->
    <meta charSet="utf-8">
    <title>QForms monitor v${pkg.version}</title>
    <!-- links -->
    ${links}
    <!-- scripts -->
    ${scripts}
    <script type="application/json">${data}<\/script>
</head>
<body class="monitor__body">
    <div class="monitor__root"></div>
</body>
</html>`;
  }
};
__name(_MonitorModule, "MonitorModule");
let MonitorModule = _MonitorModule;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkAction/BkAction.ts":
/*!*********************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkAction/BkAction.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkAction": () => (/* binding */ BkAction)
/* harmony export */ });
/* harmony import */ var _BkModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkModel */ "./src/backend/viewer/BkModel/BkModel.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _BkAction = class _BkAction extends _BkModel__WEBPACK_IMPORTED_MODULE_0__.BkModel {
  fillAttributes(response) {
    response.name = this.getAttr("name");
    response.caption = this.getAttr("caption");
  }
};
__name(_BkAction, "BkAction");
let BkAction = _BkAction;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkApplication/BkApplication.ts":
/*!*******************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkApplication/BkApplication.ts ***!
  \*******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkApplication": () => (/* binding */ BkApplication)
/* harmony export */ });
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! uuid */ "uuid");
/* harmony import */ var uuid__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(uuid__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _BaseModel__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../BaseModel */ "./src/backend/BaseModel.ts");
/* harmony import */ var _BkModel__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../BkModel */ "./src/backend/viewer/BkModel/BkModel.ts");
/* harmony import */ var _BkHelper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../BkHelper */ "./src/backend/BkHelper.ts");
/* harmony import */ var _BkPageLink_BkPageLink__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../BkPageLink/BkPageLink */ "./src/backend/viewer/BkModel/BkPageLink/BkPageLink.ts");
/* harmony import */ var _JsonFile__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../JsonFile */ "./src/backend/JsonFile.ts");
/* harmony import */ var _HttpError__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../HttpError */ "./src/backend/HttpError.ts");
/* harmony import */ var _Result__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../../../../Result */ "./src/Result.ts");
/* harmony import */ var _home__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../home */ "./src/backend/viewer/home.tsx");
/* harmony import */ var _text__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../text */ "./src/backend/viewer/text/index.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ../../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __getProtoOf = Object.getPrototypeOf;
var __reflectGet = Reflect.get;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __superGet = (cls, obj, key) => __reflectGet(__getProtoOf(cls), key, obj);
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};












const pkg = __webpack_require__(/*! ../../../../../package.json */ "./package.json");
const _BkApplication = class _BkApplication extends _BkModel__WEBPACK_IMPORTED_MODULE_3__.BkModel {
  constructor(appInfo, hostApp, env = "local") {
    super(appInfo.appFile.data);
    this.appInfo = appInfo;
    this.hostApp = hostApp;
    this.env = env;
    this.databases = [];
    this.actions = [];
    this.dataSources = [];
    this.pages = {};
    this.clients = [];
    if (!hostApp)
      throw new Error("BkApplication: no hostApp");
  }
  init(context) {
    return __async(this, null, function* () {
      yield __superGet(_BkApplication.prototype, this, "init").call(this, context);
      yield this.createColItems("databases", context);
      yield this.createColItems("actions", context);
      yield this.createColItems("dataSources", context);
      this.links = yield this.getLinks(context);
      this.scripts = yield this.getScripts(context);
      yield this.createMenu(context);
    });
  }
  getHostApp() {
    return this.hostApp;
  }
  getLinks(context) {
    return __async(this, null, function* () {
      const virtualPath = context.getVirtualPath();
      return (yield _BkHelper__WEBPACK_IMPORTED_MODULE_4__.BkHelper.getFilePaths(this.getPublicDirPath(), "css")).map(
        (src) => `${virtualPath}/${src}`
      );
    });
  }
  getScripts(context) {
    return __async(this, null, function* () {
      const virtualPath = context.getVirtualPath();
      const publicDirPath = this.getPublicDirPath();
      (0,_console__WEBPACK_IMPORTED_MODULE_11__.debug)("publicDirPath:", publicDirPath);
      return (yield _BkHelper__WEBPACK_IMPORTED_MODULE_4__.BkHelper.getFilePaths(publicDirPath, "js")).map(
        (src) => `${virtualPath}/${src}`
      );
    });
  }
  deinit() {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_11__.debug)(`Application.deinit: ${this.getName()}`);
      yield __superGet(_BkApplication.prototype, this, "deinit").call(this);
      for (const database of this.databases) {
        yield database.deinit();
      }
    });
  }
  getDirPath() {
    return this.appInfo.dirPath;
  }
  /* getDistDirPath(): string | undefined {
      return this.appInfo.distDirPath;
  } */
  getPublicDirPath() {
    const dirPath = this.getDirPath();
    return path__WEBPACK_IMPORTED_MODULE_0___default().join(dirPath, "public");
  }
  getText() {
    const lang = this.getAttr("lang") || "en";
    return _text__WEBPACK_IMPORTED_MODULE_10__[lang];
  }
  getVersion() {
    return null;
  }
  fillAttributes(response) {
    response.class = this.getClassName();
    response.name = this.getAttr("name");
    response.caption = this.getAttr("caption");
    response.lang = this.getAttr("lang");
    response.theme = this.getAttr("theme");
    response.cssBlock = this.getAttr("cssBlock");
    response.viewClass = this.getAttr("viewClass");
    response.ctrlClass = this.getAttr("ctrlClass");
  }
  fill(context) {
    return __async(this, null, function* () {
      const start = Date.now();
      const response = yield __superGet(_BkApplication.prototype, this, "fill").call(this, context);
      response.route = context.getRoute();
      response.domain = context.getDomain();
      response.virtualPath = context.getVirtualPath();
      response.logErrorUrl = this.getHostApp().getFrontLogUrl() || "/error";
      response.versions = {
        platform: pkg.version,
        app: this.getVersion()
      };
      yield this.fillCollection(response, "databases", context);
      yield this.fillCollection(response, "actions", context);
      yield this.fillCollection(response, "dataSources", context);
      response.nodeEnv = this.getHostApp().getNodeEnv();
      response.text = this.getText();
      response.menu = this.menu;
      response.nav = this.nav;
      response.uuid = (0,uuid__WEBPACK_IMPORTED_MODULE_1__.v4)();
      response.actions = this.getCol("actions").map((action) => ({
        name: _BaseModel__WEBPACK_IMPORTED_MODULE_2__.BaseModel.getName(action),
        caption: _BaseModel__WEBPACK_IMPORTED_MODULE_2__.BaseModel.getAttr(action, "caption")
      }));
      response.pages = yield this.fillPages(context);
      response.user = this.isAuthentication() ? yield this.getClientUserFromServerUser(context) : null;
      response.time = Date.now() - start;
      return response;
    });
  }
  getClientUserFromServerUser(context) {
    return __async(this, null, function* () {
      const user = context.getUser();
      if (!user)
        throw new Error("getClientUserFromServerUser: no server user");
      return {
        id: user.id,
        login: user.name
      };
    });
  }
  createMenu(ctx) {
    return __async(this, null, function* () {
      const menu = {};
      const nav = {};
      const pageLinkNames = this.getItemNames("pageLinks");
      for (const pageLinkName of pageLinkNames) {
        const pageLink = this.createPageLink(pageLinkName);
        const pageLinkMenu = pageLink.getAttr("menu");
        if (pageLinkMenu) {
          const pageFilePath = pageLink.getPageFilePath();
          const pageFile = new _JsonFile__WEBPACK_IMPORTED_MODULE_6__.JsonFile(pageFilePath);
          yield pageFile.read();
          if (!menu[pageLinkMenu]) {
            menu[pageLinkMenu] = [];
          }
          menu[pageLinkMenu].push({
            type: "page",
            page: pageLink.getAttr("name"),
            caption: pageFile.getAttr("caption")
          });
          if (!nav[pageLinkMenu]) {
            nav[pageLinkMenu] = [];
          }
          nav[pageLinkMenu].push({
            page: pageLink.getAttr("name"),
            caption: pageFile.getAttr("caption")
          });
        }
      }
      const actions = this.getCol("actions");
      if (actions.length) {
        menu["Actions"] = actions.map((action) => ({
          type: "action",
          action: _BaseModel__WEBPACK_IMPORTED_MODULE_2__.BaseModel.getName(action),
          caption: _BaseModel__WEBPACK_IMPORTED_MODULE_2__.BaseModel.getAttr(action, "caption")
        }));
      }
      this.menu = menu;
      this.nav = nav;
    });
  }
  createPageLink(name) {
    const data = this.getColItemData("pageLinks", name);
    return new _BkPageLink_BkPageLink__WEBPACK_IMPORTED_MODULE_5__.BkPageLink(data, this);
  }
  createPage(context, pageLinkName) {
    return __async(this, null, function* () {
      if (!this.isData("pageLinks", pageLinkName)) {
        throw new Error(`no page with name: ${pageLinkName}`);
      }
      const pageLink = this.createPageLink(pageLinkName);
      const relFilePath = pageLink.getAttr("fileName");
      const pageFilePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(this.getDirPath(), relFilePath);
      const content = yield _BkHelper__WEBPACK_IMPORTED_MODULE_4__.BkHelper.readTextFile(pageFilePath);
      const data = JSON.parse(content);
      const page = yield this.createChildModel("pages", data);
      yield page.init(context);
      return page;
    });
  }
  authorizePage(user, pageName) {
    return true;
  }
  getPage(context, pageLinkName) {
    return __async(this, null, function* () {
      const user = context.getUser();
      if (user && this.authorizePage(user, pageLinkName) === false) {
        throw new Error("authorization error");
      }
      if (this.pages[pageLinkName]) {
        return this.pages[pageLinkName];
      }
      return this.pages[pageLinkName] = yield this.createPage(context, pageLinkName);
    });
  }
  getStartupPageLinkNames() {
    return this.getCol("pageLinks").filter((data) => _BaseModel__WEBPACK_IMPORTED_MODULE_2__.BaseModel.getAttr(data, "startup") === "true").map((data) => _BaseModel__WEBPACK_IMPORTED_MODULE_2__.BaseModel.getName(data));
  }
  getPageLinksToFill(context) {
    const pageLinkName = context.getAllParams().page;
    if (pageLinkName) {
      return [pageLinkName];
    }
    return this.getStartupPageLinkNames();
  }
  fillPages(context) {
    return __async(this, null, function* () {
      const pages = [];
      const pageLinksNames = this.getPageLinksToFill(context);
      for (const pageLinkName of pageLinksNames) {
        const page = yield this.getPage(context, pageLinkName);
        const response = yield page.fill(context);
        pages.push(response);
      }
      return pages;
    });
  }
  authenticate(ctx, username, password) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_11__.debug)("Application.authenticate");
      if (username === this.getAttr("user") && password === this.getAttr("password")) {
        return {
          id: 1,
          name: username
        };
      }
      return null;
    });
  }
  isAuthentication() {
    return this.getAttr("authentication") === "true";
  }
  getUsers(context) {
    return __async(this, null, function* () {
      return null;
    });
  }
  rpc(name, context) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_11__.debug)("BkApplication.rpc", name, context.getBody());
      if (this[name])
        return yield this[name](context);
      throw new _HttpError__WEBPACK_IMPORTED_MODULE_7__.HttpError({
        message: `no remote proc ${this.constructor.name}.${name}`,
        data: { method: `${this.constructor.name}.rpc` },
        context
      });
    });
  }
  /* async request(options) {
      debug(colors.magenta('Application.request'), options);
      return await axios(options);
  } */
  getEnv() {
    return this.env;
  }
  getEnvVarValue(name) {
    if (!name)
      throw new Error("no name");
    const env = this.getEnv();
    const obj = this.data.env[env];
    if (!obj)
      throw new Error(`no env ${env}`);
    if (obj[name])
      return obj[name];
    throw new Error(`no env ${name} in ${env}`);
  }
  getApp() {
    return this;
  }
  findDatabase(name) {
    return this.databases.find((database) => database.getName() === name);
  }
  getDatabase(name) {
    const db = this.findDatabase(name);
    if (!db)
      throw new Error(`no database with name: ${name}`);
    return db;
  }
  // to init custom context params before each request get/post
  initContext(context) {
    return __async(this, null, function* () {
    });
  }
  static makeAppInfoFromAppFile(appFile) {
    const { data, filePath } = appFile;
    const dirName = path__WEBPACK_IMPORTED_MODULE_0___default().basename(path__WEBPACK_IMPORTED_MODULE_0___default().dirname(filePath));
    const fileName = path__WEBPACK_IMPORTED_MODULE_0___default().basename(filePath, path__WEBPACK_IMPORTED_MODULE_0___default().extname(filePath));
    return {
      appFile,
      name: _BaseModel__WEBPACK_IMPORTED_MODULE_2__.BaseModel.getName(data),
      caption: _BaseModel__WEBPACK_IMPORTED_MODULE_2__.BaseModel.getAttr(data, "caption"),
      fullName: (0,path__WEBPACK_IMPORTED_MODULE_0__.join)(dirName, fileName),
      envs: _BkApplication.getEnvList(data),
      dirName,
      fileName,
      filePath: path__WEBPACK_IMPORTED_MODULE_0___default().resolve(filePath),
      fileNameExt: path__WEBPACK_IMPORTED_MODULE_0___default().basename(filePath),
      extName: path__WEBPACK_IMPORTED_MODULE_0___default().extname(filePath),
      dirPath: path__WEBPACK_IMPORTED_MODULE_0___default().resolve(path__WEBPACK_IMPORTED_MODULE_0___default().dirname(filePath))
      // distDirPath,
    };
  }
  static loadAppInfo(appFilePath) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_11__.debug)(
        "Application.loadAppInfo",
        appFilePath
        /* , distDirPath */
      );
      const appFile = new _JsonFile__WEBPACK_IMPORTED_MODULE_6__.JsonFile(appFilePath);
      yield appFile.read();
      const appInfo = _BkApplication.makeAppInfoFromAppFile(
        appFile
        /* , distDirPath */
      );
      return appInfo;
    });
  }
  static getAppInfos(appsDirPath) {
    return __async(this, null, function* () {
      const appFilesPaths = yield _BkHelper__WEBPACK_IMPORTED_MODULE_4__.BkHelper._glob(path__WEBPACK_IMPORTED_MODULE_0___default().join(appsDirPath, "*/*.json"));
      const appInfos = [];
      for (let i = 0; i < appFilesPaths.length; i++) {
        const appFilePath = appFilesPaths[i];
        const appInfo = yield _BkApplication.loadAppInfo(
          appFilePath
          /* , distDirPath */
        );
        if (appInfo) {
          appInfos.push(appInfo);
        }
      }
      return appInfos;
    });
  }
  findDataSource(name) {
    return this.dataSources.find((dataSource) => dataSource.getName() === name);
  }
  getDataSource(name) {
    const ds = this.findDataSource(name);
    if (!ds)
      throw new Error(`${this.getName()}: no data source ${name}`);
    return ds;
  }
  getViewClassName() {
    return this.getAttr("viewClass") || "ApplicationView";
  }
  connect(context) {
    return __async(this, null, function* () {
      try {
        for (const db of this.databases) {
          yield db.connect(context);
        }
      } catch (err) {
        for (const db of this.databases) {
          if (db.isConnected(context)) {
            yield db.release(context);
          }
        }
        throw err;
      }
    });
  }
  release(context) {
    return __async(this, null, function* () {
      for (const db of this.databases) {
        yield db.release(context);
      }
    });
  }
  addClient(webSocket) {
    this.clients.push(webSocket);
  }
  removeClient(webSocket) {
    const i = this.clients.indexOf(webSocket);
    if (i === -1)
      throw new Error(`cannot find socket: ${webSocket.route} ${webSocket.uuid}`);
    this.clients.splice(i, 1);
  }
  broadcastDomesticResultToClients(context, result) {
    (0,_console__WEBPACK_IMPORTED_MODULE_11__.debug)("Application.broadcastDomesticResultToClients", context.getReq().body.uuid, result);
    if (!context.getReq().body.uuid)
      throw new Error("no uuid");
    if (!result)
      throw new Error("no result");
    const uuid = context.getReq().body.uuid;
    for (const webSocket of this.clients) {
      if (webSocket.uuid !== uuid) {
        webSocket.send(JSON.stringify({ type: "result", data: result }));
      }
    }
  }
  broadcastForeignResultToClients(context, result) {
    (0,_console__WEBPACK_IMPORTED_MODULE_11__.debug)("Application.broadcastForeignResultToClients", context.getReq().body.uuid, result);
    if (!context.getReq().body.uuid)
      throw new Error("no uuid");
    if (!result)
      throw new Error("no result");
    const fResult = this.composeForeignResult(result);
    if (fResult) {
      const uuid = context.getReq().body.uuid;
      for (const webSocket of this.clients) {
        if (webSocket.uuid !== uuid) {
          webSocket.send(JSON.stringify({ type: "result", data: fResult }));
        }
      }
    }
  }
  composeForeignResult(result) {
    let fResult = null;
    for (const databaseName in result) {
      const database = this.findDatabase(databaseName);
      if (database) {
        for (const tableName in result[databaseName]) {
          const table = database.findTable(tableName);
          if (table) {
            if (!fResult)
              fResult = new _Result__WEBPACK_IMPORTED_MODULE_8__.Result();
            if (!fResult[databaseName])
              fResult[databaseName] = {};
            fResult[databaseName][tableName] = { refresh: true };
          }
        }
      }
    }
    return fResult;
  }
  getTitle(context) {
    return this.getAttr("caption");
  }
  getLoginViewClassName() {
    return "LoginView";
  }
  isAvailable() {
    return true;
  }
  handleGetFile(context, next) {
    return __async(this, null, function* () {
      const filePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(this.getPublicDirPath(), context.getUri());
      if (yield _BkHelper__WEBPACK_IMPORTED_MODULE_4__.BkHelper.exists(filePath)) {
        context.getRes().sendFile(filePath);
      } else {
        context.getRes().status(404).end("Not Found");
        yield this.getHostApp().logError(
          new Error(`not found ${context.getUri()}`),
          context.getReq()
        );
      }
    });
  }
  renderIndexHtml(context, applicationController, qformsVersion, links, scripts, data, appViewHtml) {
    return (0,_home__WEBPACK_IMPORTED_MODULE_9__.home)(
      this,
      context,
      applicationController,
      qformsVersion,
      links,
      scripts,
      data,
      appViewHtml
    );
  }
  static getEnvList(data) {
    const list = data.env ? Object.keys(data.env).filter((env) => env !== "local") : [];
    return ["local", ...list];
  }
};
__name(_BkApplication, "BkApplication");
let BkApplication = _BkApplication;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkColumn/BkColumn.ts":
/*!*********************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkColumn/BkColumn.ts ***!
  \*********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkColumn": () => (/* binding */ BkColumn)
/* harmony export */ });
/* harmony import */ var _BkModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkModel */ "./src/backend/viewer/BkModel/BkModel.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _BkColumn = class _BkColumn extends _BkModel__WEBPACK_IMPORTED_MODULE_0__.BkModel {
  fillAttributes(response) {
    response.name = this.getAttr("name");
    response.caption = this.getAttr("caption");
    response.type = this.getAttr("type");
  }
  isKey() {
    return this.getAttr("key") === "true";
  }
  isAuto() {
    return this.getAttr("auto") === "true";
  }
  getApp() {
    return this.getParent().getParent().getParent();
  }
  /* getDbType() {
      return this.getAttr('dbType');
  } */
};
__name(_BkColumn, "BkColumn");
let BkColumn = _BkColumn;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkDataSource/BkDataSource.ts":
/*!*****************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkDataSource/BkDataSource.ts ***!
  \*****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkDataSource": () => (/* binding */ BkDataSource)
/* harmony export */ });
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _BkModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../BkModel */ "./src/backend/viewer/BkModel/BkModel.ts");
/* harmony import */ var _BkHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../BkHelper */ "./src/backend/BkHelper.ts");
/* harmony import */ var _BkPage_BkPage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../BkPage/BkPage */ "./src/backend/viewer/BkModel/BkPage/BkPage.ts");
/* harmony import */ var _BkForm_BkForm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../BkForm/BkForm */ "./src/backend/viewer/BkModel/BkForm/BkForm.ts");
/* harmony import */ var _BkForm_BkRowForm_BkRowForm__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../BkForm/BkRowForm/BkRowForm */ "./src/backend/viewer/BkModel/BkForm/BkRowForm/BkRowForm.ts");
/* harmony import */ var _BkForm_BkTableForm_BkTableForm__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../BkForm/BkTableForm/BkTableForm */ "./src/backend/viewer/BkModel/BkForm/BkTableForm/BkTableForm.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __getProtoOf = Object.getPrototypeOf;
var __reflectGet = Reflect.get;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __superGet = (cls, obj, key) => __reflectGet(__getProtoOf(cls), key, obj);
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};








const _BkDataSource = class _BkDataSource extends _BkModel__WEBPACK_IMPORTED_MODULE_1__.BkModel {
  constructor() {
    super(...arguments);
    this.keyColumns = [];
    this.rows = [];
  }
  /* constructor(data, parent) {
      super(data, parent);
  } */
  getDirPath() {
    return path__WEBPACK_IMPORTED_MODULE_0___default().join(
      this.getParent().getDirPath(),
      "dataSources",
      this.getName()
    );
  }
  getJsonFilePath() {
    return path__WEBPACK_IMPORTED_MODULE_0___default().join(this.getDirPath(), `${this.getName()}.json`);
  }
  init(context) {
    return __async(this, null, function* () {
      yield __superGet(_BkDataSource.prototype, this, "init").call(this, context);
      this.keyColumns = this.getKeyColumns();
      const jsonFilePath = this.getJsonFilePath();
      const exists = yield _BkHelper__WEBPACK_IMPORTED_MODULE_2__.BkHelper.exists(jsonFilePath);
      if (exists) {
        const content = yield _BkHelper__WEBPACK_IMPORTED_MODULE_2__.BkHelper.readTextFile(jsonFilePath);
        this.rows = JSON.parse(content);
      }
    });
  }
  getKeyColumns() {
    const keyColumns = this.getItemNames("keyColumns");
    if (!keyColumns.length) {
      throw new Error(
        `${this.getFullName()}: DataSource without table must have at least one key column`
      );
    }
    return keyColumns;
  }
  checkKeyColumns(row) {
    for (const keyColumn of this.keyColumns) {
      if (!row.hasOwnProperty(keyColumn)) {
        throw new Error(
          `${this.getFullName()}: no key column '${keyColumn}' in result set`
        );
      }
    }
  }
  checkKeyFields() {
    const fieldsClumns = this.getForm().fields.map((field) => field.getAttr("column"));
    for (const keyColumn of this.keyColumns) {
      if (!fieldsClumns.includes(keyColumn)) {
        throw new Error(`[${this.getFullName()}]: no field with key column: ${keyColumn}`);
      }
    }
  }
  checkRow(row) {
    this.checkKeyColumns(row);
    if (this.isDefaultOnForm()) {
      this.checkFields(row);
    }
  }
  checkRows(rows) {
    if (rows[0]) {
      this.checkRow(rows[0]);
    }
  }
  checkNotUsedColumns(row) {
    const rowColumns = Object.keys(row);
    const formColumns = this.getForm().fields.map((field) => field.getAttr("column")).filter((column) => !!column);
    for (const rowColumn of rowColumns) {
      if (!formColumns.includes(rowColumn)) {
        (0,_console__WEBPACK_IMPORTED_MODULE_7__.debug)("rowColumns:", rowColumns);
        (0,_console__WEBPACK_IMPORTED_MODULE_7__.debug)("formColumns:", formColumns);
        (0,_console__WEBPACK_IMPORTED_MODULE_7__.debug)("row:", row);
        throw new Error(
          `${this.getFullName()}: not used column "${rowColumn}" in result set`
        );
      }
    }
  }
  checkFields(row) {
    for (const field of this.getForm().fields) {
      const column = field.getAttr("column");
      if (column) {
        if (!row.hasOwnProperty(column)) {
          throw new Error(
            `[${field.getFullName()}]: no column '${column}' in result set`
          );
        }
        continue;
      }
      if (field.getAttr("value")) {
        continue;
      }
      throw new Error(
        `[${field.getFullName()}]: no column and no value attr for calculation`
      );
    }
  }
  encodeRows(rows) {
    return rows.map((row) => this.encodeRow(row));
  }
  encodeRow(row) {
    if (!row)
      throw new Error(`encodeRow: need row`);
    const rawRow = {};
    if (this.isDefaultOnForm()) {
      for (const field of this.getForm().fields) {
        const column = field.getAttr("column");
        rawRow[column] = field.valueToRaw(row[column]);
        if (field.isAttr("displayColumn")) {
          const displayColumn = field.getAttr("displayColumn");
          rawRow[displayColumn] = field.valueToRaw(row[displayColumn]);
        }
      }
    } else {
      for (const name in row) {
        rawRow[name] = _BkHelper__WEBPACK_IMPORTED_MODULE_2__.BkHelper.encodeValue(row[name]);
      }
    }
    return rawRow;
  }
  getApp() {
    return this.getParent().getApp();
  }
  getKeyValuesFromKey(key) {
    const tuple = JSON.parse(key);
    if (tuple.length !== this.keyColumns.length) {
      throw new Error(`key length mismatch: ${tuple.length} of ${this.keyColumns.length}`);
    }
    const record = {};
    for (let i = 0; i < this.keyColumns.length; i++) {
      const keyColumn = this.keyColumns[i];
      record[keyColumn] = tuple[i];
    }
    return record;
  }
  getKeyFromValues(record) {
    const tuple = [];
    for (let i = 0; i < this.keyColumns.length; i++) {
      const column = this.keyColumns[i];
      const value = record[column];
      if (value === null || value === void 0) {
        throw new Error(`getKeyFromValues: no value of ${column} column`);
      }
      tuple.push(value);
    }
    return JSON.stringify(tuple);
  }
  getFullName() {
    if (this.isOnForm()) {
      return [
        this.getParent().getPage().getName(),
        this.getParent().getName(),
        this.getName()
      ].join(".");
    } else if (this.getParent() instanceof _BkPage_BkPage__WEBPACK_IMPORTED_MODULE_3__.BkPage) {
      return [this.getParent().getName(), this.getName()].join(".");
    } else {
      return this.getName();
    }
  }
  static keyToParams(key, paramName = "key") {
    if (typeof key !== "string")
      throw new Error("key not string");
    const params = {};
    const arr = JSON.parse(key);
    if (arr.length === 1) {
      params[paramName] = arr[0];
    } else if (arr.length > 1) {
      for (let i = 0; i < arr.length; i++) {
        params[`${paramName}${i + 1}`] = arr[i];
      }
    } else {
      throw new Error(`invalid key: ${key}`);
    }
    return params;
  }
  calcNewKeyValues(originalKeyValues, values) {
    const newKeyValues = this.keyColumns.reduce((acc, name) => {
      if (originalKeyValues[name] === void 0)
        throw new Error(`no key column in values: ${name}`);
      acc[name] = values[name] !== void 0 ? values[name] : originalKeyValues[name];
      return acc;
    }, {});
    return newKeyValues;
  }
  calcNewKey(key, values) {
    const keyValues = this.getKeyValuesFromKey(key);
    const newKeyValues = this.calcNewKeyValues(keyValues, values);
    return this.getKeyFromValues(newKeyValues);
  }
  fillAttributes(response) {
    response.class = this.getClassName();
    response.name = this.getAttr("name");
    if (this.isAttr("database")) {
      response.database = this.getAttr("database");
    }
    if (this.isAttr("table")) {
      response.table = this.getAttr("table");
    }
  }
  fill(context) {
    return __async(this, null, function* () {
      const response = yield __superGet(_BkDataSource.prototype, this, "fill").call(this, context);
      response.keyColumns = this.keyColumns;
      response.rows = yield this.getRows();
      return response;
    });
  }
  getRows() {
    return __async(this, null, function* () {
      return this.rows;
    });
  }
  isOnForm() {
    return this.getParent() instanceof _BkForm_BkForm__WEBPACK_IMPORTED_MODULE_4__.BkForm;
  }
  isDefaultOnForm() {
    return this.getName() === "default" && this.isOnForm();
  }
  isDefaultOnRowForm() {
    return this.getName() === "default" && this.getParent() instanceof _BkForm_BkRowForm_BkRowForm__WEBPACK_IMPORTED_MODULE_5__.BkRowForm;
  }
  isDefaultOnTableForm() {
    return this.getName() === "default" && this.getParent() instanceof _BkForm_BkTableForm_BkTableForm__WEBPACK_IMPORTED_MODULE_6__.BkTableForm;
  }
  read(context) {
    return __async(this, null, function* () {
      throw new Error(`${this.constructor.name}.select not implemented`);
    });
  }
  create(context, _values = null) {
    return __async(this, null, function* () {
      throw new Error(`${this.constructor.name}.create not implemented`);
    });
  }
  update(context) {
    return __async(this, null, function* () {
      throw new Error(`${this.constructor.name}.update not implemented`);
    });
  }
  delete(context) {
    return __async(this, null, function* () {
      throw new Error(`${this.constructor.name}.delete not implemented`);
    });
  }
  getForm() {
    if (!this.isOnForm())
      throw new Error(`${this.getFullName()}: not form data source`);
    return this.getParent();
  }
  getAccess(context) {
    return {
      create: true,
      read: true,
      update: true,
      delete: true
    };
  }
  getDatabase() {
    throw new Error(`${this.constructor.name}.getDatabase not implemented`);
  }
  getLimit() {
    if (this.getAttr("limit") !== "") {
      return parseInt(this.getAttr("limit"));
    }
    return null;
  }
};
__name(_BkDataSource, "BkDataSource");
let BkDataSource = _BkDataSource;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkDataSource/BkPersistentDataSource/BkNoSqlDataSource/BkNoSqlDataSource.ts":
/*!***************************************************************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkDataSource/BkPersistentDataSource/BkNoSqlDataSource/BkNoSqlDataSource.ts ***!
  \***************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkNoSqlDataSource": () => (/* binding */ BkNoSqlDataSource)
/* harmony export */ });
/* harmony import */ var _BkPersistentDataSource__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkPersistentDataSource */ "./src/backend/viewer/BkModel/BkDataSource/BkPersistentDataSource/BkPersistentDataSource.ts");
/* harmony import */ var _Result__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../Result */ "./src/Result.ts");
/* harmony import */ var _BkDataSource__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../BkDataSource */ "./src/backend/viewer/BkModel/BkDataSource/BkDataSource.ts");
/* harmony import */ var _BkHelper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../BkHelper */ "./src/backend/BkHelper.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __getProtoOf = Object.getPrototypeOf;
var __reflectGet = Reflect.get;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __superGet = (cls, obj, key) => __reflectGet(__getProtoOf(cls), key, obj);
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};





const _BkNoSqlDataSource = class _BkNoSqlDataSource extends _BkPersistentDataSource__WEBPACK_IMPORTED_MODULE_0__.BkPersistentDataSource {
  constructor(data, parent) {
    super(data, parent);
    this.table = this.getAttr("table") ? this.getDatabase().getTable(this.getAttr("table")) : null;
  }
  fill(context) {
    return __async(this, null, function* () {
      const response = yield __superGet(_BkNoSqlDataSource.prototype, this, "fill").call(this, context);
      if (this.isDefaultOnForm()) {
        this.checkKeyFields();
      }
      if (this.isDefaultOnForm() && this.getParent().isNewMode(context)) {
        const limit = this.getLimit();
        if (limit) {
          response.limit = limit;
        }
        response.rows = [];
        response.count = 0;
        return response;
      }
      if (this.getLimit() && !context.getParam("frame")) {
        context.setParam("frame", 1);
      }
      try {
        const [rows, count] = yield this.read(context);
        response.rows = rows;
        response.count = count;
      } catch (err) {
        err.message = `select error of ${this.getFullName()}: ${err.message}`;
        throw err;
      }
      if (this.isDefaultOnRowForm() && response.rows[0]) {
        this.getParent().dumpRowToParams(response.rows[0], context);
      }
      if (this.getLimit()) {
        response.limit = context.getParam("limit");
      }
      return response;
    });
  }
  read(context) {
    return __async(this, null, function* () {
      if (this.getAccess(context).read !== true) {
        throw new Error(`[${this.getFullName()}]: access denied`);
      }
      const limit = this.getLimit();
      if (limit) {
        const frame = context.getParam("frame");
        if (!frame)
          throw new Error("no frame param");
        context.setParam("skip", (frame - 1) * limit);
        context.setParam("limit", limit);
      }
      const start = Date.now();
      const rows = yield this.getDatabase().queryRows(
        context,
        this.getSelectQuery(context),
        this.getSelectParams(context)
      );
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("rows query time:", Date.now() - start);
      this.checkRows(rows);
      const rawRows = this.encodeRows(rows);
      let count = null;
      if (this.isDefaultOnTableForm() && this.getLimit()) {
        try {
          const start2 = Date.now();
          count = yield this.getDatabase().queryScalar(
            context,
            this.getCountQuery(context),
            this.getSelectParams(context)
          );
          (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("count query time:", Date.now() - start2);
        } catch (err) {
          err.message = `${this.getFullName()}: ${err.message}`;
          throw err;
        }
      }
      return [rawRows, count];
    });
  }
  create(context, _values = null) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("NoSqlDataSource.create");
      if (this.getAccess(context).create !== true) {
        throw new Error(`[${this.getFullName()}]: access denied.`);
      }
      if (!this.table) {
        throw new Error(
          `${this.getFullName()}: no link to table object: ${this.getAttr("table")}`
        );
      }
      const databaseName = this.getAttr("database");
      const tableName = this.getAttr("table");
      const body = context.getBody();
      const values = _values ? _values : this.decodeRow(body.row);
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("values", values);
      const insertResult = yield this.getDatabase().insertOne(context, tableName, values);
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("insertResult:", insertResult);
      const newRow = { _id: insertResult.insertedId };
      const key = this.getKeyFromValues(newRow);
      if (!key)
        throw new Error("create: cannot calc row key");
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("key:", key);
      const keyParams = _BkDataSource__WEBPACK_IMPORTED_MODULE_2__.BkDataSource.keyToParams(key);
      const [row] = yield this.getDatabase().queryRows(
        context,
        this.getSelectQuery(context),
        keyParams
      );
      if (!row)
        throw new Error("select query does not return row");
      this.checkRow(row);
      const rawRow = this.encodeRow(row);
      const result = new _Result__WEBPACK_IMPORTED_MODULE_1__.Result();
      _Result__WEBPACK_IMPORTED_MODULE_1__.Result.addInsertToResult(result, databaseName, tableName, key);
      _Result__WEBPACK_IMPORTED_MODULE_1__.Result.addInsertExToResult(result, databaseName, tableName, key, rawRow);
      return result;
    });
  }
  update(context) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("NoSqlDataSource.update");
      if (this.getAccess(context).update !== true) {
        throw new Error(`[${this.getFullName()}]: access denied.`);
      }
      if (!this.table)
        throw new Error(`no database table desc: ${this.getAttr("table")}`);
      const databaseName = this.getAttr("database");
      const tableName = this.getAttr("table");
      const body = context.getBody();
      const changes = this.decodeChanges(body.changes);
      const key = Object.keys(changes)[0];
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("key:", key);
      const filter = this.getKeyValuesFromKey(key);
      const values = changes[key];
      const updateResult = yield this.getDatabase().updateOne(context, tableName, filter, {
        $set: values
      });
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("updateResult", updateResult);
      const newKey = this.calcNewKey(key, values);
      const newKeyParams = _BkDataSource__WEBPACK_IMPORTED_MODULE_2__.BkDataSource.keyToParams(newKey);
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("newKey:", newKey);
      const [row] = yield this.getDatabase().queryRows(
        context,
        this.getSelectQuery(context),
        newKeyParams
      );
      if (!row)
        throw new Error("select query does not return row");
      this.checkRow(row);
      const rawRow = this.encodeRow(row);
      const result = new _Result__WEBPACK_IMPORTED_MODULE_1__.Result();
      _Result__WEBPACK_IMPORTED_MODULE_1__.Result.addUpdateToResult(result, databaseName, tableName, key, newKey);
      _Result__WEBPACK_IMPORTED_MODULE_1__.Result.addUpdateExToResult(result, databaseName, tableName, key, rawRow);
      return result;
    });
  }
  delete(context) {
    return __async(this, null, function* () {
      if (this.getAccess(context).delete !== true) {
        throw new Error(`${this.getFullName()}: access denied`);
      }
      const key = context.getParam("key");
      const filter = this.getKeyValuesFromKey(key);
      const deleteResult = yield this.getDatabase().deleteOne(
        context,
        this.getAttr("table"),
        filter
      );
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("updateResult", deleteResult);
      const result = new _Result__WEBPACK_IMPORTED_MODULE_1__.Result();
      _Result__WEBPACK_IMPORTED_MODULE_1__.Result.addDeleteToResult(result, this.getAttr("database"), this.getAttr("table"), key);
      return result;
    });
  }
  getSelectQuery(context) {
    const query = this.getAttr("selectQuery");
    if (!query)
      throw new Error(`${this.getFullName()}: no selectQuery`);
    return query;
  }
  getCountQuery(context) {
    const query = this.getAttr("countQuery");
    if (!query)
      throw new Error(`${this.getFullName()}: no countQuery`);
    return query;
  }
  getSelectParams(context) {
    return context.getAllParams();
  }
  checkRow(row) {
    this.checkKeyColumns(row);
    if (this.isDefaultOnForm()) {
    }
  }
  encodeRow(row) {
    if (!row)
      throw new Error(`encodeRow: need row`);
    const rawRow = {};
    if (this.isDefaultOnForm()) {
      for (const field of this.getForm().fields) {
        const column = field.getAttr("column");
        rawRow[column] = row[column] !== void 0 ? field.valueToRaw(row[column]) : "null";
        if (field.isAttr("displayColumn")) {
          const displayColumn = field.getAttr("displayColumn");
          rawRow[displayColumn] = field.valueToRaw(row[displayColumn]);
        }
      }
    } else {
      for (const name in row) {
        rawRow[name] = _BkHelper__WEBPACK_IMPORTED_MODULE_3__.BkHelper.encodeValue(row[name]);
      }
    }
    return rawRow;
  }
};
__name(_BkNoSqlDataSource, "BkNoSqlDataSource");
let BkNoSqlDataSource = _BkNoSqlDataSource;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkDataSource/BkPersistentDataSource/BkPersistentDataSource.ts":
/*!**************************************************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkDataSource/BkPersistentDataSource/BkPersistentDataSource.ts ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkPersistentDataSource": () => (/* binding */ BkPersistentDataSource)
/* harmony export */ });
/* harmony import */ var _BkDataSource__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkDataSource */ "./src/backend/viewer/BkModel/BkDataSource/BkDataSource.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _BkPersistentDataSource = class _BkPersistentDataSource extends _BkDataSource__WEBPACK_IMPORTED_MODULE_0__.BkDataSource {
  constructor(data, parent) {
    super(data, parent);
    this.table = null;
    if (this.getAttr("table")) {
      this.table = this.getDatabase().getTable(this.getAttr("table"));
    }
  }
  getChanges(context) {
    const body = context.getBody();
    return this.decodeChanges(body.changes);
  }
  decodeChanges(changes) {
    const dChanges = {};
    for (const key in changes) {
      dChanges[key] = this.decodeRow(changes[key]);
    }
    return dChanges;
  }
  decodeRow(rawRow) {
    const form = this.getForm();
    if (!form)
      throw new Error("not form ds");
    const row = {};
    for (const field of form.fields) {
      const column = field.getAttr("column");
      if (Object.prototype.hasOwnProperty.call(rawRow, column)) {
        const value = field.rawToValue(rawRow[column]);
        row[column] = field.valueToDbValue(value);
      }
    }
    return row;
  }
  getDatabase() {
    const databaseName = this.getAttr("database");
    if (!databaseName)
      throw new Error(`${this.getFullName()}: no database name`);
    return this.getApp().getDatabase(databaseName);
  }
  getTable() {
    if (!this.table)
      throw new Error(`${this.getFullName()}: no table`);
    return this.table;
  }
};
__name(_BkPersistentDataSource, "BkPersistentDataSource");
let BkPersistentDataSource = _BkPersistentDataSource;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkDataSource/BkPersistentDataSource/BkSqlDataSource/BkSqlDataSource.ts":
/*!***********************************************************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkDataSource/BkPersistentDataSource/BkSqlDataSource/BkSqlDataSource.ts ***!
  \***********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkSqlDataSource": () => (/* binding */ BkSqlDataSource)
/* harmony export */ });
/* harmony import */ var _BkPersistentDataSource__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkPersistentDataSource */ "./src/backend/viewer/BkModel/BkDataSource/BkPersistentDataSource/BkPersistentDataSource.ts");
/* harmony import */ var _BkDataSource__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../BkDataSource */ "./src/backend/viewer/BkModel/BkDataSource/BkDataSource.ts");
/* harmony import */ var _BkHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../BkHelper */ "./src/backend/BkHelper.ts");
/* harmony import */ var _Result__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../Result */ "./src/Result.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __reflectGet = Reflect.get;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __superGet = (cls, obj, key) => __reflectGet(__getProtoOf(cls), key, obj);
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};





const _BkSqlDataSource = class _BkSqlDataSource extends _BkPersistentDataSource__WEBPACK_IMPORTED_MODULE_0__.BkPersistentDataSource {
  fill(context) {
    return __async(this, null, function* () {
      const response = yield __superGet(_BkSqlDataSource.prototype, this, "fill").call(this, context);
      if (this.isDefaultOnForm()) {
        this.checkKeyFields();
      }
      if (this.isDefaultOnForm() && this.getParent().isNewMode(context)) {
        const limit = this.getLimit();
        if (limit) {
          response.limit = limit;
        }
        response.rows = [];
        response.count = 0;
        return response;
      }
      if (this.getLimit() && !context.getParam("frame")) {
        context.setParam("frame", 1);
      }
      try {
        const [rows, count] = yield this.read(context);
        response.rows = rows;
        response.count = count;
      } catch (err) {
        err.message = `read error of ${this.getFullName()}: ${err.message}`;
        throw err;
      }
      if (this.isDefaultOnRowForm() && response.rows[0]) {
        this.getParent().dumpRowToParams(response.rows[0], context);
      }
      if (this.getLimit()) {
        response.limit = context.getParam("limit");
      }
      return response;
    });
  }
  getKeyColumns() {
    return this.table ? this.table.getKeyColumns() : super.getKeyColumns();
  }
  getCountQuery(context) {
    let query = this.getAttr("countQuery");
    if (!query)
      throw new Error(`${this.getFullName()}: no countQuery`);
    if (this.isOnForm()) {
      query = this.getParent().replaceThis(context, query);
    }
    query = this.templateQuery(context, query);
    return query;
  }
  getSingleQuery(context) {
    let query = this.getAttr("singleQuery");
    if (!query)
      throw new Error(`no singleQuery: ${this.getFullName()}`);
    if (this.isOnForm()) {
      query = this.getParent().replaceThis(context, query);
    }
    query = this.templateQuery(context, query);
    return query;
  }
  getMultipleQuery(context) {
    let query = this.getAttr("multipleQuery");
    if (!query)
      throw new Error(`no multipleQuery: ${this.getFullName()}`);
    if (this.isOnForm()) {
      query = this.getParent().replaceThis(context, query);
    }
    query = this.templateQuery(context, query);
    return query;
  }
  templateQuery(context, _query) {
    const params = this.getSelectParams(context);
    let query = _query;
    query = _query.replace(/\[([\w.@]+)\]/g, (text, name) => {
      if (params[name]) {
        return params[name];
      }
      return text;
    });
    return query;
  }
  getSelectParams(context) {
    return context.getAllParams();
  }
  read(context) {
    return __async(this, null, function* () {
      if (this.getAccess(context).read !== true) {
        throw new Error(`[${this.getFullName()}]: access denied`);
      }
      const limit = this.getLimit();
      if (limit) {
        const frame = context.getParam("frame");
        if (!frame)
          throw new Error("no frame param");
        context.setParam("offset", (frame - 1) * limit);
        context.setParam("limit", limit);
      }
      const query = this.isDefaultOnRowForm() ? this.getSingleQuery(context) : this.getMultipleQuery(context);
      const params = this.getSelectParams(context);
      const rows = yield this.getDatabase().queryRows(context, query, params);
      this.checkRows(rows);
      const rawRows = this.encodeRows(rows);
      let count = null;
      if (this.isDefaultOnTableForm() && this.getLimit()) {
        try {
          const value = yield this.getDatabase().queryScalar(
            context,
            this.getCountQuery(context),
            params
          );
          count = parseInt(value, 10);
        } catch (err) {
          err.message = `${this.getFullName()}: ${err.message}`;
          throw err;
        }
      }
      return [rawRows, count];
    });
  }
  create(context, _values = null) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("SqlDataSource.create");
      if (this.getAccess(context).create !== true) {
        throw new Error(`[${this.getFullName()}]: access denied.`);
      }
      if (!this.table) {
        throw new Error(
          `${this.getFullName()}: no link to table object: ${this.getAttr("table")}`
        );
      }
      const database = this.getAttr("database");
      const table = this.getAttr("table");
      const body = context.getBody();
      const values = _values ? _values : this.decodeRow(body.row);
      const autoColumnTypes = this.getAutoColumnTypes();
      const newRow = yield this.getDatabase().insertRow(context, table, values, autoColumnTypes);
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("newRow:", newRow);
      const key = this.getKeyFromValues(newRow);
      if (!key)
        throw new Error("insert: cannot calc row key");
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("key:", key);
      const keyParams = _BkDataSource__WEBPACK_IMPORTED_MODULE_1__.BkDataSource.keyToParams(key);
      const singleQuery = this.getSingleQuery(context);
      const [row] = yield this.getDatabase().queryRows(context, singleQuery, keyParams);
      if (!row)
        throw new Error("singleQuery does not return row");
      this.checkRow(row);
      const rawRow = this.encodeRow(row);
      const result = new _Result__WEBPACK_IMPORTED_MODULE_3__.Result();
      _Result__WEBPACK_IMPORTED_MODULE_3__.Result.addInsertToResult(result, database, table, key);
      _Result__WEBPACK_IMPORTED_MODULE_3__.Result.addInsertExToResult(result, database, table, key, rawRow);
      return result;
    });
  }
  update(context) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("SqlDataSource.update");
      if (this.getAccess(context).update !== true) {
        throw new Error(`[${this.getFullName()}]: access denied.`);
      }
      if (!this.table)
        throw new Error(`no database table desc: ${this.getAttr("table")}`);
      const databaseName = this.getAttr("database");
      const tableName = this.getAttr("table");
      const changes = this.getChanges(context);
      const [key] = Object.keys(changes);
      const where = this.getKeyValuesFromKey(key);
      const values = changes[key];
      const updateQuery = this.getDatabase().getUpdateQuery(tableName, values, where);
      const _values = _BkHelper__WEBPACK_IMPORTED_MODULE_2__.BkHelper.mapObject(values, (name, value) => [`val_${name}`, value]);
      const _where = _BkHelper__WEBPACK_IMPORTED_MODULE_2__.BkHelper.mapObject(where, (name, value) => [`key_${name}`, value]);
      const params = __spreadValues(__spreadValues({}, _values), _where);
      yield this.getDatabase().queryResult(context, updateQuery, params);
      const newKey = this.calcNewKey(key, values);
      const newKeyParams = _BkDataSource__WEBPACK_IMPORTED_MODULE_1__.BkDataSource.keyToParams(newKey);
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("key:", key);
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("newKey:", newKey);
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("newKeyParams:", newKeyParams);
      const selectQuery = this.getSingleQuery(context);
      const [row] = yield this.getDatabase().queryRows(context, selectQuery, newKeyParams);
      if (!row)
        throw new Error("singleQuery does not return row");
      this.checkRow(row);
      const rawRow = this.encodeRow(row);
      const result = new _Result__WEBPACK_IMPORTED_MODULE_3__.Result();
      _Result__WEBPACK_IMPORTED_MODULE_3__.Result.addUpdateToResult(result, databaseName, tableName, key, newKey);
      _Result__WEBPACK_IMPORTED_MODULE_3__.Result.addUpdateExToResult(result, databaseName, tableName, key, rawRow);
      return result;
    });
  }
  delete(context) {
    return __async(this, null, function* () {
      if (this.getAccess(context).delete !== true) {
        throw new Error(`${this.getFullName()}: access denied`);
      }
      const key = context.getParam("key");
      const keyValues = this.getKeyValuesFromKey(key);
      const database = this.getAttr("database");
      const table = this.getAttr("table");
      const query = this.getDatabase().getDeleteQuery(table, keyValues);
      yield this.getDatabase().queryResult(context, query, keyValues);
      const result = new _Result__WEBPACK_IMPORTED_MODULE_3__.Result();
      _Result__WEBPACK_IMPORTED_MODULE_3__.Result.addDeleteToResult(result, database, table, key);
      return result;
    });
  }
  fillAttributes(response) {
    response.class = this.getClassName();
    response.name = this.getAttr("name");
    response.database = this.getAttr("database");
    response.table = this.getAttr("table");
  }
  /* getDbType(column): string {
      return this.getTable().getColumn(column).getDbType();
  } */
  getAutoColumns() {
    if (!this.table)
      throw new Error("getAutoColumns: no table");
    const table = this.table;
    return this.keyColumns.filter((name) => table.getColumn(name).isAuto());
  }
  getAutoColumnTypes() {
    if (!this.table)
      throw new Error("getAutoColumnTypes: no table");
    const table = this.table;
    const columns = this.getAutoColumns();
    return columns.reduce((acc, name) => {
      acc[name] = table.getColumn(name).getAttr("type");
      return acc;
    }, {});
  }
  /* async getBuffer(context: Context, file) {
      return file.data;
  } */
};
__name(_BkSqlDataSource, "BkSqlDataSource");
let BkSqlDataSource = _BkSqlDataSource;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkDatabase/BkDatabase.ts":
/*!*************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkDatabase/BkDatabase.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkDatabase": () => (/* binding */ BkDatabase)
/* harmony export */ });
/* harmony import */ var _BkModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkModel */ "./src/backend/viewer/BkModel/BkModel.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

const _BkDatabase = class _BkDatabase extends _BkModel__WEBPACK_IMPORTED_MODULE_0__.BkModel {
  constructor() {
    super(...arguments);
    this.tables = [];
    this.params = [];
    this.fillCollections = ["tables"];
  }
  init(context) {
    return __async(this, null, function* () {
      yield this.createColItems("tables", context);
      yield this.createColItems("params", context);
    });
  }
  fillAttributes(response) {
    response.name = this.getAttr("name");
  }
  connect(context) {
    return __async(this, null, function* () {
      throw new Error(`${this.constructor.name}.connect not implemented`);
    });
  }
  isConnected(context) {
    return !!context.connections[this.getName()];
  }
  getConnection(context) {
    if (!context)
      throw new Error("no context");
    const name = this.getName();
    if (!context.connections[name]) {
      throw new Error(`not connected: ${name}`);
    }
    return context.connections[name];
  }
  release(context) {
    return __async(this, null, function* () {
      throw new Error(`${this.constructor.name}.release not implemented`);
    });
  }
  queryResult(context, query, params = null) {
    return __async(this, null, function* () {
      throw new Error(`${this.constructor.name}.queryResult not implemented`);
    });
  }
  queryRows(context, query, params = null) {
    return __async(this, null, function* () {
      throw new Error(`${this.constructor.name}.queryRows not implemented`);
    });
  }
  queryScalar(context, query, params = null) {
    return __async(this, null, function* () {
      throw new Error(`${this.constructor.name}.queryScalar not implemented`);
    });
  }
  begin(context) {
    return __async(this, null, function* () {
      throw new Error(`${this.constructor.name}.begin not implemented`);
    });
  }
  commit(context) {
    return __async(this, null, function* () {
      throw new Error(`${this.constructor.name}.commit not implemented`);
    });
  }
  rollback(context, err) {
    return __async(this, null, function* () {
      throw new Error(`${this.constructor.name}.rollback not implemented`);
    });
  }
  getDatabaseName(context) {
    return this.getParam("database").getValue();
  }
  getConfig(context) {
    const config = {
      host: this.getParam("host").getValue(),
      database: this.getDatabaseName(context),
      user: this.getParam("user").getValue(),
      password: this.getParam("password").getValue()
    };
    if (this.isData("params", "port")) {
      config.port = this.getParam("port").getValue();
    }
    return config;
  }
  getDefaultPort() {
    throw new Error(`${this.constructor.name}.getDefaultPort not implemented`);
  }
  getApp() {
    return this.getParent();
  }
  findTable(name) {
    return this.tables.find((table) => table.getName() === name);
  }
  findParam(name) {
    return this.params.find((param) => param.getName() === name);
  }
  getTable(name) {
    if (!name)
      throw new Error("getTable: no name");
    const table = this.findTable(name);
    if (!table)
      throw new Error(`no table with name: ${name}`);
    return table;
  }
  getParam(name) {
    if (!name)
      throw new Error("getParam: no name");
    const param = this.findParam(name);
    if (!param)
      throw new Error(`no param with name: ${name}`);
    return param;
  }
  insertRow(_0, _1, _2) {
    return __async(this, arguments, function* (context, table, values, autoColumnTypes = {}) {
      throw new Error(`${this.constructor.name}.insertRow not implemented`);
    });
  }
  getTableList() {
    return __async(this, null, function* () {
      throw new Error(`${this.constructor.name}.getTableList not implemented`);
    });
  }
  getTableInfo(table) {
    return __async(this, null, function* () {
      throw new Error(`${this.constructor.name}.getTableInfo not implemented`);
    });
  }
  transaction(context, cb) {
    return __async(this, null, function* () {
      yield this.begin(context);
      try {
        const result = yield cb();
        yield this.commit(context);
        return result;
      } catch (err) {
        yield this.rollback(context, err);
        throw err;
      }
    });
  }
  use(context, cb) {
    return __async(this, null, function* () {
      yield this.connect(context);
      try {
        return yield cb(this);
      } finally {
        yield this.release(context);
      }
    });
  }
};
__name(_BkDatabase, "BkDatabase");
let BkDatabase = _BkDatabase;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkDatabase/BkNoSqlDatabase/BkMongoDbDatabase/BkMongoDbDatabase.ts":
/*!******************************************************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkDatabase/BkNoSqlDatabase/BkMongoDbDatabase/BkMongoDbDatabase.ts ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkMongoDbDatabase": () => (/* binding */ BkMongoDbDatabase)
/* harmony export */ });
/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongodb */ "mongodb");
/* harmony import */ var mongodb__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongodb__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _BkNoSqlDatabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../BkNoSqlDatabase */ "./src/backend/viewer/BkModel/BkDatabase/BkNoSqlDatabase/BkNoSqlDatabase.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};



const _BkMongoDbDatabase = class _BkMongoDbDatabase extends _BkNoSqlDatabase__WEBPACK_IMPORTED_MODULE_1__.BkNoSqlDatabase {
  connect(context2) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("MongoDbDatabase.connect", this.getName());
      if (!context2)
        throw new Error("no context");
      this.checkDeinited();
      const name = this.getName();
      if (context2.connections[name]) {
        throw new Error(`already connected: ${name}`);
      }
      const url = this.getUrl();
      const client = new mongodb__WEBPACK_IMPORTED_MODULE_0__.MongoClient(url);
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)(`MongoDbDatabase: connecting to ${url}`);
      yield client.connect();
      const session = client.startSession();
      context2.connections[name] = { client, session };
    });
  }
  getUrl() {
    const { host, user, password, port } = this.getConfig();
    const userPassword = user && password ? `${user}:${password}@` : "";
    const host2 = process.env.DB_HOST || host;
    return `mongodb://${userPassword}${host2}:${port || this.getDefaultPort()}/?directConnection=true`;
  }
  release(context2) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("MongoDbDatabase.release", this.getName());
      if (!context2)
        throw new Error("no context");
      const { client, session } = this.getConnection(context2);
      session.endSession();
      yield client.close();
      context2.connections[this.getName()] = null;
    });
  }
  updateOne(context2, colName, filter, update) {
    return __async(this, null, function* () {
      const _filter = Object.keys(filter).reduce((acc, name) => {
        acc[name] = name === "_id" ? new mongodb__WEBPACK_IMPORTED_MODULE_0__.ObjectId(filter[name]) : filter[name];
        return acc;
      }, {});
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("colName", colName);
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("_filter:", _filter);
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("update", update);
      return yield this.getDbLink(context2).collection(colName).updateOne(_filter, update);
    });
  }
  insertOne(context2, colName, document) {
    return __async(this, null, function* () {
      return yield this.getDbLink(context2).collection(colName).insertOne(document);
    });
  }
  deleteOne(context2, colName, filter) {
    return __async(this, null, function* () {
      const _filter = _BkMongoDbDatabase.makeObjectIds(filter);
      return yield this.getDbLink(context2).collection(colName).deleteOne(_filter);
    });
  }
  static makeObjectIds(filter, names = ["_id"]) {
    return Object.keys(filter).reduce((acc, name) => {
      acc[name] = names.includes(name) ? new mongodb__WEBPACK_IMPORTED_MODULE_0__.ObjectId(filter[name]) : filter[name];
      return acc;
    }, {});
  }
  getDbLink(context2) {
    const client = this.getConnection(context2).client;
    const { database } = this.getConfig();
    return client.db(database);
  }
  queryResult(context, query, params = null) {
    return __async(this, null, function* () {
      const db = this.getDbLink(context);
      const fn = query.trim().substring(0, 5) === "async" ? eval(query) : eval(`(db, params, ObjectId) => (${query})`);
      const result = yield fn(db, params, mongodb__WEBPACK_IMPORTED_MODULE_0__.ObjectId);
      return result;
    });
  }
  queryRows(context2, query2, params2 = null) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("MongoDbDatabase.query", query2, params2);
      const result2 = yield this.queryResult(context2, query2, params2);
      if (result2 instanceof mongodb__WEBPACK_IMPORTED_MODULE_0__.FindCursor || result2 instanceof mongodb__WEBPACK_IMPORTED_MODULE_0__.AggregationCursor) {
        return yield result2.toArray();
      }
      return [result2];
    });
  }
  queryScalar(context2, query2, params2 = null) {
    return __async(this, null, function* () {
      const result2 = yield this.queryResult(context2, query2, params2);
      if (result2 instanceof mongodb__WEBPACK_IMPORTED_MODULE_0__.FindCursor || result2 instanceof mongodb__WEBPACK_IMPORTED_MODULE_0__.AggregationCursor) {
        const rows = yield result2.toArray();
        const [firstRow] = rows;
        if (!firstRow)
          throw new Error("queryScalar: no first row");
        const firstField = Object.keys(firstRow)[0];
        if (!firstField)
          throw new Error("queryScalar: no first field");
        return firstRow[firstField];
      }
      return result2;
    });
  }
  getDefaultPort() {
    return 27017;
  }
  begin(context2) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("MongoDbDatabase.begin");
      this.getConnection(context2).session.startTransaction();
    });
  }
  commit(context2) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("MongoDbDatabase.commit");
      this.getConnection(context2).session.commitTransaction();
    });
  }
  rollback(context2, err) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("MongoDbDatabase.rollback");
      this.getConnection(context2).session.abortTransaction();
    });
  }
};
__name(_BkMongoDbDatabase, "BkMongoDbDatabase");
let BkMongoDbDatabase = _BkMongoDbDatabase;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkDatabase/BkNoSqlDatabase/BkNoSqlDatabase.ts":
/*!**********************************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkDatabase/BkNoSqlDatabase/BkNoSqlDatabase.ts ***!
  \**********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkNoSqlDatabase": () => (/* binding */ BkNoSqlDatabase)
/* harmony export */ });
/* harmony import */ var _BkDatabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkDatabase */ "./src/backend/viewer/BkModel/BkDatabase/BkDatabase.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

const _BkNoSqlDatabase = class _BkNoSqlDatabase extends _BkDatabase__WEBPACK_IMPORTED_MODULE_0__.BkDatabase {
  updateOne(context, colName, filter, update) {
    return __async(this, null, function* () {
      throw new Error(`${this.constructor.name}.updateOne not implemented`);
    });
  }
  insertOne(context, colName, document) {
    return __async(this, null, function* () {
      throw new Error(`${this.constructor.name}.insertOne not implemented`);
    });
  }
  deleteOne(context, colName, filter) {
    return __async(this, null, function* () {
      throw new Error(`${this.constructor.name}.deleteOne not implemented`);
    });
  }
};
__name(_BkNoSqlDatabase, "BkNoSqlDatabase");
let BkNoSqlDatabase = _BkNoSqlDatabase;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkDatabase/BkSqlDatabase/BkMySqlDatabase/BkMySqlDatabase.ts":
/*!************************************************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkDatabase/BkSqlDatabase/BkMySqlDatabase/BkMySqlDatabase.ts ***!
  \************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkMySqlDatabase": () => (/* binding */ BkMySqlDatabase)
/* harmony export */ });
/* harmony import */ var mysql__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql */ "mysql");
/* harmony import */ var mysql__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mysql__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _BkSqlDatabase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../BkSqlDatabase */ "./src/backend/viewer/BkModel/BkDatabase/BkSqlDatabase/BkSqlDatabase.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __reflectGet = Reflect.get;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __superGet = (cls, obj, key) => __reflectGet(__getProtoOf(cls), key, obj);
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};



const _BkMySqlDatabase = class _BkMySqlDatabase extends _BkSqlDatabase__WEBPACK_IMPORTED_MODULE_1__.BkSqlDatabase {
  constructor() {
    super(...arguments);
    this.pool = null;
  }
  /* constructor(data, parent?) {
      super(data, parent);
      debug('new MySqlDatabase');
  } */
  deinit() {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)(`MySqlDatabase.deinit: ${this.getName()}`);
      yield __superGet(_BkMySqlDatabase.prototype, this, "deinit").call(this);
      if (this.pool !== null) {
        yield new Promise((resolve) => {
          this.pool.end(() => {
            resolve();
          });
        });
        this.pool = null;
      }
    });
  }
  getPool() {
    if (!this.pool) {
      this.pool = (0,mysql__WEBPACK_IMPORTED_MODULE_0__.createPool)(this.getConfig());
    }
    return this.pool;
  }
  getConfig() {
    (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("MySqlDatabase.getConfig");
    return __spreadProps(__spreadValues({}, super.getConfig()), {
      queryFormat: _BkMySqlDatabase.queryFormat
    });
  }
  /* getDefaultPort(): number {
      return 3306;
  } */
  static Pool_getConnection(pool) {
    return __async(this, null, function* () {
      return new Promise((resolve, reject) => {
        pool.getConnection((err, cnn) => {
          if (err) {
            reject(err);
          } else {
            resolve(cnn);
          }
        });
      });
    });
  }
  queryRows(context, query, params = null) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("MySqlDatabase.queryRows", query, params);
      _BkSqlDatabase__WEBPACK_IMPORTED_MODULE_1__.BkSqlDatabase.checkParams(query, params);
      const nest = true;
      const cnn = yield this.getConnection(context);
      return new Promise((resolve, reject) => {
        cnn.query(
          { sql: query, typeCast: _BkMySqlDatabase.typeCast, nestTables: nest },
          params,
          (err, result, fields) => {
            if (err) {
              reject(err);
            } else {
              if (nest) {
                const rows = this._getRows(result, fields);
                resolve(rows);
              } else {
                resolve(result);
              }
            }
          }
        );
      });
    });
  }
  queryResult(context, query, params = null) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("MySqlDatabase.queryResult", query, params);
      _BkSqlDatabase__WEBPACK_IMPORTED_MODULE_1__.BkSqlDatabase.checkParams(query, params);
      const nest = false;
      const cnn = yield this.getConnection(context);
      return new Promise((resolve, reject) => {
        cnn.query(
          { sql: query, typeCast: _BkMySqlDatabase.typeCast, nestTables: nest },
          params,
          (err, result, fields) => {
            if (err) {
              reject(err);
            } else {
              resolve(result);
            }
          }
        );
      });
    });
  }
  _getRows(result, fields) {
    const fieldCount = {};
    for (let j = 0; j < fields.length; j++) {
      const f = fields[j];
      if (!fieldCount[f.name]) {
        fieldCount[f.name] = 0;
      }
      fieldCount[f.name]++;
      f.numb = fieldCount[f.name] - 1;
    }
    const rows = [];
    for (let i = 0; i < result.length; i++) {
      const r = result[i];
      const row = {};
      for (let j = 0; j < fields.length; j++) {
        const f = fields[j];
        const column = f.name + (f.numb > 0 ? f.numb : "");
        row[column] = r[f.table][f.name];
      }
      rows.push(row);
    }
    return rows;
  }
  begin(context) {
    (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("MySqlDatabase.begin");
    const cnn = this.getConnection(context);
    return new Promise((resolve, reject) => {
      cnn.beginTransaction((err) => {
        if (err) {
          reject(err);
        } else {
          resolve();
        }
      });
    });
  }
  commit(context) {
    (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("MySqlDatabase.commit");
    const cnn = this.getConnection(context);
    return new Promise((resolve, reject) => {
      cnn.commit((err) => {
        if (err) {
          reject(err);
        } else {
          resolve();
        }
      });
    });
  }
  rollback(context, err) {
    (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("MySqlDatabase.rollback:", this.getName(), err.message);
    const cnn = this.getConnection(context);
    return new Promise((resolve, reject) => {
      cnn.rollback(() => {
        resolve();
      });
    });
  }
  static queryFormat(query, params = {}) {
    (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("MySqlDatabase.queryFormat", query, params);
    const sql = query.replace(/\{([\w\.@]+)\}/g, (text, name) => {
      if (params.hasOwnProperty(name)) {
        return (0,mysql__WEBPACK_IMPORTED_MODULE_0__.escape)(params[name]);
      }
      throw new Error(`no query param: ${name}`);
    });
    (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("real db sql: " + sql);
    return sql;
  }
  static typeCast(field, next) {
    if (["DATE", "DATETIME", "TIME", "TIMESTAMP"].includes(field.type)) {
      return field.string();
    }
    return next();
  }
  getTableList() {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("MySqlDatabase.getTableList");
      const config = this.getConfig();
      return new Promise((resolve, reject) => {
        const cnn = (0,mysql__WEBPACK_IMPORTED_MODULE_0__.createConnection)(config);
        cnn.connect();
        cnn.query("show tables", (err, rows, fields) => {
          cnn.end();
          if (err) {
            reject(err);
          } else {
            const tables = rows.map((row) => row[fields[0].name]);
            (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("tables:", tables);
            resolve(tables);
          }
        });
      });
    });
  }
  getTableInfo(table) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("MySqlDatabase.getTableInfo:", table);
      const config = this.getConfig();
      return new Promise((resolve, reject) => {
        const cnn = (0,mysql__WEBPACK_IMPORTED_MODULE_0__.createConnection)(config);
        cnn.connect();
        const query = `SELECT COLUMN_NAME, COLUMN_TYPE, IS_NULLABLE, COLUMN_KEY, COLUMN_DEFAULT, EXTRA, COLUMN_COMMENT FROM information_schema.columns WHERE table_schema = '${config.database}' and table_name = '${table}'`;
        cnn.query(query, (err, rows) => {
          cnn.end();
          if (err) {
            reject(err);
          } else {
            const tableInfo = rows.map((row) => {
              return {
                name: row.COLUMN_NAME,
                type: this.getColumnTypeByDataType(row.COLUMN_TYPE),
                key: row.COLUMN_KEY === "PRI",
                auto: row.EXTRA === "auto_increment",
                nullable: row.IS_NULLABLE === "YES",
                comment: row.COLUMN_COMMENT,
                dbType: row.COLUMN_TYPE
                // COLUMN_TYPE   : row.COLUMN_TYPE,
                // COLUMN_DEFAULT: row.COLUMN_DEFAULT,
                // EXTRA         : row.EXTRA,
              };
            });
            (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("tableInfo:", tableInfo);
            resolve(tableInfo);
          }
        });
      });
    });
  }
  getColumnTypeByDataType(dataType) {
    switch (dataType) {
      case "int(10) unsigned":
      case "int unsigned":
        return "number";
      case "varchar(255)":
      case "varchar(15)":
      case "text":
        return "string";
      case "datetime":
        return "date";
      default:
        return null;
    }
  }
  insertRow(_0, _1, _2) {
    return __async(this, arguments, function* (context, table, values, autoColumnTypes = {}) {
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)(`MySqlDatabase.insertRow ${table}`, values, autoColumnTypes);
      const autoColumns = Object.keys(autoColumnTypes);
      if (autoColumns.length > 1)
        throw new Error("mysql does not support more than one auto increment column");
      const query = this.getInsertQuery(table, values);
      const result = yield this.queryResult(context, query, values);
      if (autoColumns.length === 1) {
        if (!result.insertId)
          throw new Error("no insertId");
        return __spreadValues({
          [autoColumns[0]]: result.insertId
        }, values);
      }
      return __spreadValues({}, values);
    });
  }
  connect(context) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("MySqlDatabase.connect", this.getName());
      if (!context)
        throw new Error("no context");
      this.checkDeinited();
      const name = this.getName();
      if (context.connections[name]) {
        throw new Error(`already connected: ${name}`);
      }
      context.connections[name] = yield _BkMySqlDatabase.Pool_getConnection(this.getPool());
    });
  }
  release(context) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("MySqlDatabase.release", this.getName());
      if (!context)
        throw new Error("no context");
      this.getConnection(context).release();
      context.connections[this.getName()] = null;
    });
  }
};
__name(_BkMySqlDatabase, "BkMySqlDatabase");
let BkMySqlDatabase = _BkMySqlDatabase;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkDatabase/BkSqlDatabase/BkPostgreSqlDatabase/BkPostgreSqlDatabase.ts":
/*!**********************************************************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkDatabase/BkSqlDatabase/BkPostgreSqlDatabase/BkPostgreSqlDatabase.ts ***!
  \**********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkPostgreSqlDatabase": () => (/* binding */ BkPostgreSqlDatabase)
/* harmony export */ });
/* harmony import */ var colors__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! colors */ "colors");
/* harmony import */ var colors__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(colors__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! pg */ "pg");
/* harmony import */ var pg__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(pg__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _BkSqlDatabase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../BkSqlDatabase */ "./src/backend/viewer/BkModel/BkDatabase/BkSqlDatabase/BkSqlDatabase.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __getProtoOf = Object.getPrototypeOf;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __reflectGet = Reflect.get;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __superGet = (cls, obj, key) => __reflectGet(__getProtoOf(cls), key, obj);
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};




const _BkPostgreSqlDatabase = class _BkPostgreSqlDatabase extends _BkSqlDatabase__WEBPACK_IMPORTED_MODULE_2__.BkSqlDatabase {
  constructor() {
    super(...arguments);
    this.pool = {};
  }
  /* constructor(data, parent?) {
      debug('new PostgreSqlDatabase');
      super(data, parent);
  } */
  /* static async create(data, parent) {
      // debug('PostgreSqlDatabase.create');
      return new PostgreSqlDatabase(data, parent);
  } */
  deinit() {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)(`PostgreSqlDatabase.deinit: ${this.getName()}`);
      yield __superGet(_BkPostgreSqlDatabase.prototype, this, "deinit").call(this);
      for (const configString in this.pool) {
        const pool = this.pool[configString];
        (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)("ending pool:", configString, pool.totalCount);
        yield pool.end();
        (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)("pool ended");
      }
      this.pool = {};
    });
  }
  getPool(context) {
    const config = this.getConfig(context);
    const configString = JSON.stringify(config);
    if (!this.pool[configString]) {
      (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)(`creating connection pool for ${this.getName()}(${configString})`);
      this.pool[configString] = _BkPostgreSqlDatabase.createPool(config);
    }
    return this.pool[configString];
  }
  static createPool(config) {
    return new pg__WEBPACK_IMPORTED_MODULE_1__.Pool(config);
  }
  connect(context) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)("PostgreSqlDatabase.connect", this.getName());
      if (!context)
        throw new Error("no context");
      this.checkDeinited();
      const name = this.getName();
      if (context.connections[name]) {
        throw new Error(`already connected: ${name}`);
      }
      const pool = this.getPool(context);
      context.connections[name] = yield pool.connect();
    });
  }
  release(context) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)("PostgreSqlDatabase.release", this.getName());
      if (!context)
        throw new Error("no context");
      this.getConnection(context).release();
      context.connections[this.getName()] = null;
    });
  }
  queryResult(context, query, params = null) {
    return __async(this, null, function* () {
      if (context.getReq() && context.getQuery().sql) {
        (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)(
          colors__WEBPACK_IMPORTED_MODULE_0___default().blue("PostgreSqlDatabase.queryResult"),
          {
            query,
            params
          }
        );
      }
      _BkSqlDatabase__WEBPACK_IMPORTED_MODULE_2__.BkSqlDatabase.checkParams(query, params);
      const { sql, values } = _BkPostgreSqlDatabase.formatQuery(query, params);
      if (context.getReq() && context.getQuery().sql) {
        (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)("sql:", sql);
        (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)("values:", values);
      }
      const result = yield this.getConnection(context).query(sql, values);
      return result;
    });
  }
  static queryResult(pool, query, params = null) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)(
        colors__WEBPACK_IMPORTED_MODULE_0___default().blue("static PostgreSqlDatabase.queryResult"),
        query
      );
      _BkSqlDatabase__WEBPACK_IMPORTED_MODULE_2__.BkSqlDatabase.checkParams(query, params);
      const { sql, values } = _BkPostgreSqlDatabase.formatQuery(query, params);
      const result = yield pool.query(sql, values);
      return result;
    });
  }
  queryRows(context, query, params = null) {
    return __async(this, null, function* () {
      const result = yield this.queryResult(context, query, params);
      return result.rows;
    });
  }
  begin(context) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)("PostgreSqlDatabase.begin", this.getName());
      if (!context)
        throw new Error("no context");
      yield this.getConnection(context).query("begin");
    });
  }
  commit(context) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)("PostgreSqlDatabase.commit", this.getName());
      if (!context)
        throw new Error("no context");
      yield this.getConnection(context).query("commit");
    });
  }
  rollback(context, err) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)(colors__WEBPACK_IMPORTED_MODULE_0___default().red("PostgreSqlDatabase.rollback: "), this.getName(), err.message);
      if (!context)
        throw new Error("no context");
      yield this.getConnection(context).query("rollback");
    });
  }
  static formatQuery(query, params) {
    if (!params) {
      return { sql: query, values: null };
    }
    const usedValues = _BkSqlDatabase__WEBPACK_IMPORTED_MODULE_2__.BkSqlDatabase.getUsedParams(query);
    const keys = Object.keys(params).filter((key) => usedValues.indexOf(key) > -1);
    const values = keys.map((key) => params[key]);
    const sql = query.replace(/\{([\w\.@]+)\}/g, (text, name) => {
      if (keys.indexOf(name) > -1) {
        return `$${keys.indexOf(name) + 1}`;
      }
      return text;
    });
    return { sql, values };
  }
  getDeleteQuery(tableName, rowKeyValues) {
    const keyColumns = Object.keys(rowKeyValues);
    const whereString = keyColumns.map((keyColumn) => `"${keyColumn}" = {${keyColumn}}`).join(" and ");
    const query = `delete from "${tableName}" where ${whereString}`;
    return query;
  }
  getUpdateQuery(tableName, values, where) {
    return _BkPostgreSqlDatabase.getUpdateQuery(tableName, values, where);
  }
  static getUpdateQuery(tableName, values, where) {
    const valueKeys = Object.keys(values);
    const whereKeys = Object.keys(where);
    if (valueKeys.length === 0)
      throw new Error("getUpdateQuery: no values");
    if (whereKeys.length === 0)
      throw new Error("getUpdateQuery: no where");
    const valuesString = valueKeys.map((name) => `"${name}" = {val_${name}}`).join(", ");
    const whereString = whereKeys.map((name) => `"${name}" = {key_${name}}`).join(" and ");
    return `update "${tableName}" set ${valuesString} where ${whereString}`;
  }
  getInsertQuery(tableName, values) {
    const columns = Object.keys(values);
    if (!columns.length)
      return `insert into "${tableName}" default values`;
    const columnsString = columns.map((column) => `"${column}"`).join(", ");
    const valuesString = columns.map((column) => `{${column}}`).join(", ");
    const query = `insert into "${tableName}"(${columnsString}) values (${valuesString})`;
    return query;
  }
  getTableList() {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)("PostgreSqlDatabase.getTableList");
      const rows = yield this.query(
        `select "table_name" from information_schema.tables where table_schema = 'public'`
      );
      const tableList = rows.map((row) => row.table_name);
      return tableList;
    });
  }
  getTableInfo(table) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)("PostgreSqlDatabase.getTableInfo");
      const keyColumns = yield this.getTableKeyColumns(table);
      const rows = yield this.query(
        `select * from INFORMATION_SCHEMA.COLUMNS where table_name = '${table}' order by ordinal_position`
      );
      const tableInfo = rows.map((row) => ({
        name: row.column_name,
        type: this.getColumnTypeByDataType(row.data_type),
        key: !!keyColumns.find((keyColumn) => keyColumn.attname === row.column_name),
        auto: row.column_default && row.column_default.substr(0, 7) === "nextval" ? true : false,
        nullable: row.is_nullable === "YES",
        comment: null,
        dbType: row.data_type
      }));
      return tableInfo;
    });
  }
  getColumnTypeByDataType(dataType) {
    switch (dataType) {
      case "integer":
      case "numeric":
      case "bigint":
        return "number";
      case "character varying":
      case "text":
      case "bytea":
        return "string";
      case "json":
      case "jsonb":
      case "ARRAY":
        return "object";
      case "boolean":
        return "boolean";
      case "timestamp with time zone":
      case "timestamp without time zone":
        return "date";
      default:
        return null;
    }
  }
  getTableKeyColumns(table) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)("PostgreSqlDatabase.getTableKeyColumns");
      const rows = yield this.query(
        `SELECT a.attname, format_type(a.atttypid, a.atttypmod) AS data_type
FROM   pg_index i
JOIN   pg_attribute a ON a.attrelid = i.indrelid AND a.attnum = ANY(i.indkey)
WHERE  i.indrelid = '"${table}"'::regclass AND i.indisprimary;`
      );
      return rows;
    });
  }
  query(query) {
    return __async(this, null, function* () {
      const config = this.getConfig();
      const client = new pg__WEBPACK_IMPORTED_MODULE_1__.Client(config);
      yield client.connect();
      const results = yield client.query(query);
      yield client.end();
      return results.rows;
    });
  }
  /* getDefaultPort(): number {
      return 5432;
  } */
  queryAutoValues(context, table, autoColumnTypes) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)("PostgreSqlDatabase.queryAutoValues", autoColumnTypes);
      const autoColumns = Object.keys(autoColumnTypes);
      if (!autoColumns.length)
        throw new Error("no auto columns");
      const queries = autoColumns.map((column) => `select currval('"${table}_${column}_seq"')`);
      const query = queries.join("; ");
      const result = yield this.queryResult(context, query);
      if (result instanceof Array) {
        return autoColumns.reduce((acc, name, i) => {
          const r = result[i];
          let [{ currval: val }] = r.rows;
          if (autoColumnTypes[name] === "number" && typeof val === "string")
            val = Number(val);
          if (typeof val !== autoColumnTypes[name])
            throw new Error(
              `wrong type of auto value: ${typeof val}, should be ${autoColumnTypes[name]}`
            );
          acc[name] = val;
          return acc;
        }, {});
      } else {
        let [{ currval: val }] = result.rows;
        const name = autoColumns[0];
        if (autoColumnTypes[name] === "number" && typeof val === "string")
          val = Number(val);
        if (typeof val !== autoColumnTypes[name])
          throw new Error(
            `wrong type of auto value: ${typeof val}, should be ${autoColumnTypes[name]}`
          );
        return { [name]: val };
      }
    });
  }
  insertRow(_0, _1, _2) {
    return __async(this, arguments, function* (context, table, values, autoColumnTypes = {}) {
      (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)(`PostgreSqlDatabase.insertRow ${table}`, values, autoColumnTypes);
      const query = this.getInsertQuery(table, values);
      const result = yield this.queryResult(context, query, values);
      if (Object.keys(autoColumnTypes).length > 0) {
        const auto = yield this.queryAutoValues(context, table, autoColumnTypes);
        (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)("auto:", auto);
        return __spreadValues(__spreadValues({}, auto), values);
      }
      return __spreadValues({}, values);
    });
  }
  queryScalar(context, query, params) {
    return __async(this, null, function* () {
      const rows = yield this.queryRows(context, query, params);
      const row = rows[0];
      if (!row)
        throw new Error("queryScalar must return one row");
      const [column] = Object.keys(row);
      if (!column)
        throw new Error("no column in result set");
      const value = row[column];
      if (value === void 0)
        throw new Error("scalar value undefined");
      return value;
    });
  }
};
__name(_BkPostgreSqlDatabase, "BkPostgreSqlDatabase");
let BkPostgreSqlDatabase = _BkPostgreSqlDatabase;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkDatabase/BkSqlDatabase/BkSqlDatabase.ts":
/*!******************************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkDatabase/BkSqlDatabase/BkSqlDatabase.ts ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkSqlDatabase": () => (/* binding */ BkSqlDatabase)
/* harmony export */ });
/* harmony import */ var _BkDatabase__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkDatabase */ "./src/backend/viewer/BkModel/BkDatabase/BkDatabase.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _BkSqlDatabase = class _BkSqlDatabase extends _BkDatabase__WEBPACK_IMPORTED_MODULE_0__.BkDatabase {
  getUpdateQuery(tableName, values, where) {
    (0,_console__WEBPACK_IMPORTED_MODULE_1__.debug)("BkSqlDatabase.getUpdateQuery", tableName);
    const valueKeys = Object.keys(values);
    const whereKeys = Object.keys(where);
    if (valueKeys.length === 0)
      throw new Error("getUpdateQuery: no values");
    if (whereKeys.length === 0)
      throw new Error("getUpdateQuery: no where");
    const valuesString = valueKeys.map((name) => `${name} = {val_${name}}`).join(", ");
    const whereString = whereKeys.map((name) => `${name} = {key_${name}}`).join(" and ");
    return `update ${tableName} set ${valuesString} where ${whereString}`;
  }
  getInsertQuery(tableName, values) {
    (0,_console__WEBPACK_IMPORTED_MODULE_1__.debug)("BkSqlDatabase.getInsertQuery");
    const columns = Object.keys(values);
    const columnsString = columns.join(", ");
    const valuesString = columns.map((column) => `{${column}}`).join(", ");
    const query = `insert into ${tableName}(${columnsString}) values (${valuesString})`;
    return query;
  }
  getDeleteQuery(tableName, rowKeyValues) {
    (0,_console__WEBPACK_IMPORTED_MODULE_1__.debug)("BkSqlDatabase.getDeleteQuery");
    const keyColumns = Object.keys(rowKeyValues);
    const whereString = keyColumns.map((keyColumn) => `${keyColumn} = {${keyColumn}}`).join(" and ");
    const query = `delete from ${tableName} where ${whereString}`;
    return query;
  }
  static getUsedParams(query) {
    const items = query.match(/\{([\w\.@]+)\}/g);
    if (!items)
      return [];
    return items.map((str) => str.substr(1, str.length - 2));
  }
  static checkParams(query, params) {
    const usedParams = _BkSqlDatabase.getUsedParams(query);
    const paramNames = params ? Object.keys(params) : [];
    const notPassedParams = usedParams.filter((name) => paramNames.indexOf(name) === -1);
    if (notPassedParams.length > 0) {
      throw new Error(
        `not passed params: ${notPassedParams.join(",")}, passed: ${paramNames.join(
          ","
        )}, query: ${query}`
      );
    }
  }
};
__name(_BkSqlDatabase, "BkSqlDatabase");
let BkSqlDatabase = _BkSqlDatabase;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkField/BkCheckBoxField/BkCheckBoxField.ts":
/*!*******************************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkField/BkCheckBoxField/BkCheckBoxField.ts ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkCheckBoxField": () => (/* binding */ BkCheckBoxField)
/* harmony export */ });
/* harmony import */ var _BkField__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkField */ "./src/backend/viewer/BkModel/BkField/BkField.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _BkCheckBoxField = class _BkCheckBoxField extends _BkField__WEBPACK_IMPORTED_MODULE_0__.BkField {
  fillAttributes(response) {
    super.fillAttributes(response);
    response.readOnly = this.getAttr("readOnly");
    response.notNull = this.getAttr("notNull");
  }
};
__name(_BkCheckBoxField, "BkCheckBoxField");
let BkCheckBoxField = _BkCheckBoxField;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkField/BkCheckBoxListField/BkCheckBoxListField.ts":
/*!***************************************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkField/BkCheckBoxListField/BkCheckBoxListField.ts ***!
  \***************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkCheckBoxListField": () => (/* binding */ BkCheckBoxListField)
/* harmony export */ });
/* harmony import */ var _BkField__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkField */ "./src/backend/viewer/BkModel/BkField/BkField.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _BkCheckBoxListField = class _BkCheckBoxListField extends _BkField__WEBPACK_IMPORTED_MODULE_0__.BkField {
  fillAttributes(response) {
    super.fillAttributes(response);
    response.readOnly = this.getAttr("readOnly");
    response.notNull = this.getAttr("notNull");
    response.dataSourceName = this.getAttr("dataSourceName");
    response.valueColumn = this.getAttr("valueColumn");
    response.displayColumn = this.getAttr("displayColumn");
  }
};
__name(_BkCheckBoxListField, "BkCheckBoxListField");
let BkCheckBoxListField = _BkCheckBoxListField;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkField/BkComboBoxField/BkComboBoxField.ts":
/*!*******************************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkField/BkComboBoxField/BkComboBoxField.ts ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkComboBoxField": () => (/* binding */ BkComboBoxField)
/* harmony export */ });
/* harmony import */ var _BkField__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkField */ "./src/backend/viewer/BkModel/BkField/BkField.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _BkComboBoxField = class _BkComboBoxField extends _BkField__WEBPACK_IMPORTED_MODULE_0__.BkField {
  fillAttributes(response) {
    super.fillAttributes(response);
    response.readOnly = this.getAttr("readOnly");
    response.notNull = this.getAttr("notNull");
    response.placeholder = this.getAttr("placeholder");
    response.dataSourceName = this.getAttr("dataSourceName");
    response.valueColumn = this.getAttr("valueColumn");
    response.displayColumn = this.getAttr("displayColumn");
    response.newRowMode = this.getAttr("newRowMode");
    response.itemEditPage = this.getAttr("itemEditPage");
    response.itemCreatePage = this.getAttr("itemCreatePage");
    response.itemCreateForm = this.getAttr("itemCreateForm");
    response.itemSelectPage = this.getAttr("itemSelectPage");
  }
};
__name(_BkComboBoxField, "BkComboBoxField");
let BkComboBoxField = _BkComboBoxField;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkField/BkDateField/BkDateField.ts":
/*!***********************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkField/BkDateField/BkDateField.ts ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkDateField": () => (/* binding */ BkDateField)
/* harmony export */ });
/* harmony import */ var _BkField__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkField */ "./src/backend/viewer/BkModel/BkField/BkField.ts");
/* harmony import */ var _BkHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../BkHelper */ "./src/backend/BkHelper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _BkDateField = class _BkDateField extends _BkField__WEBPACK_IMPORTED_MODULE_0__.BkField {
  fillAttributes(response) {
    super.fillAttributes(response);
    response.readOnly = this.getAttr("readOnly");
    response.notNull = this.getAttr("notNull");
    response.format = this.getAttr("format");
    response.timezone = this.getAttr("timezone");
    response.placeholder = this.getAttr("placeholder");
    response.validateOnChange = this.getAttr("validateOnChange");
    response.validateOnBlur = this.getAttr("validateOnBlur");
  }
  valueToRaw(value) {
    let raw;
    if (value && !this.isTimezone()) {
      const v = _BkHelper__WEBPACK_IMPORTED_MODULE_1__.BkHelper.cloneDate(value);
      _BkHelper__WEBPACK_IMPORTED_MODULE_1__.BkHelper.removeTimezoneOffset(v);
      raw = _BkHelper__WEBPACK_IMPORTED_MODULE_1__.BkHelper.encodeValue(v);
    } else {
      raw = _BkHelper__WEBPACK_IMPORTED_MODULE_1__.BkHelper.encodeValue(value);
    }
    return raw;
  }
  rawToValue(raw) {
    const value = _BkHelper__WEBPACK_IMPORTED_MODULE_1__.BkHelper.decodeValue(raw);
    if (value && !this.isTimezone()) {
      _BkHelper__WEBPACK_IMPORTED_MODULE_1__.BkHelper.addTimezoneOffset(value);
    }
    return value;
  }
};
__name(_BkDateField, "BkDateField");
let BkDateField = _BkDateField;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkField/BkDateTimeField/BkDateTimeField.ts":
/*!*******************************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkField/BkDateTimeField/BkDateTimeField.ts ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkDateTimeField": () => (/* binding */ BkDateTimeField)
/* harmony export */ });
/* harmony import */ var _BkField__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkField */ "./src/backend/viewer/BkModel/BkField/BkField.ts");
/* harmony import */ var _BkHelper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../BkHelper */ "./src/backend/BkHelper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _BkDateTimeField = class _BkDateTimeField extends _BkField__WEBPACK_IMPORTED_MODULE_0__.BkField {
  fillAttributes(response) {
    super.fillAttributes(response);
    response.readOnly = this.getAttr("readOnly");
    response.notNull = this.getAttr("notNull");
    response.format = this.getAttr("format");
    response.timezone = this.getAttr("timezone");
    response.placeholder = this.getAttr("placeholder");
    response.validateOnChange = this.getAttr("validateOnChange");
    response.validateOnBlur = this.getAttr("validateOnBlur");
  }
  valueToRaw(value) {
    let raw;
    if (value && !this.isTimezone()) {
      const v = _BkHelper__WEBPACK_IMPORTED_MODULE_1__.BkHelper.cloneDate(value);
      _BkHelper__WEBPACK_IMPORTED_MODULE_1__.BkHelper.removeTimezoneOffset(v);
      raw = _BkHelper__WEBPACK_IMPORTED_MODULE_1__.BkHelper.encodeValue(v);
    } else {
      raw = _BkHelper__WEBPACK_IMPORTED_MODULE_1__.BkHelper.encodeValue(value);
    }
    return raw;
  }
  rawToValue(raw) {
    const value = _BkHelper__WEBPACK_IMPORTED_MODULE_1__.BkHelper.decodeValue(raw);
    if (value && !this.isTimezone()) {
      _BkHelper__WEBPACK_IMPORTED_MODULE_1__.BkHelper.addTimezoneOffset(value);
    }
    return value;
  }
};
__name(_BkDateTimeField, "BkDateTimeField");
let BkDateTimeField = _BkDateTimeField;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkField/BkField.ts":
/*!*******************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkField/BkField.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkField": () => (/* binding */ BkField)
/* harmony export */ });
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _BkModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../BkModel */ "./src/backend/viewer/BkModel/BkModel.ts");
/* harmony import */ var _BkHelper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../BkHelper */ "./src/backend/BkHelper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value2) => __defProp(target, "name", { value: value2, configurable: true });



const _BkField = class _BkField extends _BkModel__WEBPACK_IMPORTED_MODULE_1__.BkModel {
  fillAttributes(response) {
    response.class = this.getClassName();
    response.name = this.getAttr("name");
    response.caption = this.getAttr("caption");
    response.column = this.getAttr("column");
    response.defaultValue = this.getAttr("defaultValue");
    response.value = this.getAttr("value");
    response.param = this.getAttr("param");
    response.visible = this.getAttr("visible");
    response.type = this.getAttr("type");
    response.width = this.getAttr("width");
    response.cssBlock = this.getAttr("cssBlock");
    response.viewClass = this.getAttr("viewClass");
    response.ctrlClass = this.getAttr("ctrlClass");
    response.autoFocus = this.getAttr("autoFocus");
  }
  getDirPath() {
    return path__WEBPACK_IMPORTED_MODULE_0___default().join(this.getParent().getDirPath(), "fields", this.getName());
  }
  fillDefaultValue(context, row) {
    const column = this.getAttr("column");
    if (!column)
      return;
    const defaultValue = this.getForm().replaceThis(context, this.getAttr("defaultValue"));
    const params = context.getAllParams();
    const js = _BkHelper__WEBPACK_IMPORTED_MODULE_2__.BkHelper.templateToJsString(defaultValue, params);
    let value;
    try {
      value = eval(js);
      if (value !== void 0) {
        row[column] = this.valueToRaw(value);
      }
    } catch (e) {
      throw new Error(`[${this.getFullName()}] fillDefaultValue eval error: ${e.toString()}`);
    }
  }
  dumpRowValueToParams(row2, context2) {
    const fullName = this.getFullName();
    try {
      const column2 = this.getAttr("column");
      if (!column2)
        throw new Error("no column attr");
      const rawValue = row2[column2];
      const value2 = rawValue !== void 0 ? this.rawToValue(rawValue) : null;
      context2.setParam(fullName, value2);
    } catch (err) {
      err.message = `${fullName}: ${err.message}`;
      throw err;
    }
  }
  getFullName() {
    return [this.getForm().getPage().getName(), this.getForm().getName(), this.getName()].join(
      "."
    );
  }
  getApp() {
    return this.getParent().getParent().getParent();
  }
  getPage() {
    return this.getParent().getParent();
  }
  getForm() {
    return this.getParent();
  }
  isParam() {
    return this.isAttr("param") && this.getAttr("param") === "true";
  }
  valueToRaw(value2) {
    return _BkHelper__WEBPACK_IMPORTED_MODULE_2__.BkHelper.encodeValue(value2);
  }
  rawToValue(raw) {
    return _BkHelper__WEBPACK_IMPORTED_MODULE_2__.BkHelper.decodeValue(raw);
  }
  isTimezone() {
    return this.getAttr("timezone") === "true";
  }
  getDatabaseTableColumn() {
    if (!this.getAttr("column"))
      throw new Error(`${this.getFullName()}: column attr is empty`);
    const defaultDataSource = this.getForm().getDataSource("default");
    return defaultDataSource.getTable().getColumn(this.getAttr("column"));
  }
  getType() {
    if (this.getAttr("column")) {
      return this.getDatabaseTableColumn().getAttr("type");
    }
    if (this.getAttr("type")) {
      return this.getAttr("type");
    }
    throw new Error(`${this.getFullName()}: type attr is empty`);
  }
  getDbType() {
    return this.getDatabaseTableColumn().getAttr("dbType");
  }
  valueToDbValue(value2) {
    if (this.getDbType() === "json") {
      return JSON.stringify(value2);
    }
    return value2;
  }
};
__name(_BkField, "BkField");
let BkField = _BkField;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkField/BkFileField/BkFileField.ts":
/*!***********************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkField/BkFileField/BkFileField.ts ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkFileField": () => (/* binding */ BkFileField)
/* harmony export */ });
/* harmony import */ var _BkField__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkField */ "./src/backend/viewer/BkModel/BkField/BkField.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _BkFileField = class _BkFileField extends _BkField__WEBPACK_IMPORTED_MODULE_0__.BkField {
  fillAttributes(response) {
    super.fillAttributes(response);
    response.readOnly = this.getAttr("readOnly");
    response.notNull = this.getAttr("notNull");
  }
};
__name(_BkFileField, "BkFileField");
let BkFileField = _BkFileField;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkField/BkImageField/BkImageField.ts":
/*!*************************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkField/BkImageField/BkImageField.ts ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkImageField": () => (/* binding */ BkImageField)
/* harmony export */ });
/* harmony import */ var _BkField__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkField */ "./src/backend/viewer/BkModel/BkField/BkField.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _BkImageField = class _BkImageField extends _BkField__WEBPACK_IMPORTED_MODULE_0__.BkField {
  fillAttributes(response) {
    super.fillAttributes(response);
    response.readOnly = this.getAttr("readOnly");
    response.notNull = this.getAttr("notNull");
  }
};
__name(_BkImageField, "BkImageField");
let BkImageField = _BkImageField;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkField/BkLabelField/BkLabelField.ts":
/*!*************************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkField/BkLabelField/BkLabelField.ts ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkLabelField": () => (/* binding */ BkLabelField)
/* harmony export */ });
/* harmony import */ var _BkField__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkField */ "./src/backend/viewer/BkModel/BkField/BkField.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _BkLabelField = class _BkLabelField extends _BkField__WEBPACK_IMPORTED_MODULE_0__.BkField {
};
__name(_BkLabelField, "BkLabelField");
let BkLabelField = _BkLabelField;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkField/BkLinkField/BkLinkField.ts":
/*!***********************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkField/BkLinkField/BkLinkField.ts ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkLinkField": () => (/* binding */ BkLinkField)
/* harmony export */ });
/* harmony import */ var _BkField__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkField */ "./src/backend/viewer/BkModel/BkField/BkField.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _BkLinkField = class _BkLinkField extends _BkField__WEBPACK_IMPORTED_MODULE_0__.BkField {
  fillAttributes(response) {
    super.fillAttributes(response);
    response.notNull = this.getAttr("notNull");
    response.page = this.getAttr("page");
    response.displayColumn = this.getAttr("displayColumn");
  }
};
__name(_BkLinkField, "BkLinkField");
let BkLinkField = _BkLinkField;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkField/BkPasswordField/BkPasswordField.ts":
/*!*******************************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkField/BkPasswordField/BkPasswordField.ts ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkPasswordField": () => (/* binding */ BkPasswordField)
/* harmony export */ });
/* harmony import */ var _BkField__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkField */ "./src/backend/viewer/BkModel/BkField/BkField.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _BkPasswordField = class _BkPasswordField extends _BkField__WEBPACK_IMPORTED_MODULE_0__.BkField {
  fillAttributes(response) {
    super.fillAttributes(response);
    response.readOnly = this.getAttr("readOnly");
    response.notNull = this.getAttr("notNull");
    response.placeholder = this.getAttr("placeholder");
    response.validateOnChange = this.getAttr("validateOnChange");
    response.validateOnBlur = this.getAttr("validateOnBlur");
    response.autocomplete = this.getAttr("autocomplete");
  }
};
__name(_BkPasswordField, "BkPasswordField");
let BkPasswordField = _BkPasswordField;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkField/BkPhoneField/BkPhoneField.ts":
/*!*************************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkField/BkPhoneField/BkPhoneField.ts ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkPhoneField": () => (/* binding */ BkPhoneField)
/* harmony export */ });
/* harmony import */ var _BkField__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkField */ "./src/backend/viewer/BkModel/BkField/BkField.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _BkPhoneField = class _BkPhoneField extends _BkField__WEBPACK_IMPORTED_MODULE_0__.BkField {
  fillAttributes(response) {
    super.fillAttributes(response);
    response.readOnly = this.getAttr("readOnly");
    response.notNull = this.getAttr("notNull");
    response.placeholder = this.getAttr("placeholder");
    response.validateOnChange = this.getAttr("validateOnChange");
    response.validateOnBlur = this.getAttr("validateOnBlur");
    response.autocomplete = this.getAttr("autocomplete");
  }
};
__name(_BkPhoneField, "BkPhoneField");
let BkPhoneField = _BkPhoneField;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkField/BkRadioField/BkRadioField.ts":
/*!*************************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkField/BkRadioField/BkRadioField.ts ***!
  \*************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkRadioField": () => (/* binding */ BkRadioField)
/* harmony export */ });
/* harmony import */ var _BkField__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkField */ "./src/backend/viewer/BkModel/BkField/BkField.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _BkRadioField = class _BkRadioField extends _BkField__WEBPACK_IMPORTED_MODULE_0__.BkField {
  fillAttributes(response) {
    super.fillAttributes(response);
    response.readOnly = this.getAttr("readOnly");
    response.notNull = this.getAttr("notNull");
    response.dataSourceName = this.getAttr("dataSourceName");
    response.valueColumn = this.getAttr("valueColumn");
    response.displayColumn = this.getAttr("displayColumn");
  }
};
__name(_BkRadioField, "BkRadioField");
let BkRadioField = _BkRadioField;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkField/BkTextAreaField/BkTextAreaField.ts":
/*!*******************************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkField/BkTextAreaField/BkTextAreaField.ts ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkTextAreaField": () => (/* binding */ BkTextAreaField)
/* harmony export */ });
/* harmony import */ var _BkField__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkField */ "./src/backend/viewer/BkModel/BkField/BkField.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _BkTextAreaField = class _BkTextAreaField extends _BkField__WEBPACK_IMPORTED_MODULE_0__.BkField {
  fillAttributes(response) {
    super.fillAttributes(response);
    response.readOnly = this.getAttr("readOnly");
    response.notNull = this.getAttr("notNull");
    response.rows = this.getAttr("rows");
    response.cols = this.getAttr("cols");
    response.validateOnChange = this.getAttr("validateOnChange");
    response.validateOnBlur = this.getAttr("validateOnBlur");
  }
};
__name(_BkTextAreaField, "BkTextAreaField");
let BkTextAreaField = _BkTextAreaField;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkField/BkTextBoxField/BkTextBoxField.ts":
/*!*****************************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkField/BkTextBoxField/BkTextBoxField.ts ***!
  \*****************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkTextBoxField": () => (/* binding */ BkTextBoxField)
/* harmony export */ });
/* harmony import */ var _BkField__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkField */ "./src/backend/viewer/BkModel/BkField/BkField.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _BkTextBoxField = class _BkTextBoxField extends _BkField__WEBPACK_IMPORTED_MODULE_0__.BkField {
  fillAttributes(response) {
    super.fillAttributes(response);
    response.readOnly = this.getAttr("readOnly");
    response.notNull = this.getAttr("notNull");
    response.placeholder = this.getAttr("placeholder");
    response.validateOnChange = this.getAttr("validateOnChange");
    response.validateOnBlur = this.getAttr("validateOnBlur");
    response.autocomplete = this.getAttr("autocomplete");
  }
};
__name(_BkTextBoxField, "BkTextBoxField");
let BkTextBoxField = _BkTextBoxField;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkField/BkTimeField/BkTimeField.ts":
/*!***********************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkField/BkTimeField/BkTimeField.ts ***!
  \***********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkTimeField": () => (/* binding */ BkTimeField)
/* harmony export */ });
/* harmony import */ var _BkField__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkField */ "./src/backend/viewer/BkModel/BkField/BkField.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _BkTimeField = class _BkTimeField extends _BkField__WEBPACK_IMPORTED_MODULE_0__.BkField {
  fillAttributes(response) {
    super.fillAttributes(response);
    response.readOnly = this.getAttr("readOnly");
    response.notNull = this.getAttr("notNull");
    response.placeholder = this.getAttr("placeholder");
    response.validateOnChange = this.getAttr("validateOnChange");
    response.validateOnBlur = this.getAttr("validateOnBlur");
  }
};
__name(_BkTimeField, "BkTimeField");
let BkTimeField = _BkTimeField;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkForm/BkForm.ts":
/*!*****************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkForm/BkForm.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkForm": () => (/* binding */ BkForm)
/* harmony export */ });
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _BkModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../BkModel */ "./src/backend/viewer/BkModel/BkModel.ts");
/* harmony import */ var _HttpError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../HttpError */ "./src/backend/HttpError.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __getProtoOf = Object.getPrototypeOf;
var __reflectGet = Reflect.get;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __superGet = (cls, obj, key) => __reflectGet(__getProtoOf(cls), key, obj);
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};




const _BkForm = class _BkForm extends _BkModel__WEBPACK_IMPORTED_MODULE_1__.BkModel {
  constructor(data, parent) {
    super(data, parent);
    this.dataSources = [];
    this.actions = [];
    this.fields = [];
    this.fillCollections = ["dataSources", "actions", "fields"];
  }
  init(context) {
    return __async(this, null, function* () {
      yield this.createColItems("dataSources", context);
      yield this.createColItems("actions", context);
      yield this.createColItems("fields", context);
    });
  }
  getDirPath() {
    return path__WEBPACK_IMPORTED_MODULE_0___default().join(this.getParent().getDirPath(), "forms", this.getName());
  }
  fillAttributes(response) {
    response.class = this.getClassName();
    response.name = this.getAttr("name");
    response.caption = this.getAttr("caption");
    response.visible = this.getAttr("visible");
    response.cssBlock = this.getAttr("cssBlock");
    response.viewClass = this.getAttr("viewClass");
    response.ctrlClass = this.getAttr("ctrlClass");
  }
  fill(context) {
    return __async(this, null, function* () {
      if (this.findDataSource("default")) {
        return yield __superGet(_BkForm.prototype, this, "fill").call(this, context);
      }
      const dataSourceResponse = this._getSurrogateDataSourceResponse(context);
      this.dumpRowToParams(dataSourceResponse.rows[0], context);
      const response = yield __superGet(_BkForm.prototype, this, "fill").call(this, context);
      response.dataSources.push(dataSourceResponse);
      return response;
    });
  }
  _getSurrogateDataSourceResponse(context) {
    const row = {};
    row["id"] = "[1]";
    for (const field of this.fields) {
      field.fillDefaultValue(context, row);
    }
    return {
      class: "DataSource",
      name: "default",
      keyColumns: ["id"],
      rows: [row]
    };
  }
  dumpRowToParams(row, context) {
    for (const field of this.fields) {
      if (field.isParam()) {
        field.dumpRowValueToParams(row, context);
      }
    }
  }
  replaceThis(context, query) {
    return query.replace(/\{([@\w.]+)\}/g, (text, name) => {
      if (name.indexOf(".") !== -1) {
        const arr = name.split(".");
        if (arr[0] === "this") {
          arr[0] = this.getPage().getName();
        }
        return "{" + arr.join(".") + "}";
      }
      return text;
    }).replace(/\[([@\w.]+)\]/g, (text, name) => {
      if (name.indexOf(".") !== -1) {
        const arr = name.split(".");
        if (arr[0] === "this") {
          arr[0] = this.getPage().getName();
        }
        return "[" + arr.join(".") + "]";
      }
      return text;
    });
  }
  rpc(name, context) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)("BkForm.rpc", name, context.getBody());
      if (this[name])
        return yield this[name](context);
      throw new _HttpError__WEBPACK_IMPORTED_MODULE_2__.HttpError({
        message: `no remote proc ${this.constructor.name}.${name}`,
        data: { method: `${this.constructor.name}.rpc` },
        context
      });
    });
  }
  getApp() {
    return this.getParent().getParent();
  }
  getPage() {
    return this.getParent();
  }
  getFullName() {
    return `${this.getPage().getName()}.${this.getName()}`;
  }
  isNewMode(context) {
    const body = context.getBody();
    return !!body.newMode;
  }
  findField(name) {
    return this.fields.find((field) => field.getName() === name);
  }
  getField(name) {
    const field = this.findField(name);
    if (!field)
      throw new Error(`${this.getFullName()}: no field ${name}`);
    return field;
  }
  findDataSource(name) {
    return this.dataSources.find((dataSource) => dataSource.getName() === name);
  }
  getDataSource(name) {
    const ds = this.findDataSource(name);
    if (!ds)
      throw new Error(`${this.getFullName()}: no data source ${name}`);
    return ds;
  }
};
__name(_BkForm, "BkForm");
let BkForm = _BkForm;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkForm/BkRowForm/BkRowForm.ts":
/*!******************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkForm/BkRowForm/BkRowForm.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkRowForm": () => (/* binding */ BkRowForm)
/* harmony export */ });
/* harmony import */ var _BkForm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkForm */ "./src/backend/viewer/BkModel/BkForm/BkForm.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _BkRowForm = class _BkRowForm extends _BkForm__WEBPACK_IMPORTED_MODULE_0__.BkForm {
  // constructor(data, parent) {
  //     super(data, parent);
  //     // debug('RowForm.constructor', this.getFullName());
  // }
  // async fill(context) {
  //     debug('RowForm.fill', this.constructor.name, this.getFullName());
  //     return super.fill(context);
  // }
  isNewMode(context) {
    if (this.isAttr("newMode")) {
      const newMode = this.getAttr("newMode");
      if (newMode === "true")
        return true;
      if (newMode === "false")
        return false;
    }
    return super.isNewMode(context);
  }
  fillAttributes(response) {
    super.fillAttributes(response);
    response.newMode = this.getAttr("newMode");
    response.refreshButton = this.getAttr("refreshButton");
  }
};
__name(_BkRowForm, "BkRowForm");
let BkRowForm = _BkRowForm;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkForm/BkTableForm/BkTableForm.ts":
/*!**********************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkForm/BkTableForm/BkTableForm.ts ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkTableForm": () => (/* binding */ BkTableForm)
/* harmony export */ });
/* harmony import */ var _BkForm__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkForm */ "./src/backend/viewer/BkModel/BkForm/BkForm.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _BkTableForm = class _BkTableForm extends _BkForm__WEBPACK_IMPORTED_MODULE_0__.BkForm {
  /* static async create(data, parent) {
      return new TableForm(data, parent);
  } */
  // async fill(context) {
  //     debug('TableForm.fill', this.constructor.name, this.getFullName());
  //     return super.fill(context);
  // }
  fillAttributes(response) {
    super.fillAttributes(response);
    response.editMethod = this.getAttr("editMethod");
    response.itemEditPage = this.getAttr("itemEditPage");
    response.itemCreatePage = this.getAttr("itemCreatePage");
    response.newRowMode = this.getAttr("newRowMode");
    response.deleteRowMode = this.getAttr("deleteRowMode");
    response.refreshButton = this.getAttr("refreshButton");
  }
};
__name(_BkTableForm, "BkTableForm");
let BkTableForm = _BkTableForm;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkModel.ts":
/*!***********************************************!*\
  !*** ./src/backend/viewer/BkModel/BkModel.ts ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkModel": () => (/* binding */ BkModel)
/* harmony export */ });
/* harmony import */ var _BaseModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../BaseModel */ "./src/backend/BaseModel.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

const _BkModel = class _BkModel extends _BaseModel__WEBPACK_IMPORTED_MODULE_0__.BaseModel {
  constructor() {
    super(...arguments);
    this.deinited = false;
    this.fillCollections = [];
  }
  init(context) {
    return __async(this, null, function* () {
    });
  }
  deinit() {
    return __async(this, null, function* () {
      this.checkDeinited();
      this.deinited = true;
    });
  }
  checkDeinited() {
    if (this.deinited) {
      throw new Error(`${this.getName()} is already deinited and cannot be used`);
    }
  }
  fill(context) {
    return __async(this, null, function* () {
      const response = { name: "" };
      this.fillAttributes(response);
      for (const colName of this.fillCollections) {
        yield this.fillCollection(response, colName, context);
      }
      return response;
    });
  }
  fillAttributes(response) {
    throw new Error(`${this.constructor.name}.fillAttributes not implemented`);
  }
  isBackOnly() {
    return this.isAttr("backOnly") && this.getAttr("backOnly") === "true";
  }
  fillCollection(response, colName, context) {
    return __async(this, null, function* () {
      if (!this[colName])
        return;
      response[colName] = [];
      for (const model of this[colName]) {
        if (model.isBackOnly()) {
          continue;
        }
        const itemResponse = yield model.fill(context);
        response[colName].push(itemResponse);
      }
    });
  }
  createColItems(colName, context) {
    return __async(this, null, function* () {
      for (const itemData of this.getCol(colName)) {
        yield this.createColItem(colName, itemData, context);
      }
    });
  }
  createColItem(colName, itemData, context) {
    return __async(this, null, function* () {
      try {
        const model = yield this.createChildModel(colName, itemData);
        yield model.init(context);
        this[colName].push(model);
      } catch (err) {
        const name = _BaseModel__WEBPACK_IMPORTED_MODULE_0__.BaseModel.getName(itemData);
        const className = _BaseModel__WEBPACK_IMPORTED_MODULE_0__.BaseModel.getClassName(itemData);
        err.message = `${className}[${name}]: ${err.message}`;
        throw err;
      }
    });
  }
  createChildModel(colName, itemData) {
    return __async(this, null, function* () {
      const modelClass = _BaseModel__WEBPACK_IMPORTED_MODULE_0__.BaseModel.getAttr(itemData, "modelClass");
      if (modelClass) {
        const CustomClass = global[modelClass];
        if (!CustomClass)
          throw new Error(`no global class ${modelClass}`);
        return new CustomClass(itemData, this);
      }
      const className = _BaseModel__WEBPACK_IMPORTED_MODULE_0__.BaseModel.getClassName(itemData);
      const backend = __webpack_require__(/*! ../../../backend */ "./src/backend/index.ts");
      const Class = backend[`Bk${className}`];
      if (!Class)
        throw new Error(`no class backend.${className}`);
      return new Class(itemData, this);
    });
  }
  getDirPath() {
    return null;
  }
  rpc(name, context) {
    return __async(this, null, function* () {
      throw new Error(`${this.constructor.name}.rpc not implemented`);
    });
  }
};
__name(_BkModel, "BkModel");
let BkModel = _BkModel;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkPage/BkPage.ts":
/*!*****************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkPage/BkPage.ts ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkPage": () => (/* binding */ BkPage)
/* harmony export */ });
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _BkModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../BkModel */ "./src/backend/viewer/BkModel/BkModel.ts");
/* harmony import */ var _HttpError__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../HttpError */ "./src/backend/HttpError.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __getProtoOf = Object.getPrototypeOf;
var __reflectGet = Reflect.get;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __superGet = (cls, obj, key) => __reflectGet(__getProtoOf(cls), key, obj);
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};




const _BkPage = class _BkPage extends _BkModel__WEBPACK_IMPORTED_MODULE_1__.BkModel {
  constructor() {
    super(...arguments);
    this.dataSources = [];
    this.actions = [];
    this.forms = [];
  }
  init(context) {
    return __async(this, null, function* () {
      yield this.createColItems("dataSources", context);
      yield this.createColItems("actions", context);
      yield this.createColItems("forms", context);
    });
  }
  getDirPath() {
    return path__WEBPACK_IMPORTED_MODULE_0___default().join(this.getParent().getDirPath(), "pages", this.getName());
  }
  fillAttributes(response) {
    response.name = this.getAttr("name");
    response.caption = this.getAttr("caption");
    response.cssBlock = this.getAttr("cssBlock");
    response.viewClass = this.getAttr("viewClass");
    response.ctrlClass = this.getAttr("ctrlClass");
    if (this.isAttr("formInTab")) {
      response.formInTab = this.getAttr("formInTab");
    }
  }
  fill(context) {
    return __async(this, null, function* () {
      const response = yield __superGet(_BkPage.prototype, this, "fill").call(this, context);
      yield this.fillCollection(response, "dataSources", context);
      yield this.fillCollection(response, "actions", context);
      yield this.fillCollection(response, "forms", context);
      const body = context.getBody();
      response.newMode = !!body.newMode;
      return response;
    });
  }
  rpc(name, context) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)("BkPage.rpc", name, context.getBody());
      if (this[name]) {
        return yield this[name](context);
      }
      throw new _HttpError__WEBPACK_IMPORTED_MODULE_2__.HttpError({
        message: `no remote proc ${this.constructor.name}.${name}`,
        data: { method: `${this.constructor.name}.rpc` },
        context
      });
    });
  }
  getApp() {
    return this.getParent();
  }
  findForm(name) {
    return this.forms.find((form) => form.getName() === name);
  }
  getForm(name) {
    const form = this.findForm(name);
    if (!form)
      throw new Error(`${this.getName()}: no form ${name}`);
    return form;
  }
  findDataSource(name) {
    return this.dataSources.find((dataSource) => dataSource.getName() === name);
  }
  getDataSource(name) {
    const ds = this.findDataSource(name);
    if (!ds)
      throw new Error(`${this.getName()}: no form ${name}`);
    return ds;
  }
};
__name(_BkPage, "BkPage");
let BkPage = _BkPage;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkPageLink/BkPageLink.ts":
/*!*************************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkPageLink/BkPageLink.ts ***!
  \*************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkPageLink": () => (/* binding */ BkPageLink)
/* harmony export */ });
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _BkModel__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../BkModel */ "./src/backend/viewer/BkModel/BkModel.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _BkPageLink = class _BkPageLink extends _BkModel__WEBPACK_IMPORTED_MODULE_1__.BkModel {
  getPageFilePath() {
    const pageFilePath = path__WEBPACK_IMPORTED_MODULE_0___default().join(
      this.getParent().getDirPath(),
      this.getAttr("fileName")
    );
    return pageFilePath;
  }
};
__name(_BkPageLink, "BkPageLink");
let BkPageLink = _BkPageLink;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkParam/BkParam.ts":
/*!*******************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkParam/BkParam.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkParam": () => (/* binding */ BkParam)
/* harmony export */ });
/* harmony import */ var _BkModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkModel */ "./src/backend/viewer/BkModel/BkModel.ts");
var __defProp = Object.defineProperty;
var __name = (target, value2) => __defProp(target, "name", { value: value2, configurable: true });

const _BkParam = class _BkParam extends _BkModel__WEBPACK_IMPORTED_MODULE_0__.BkModel {
  getValue() {
    const value = this.getAttr("value");
    try {
      return eval(value);
    } catch (err) {
      err.message = `eval error: ${err.message}, ${this.getName()} = ${value}`;
      throw err;
    }
  }
  getApp() {
    return this.getParent().getApp();
  }
};
__name(_BkParam, "BkParam");
let BkParam = _BkParam;


/***/ }),

/***/ "./src/backend/viewer/BkModel/BkTable/BkTable.ts":
/*!*******************************************************!*\
  !*** ./src/backend/viewer/BkModel/BkTable/BkTable.ts ***!
  \*******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkTable": () => (/* binding */ BkTable)
/* harmony export */ });
/* harmony import */ var _BkModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../BkModel */ "./src/backend/viewer/BkModel/BkModel.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

const _BkTable = class _BkTable extends _BkModel__WEBPACK_IMPORTED_MODULE_0__.BkModel {
  constructor(data, parent) {
    super(data, parent);
    this.columns = [];
    this.fillCollections = ["columns"];
  }
  init(context) {
    return __async(this, null, function* () {
      yield this.createColItems("columns", context);
    });
  }
  getKeyColumns() {
    const keyColumns = this.columns.filter((column) => column.isKey()).map((column) => column.getName());
    if (keyColumns.length === 0)
      throw new Error(`no key columns in table: ${this.getName()}`);
    return keyColumns;
  }
  getApp() {
    return this.getParent().getParent();
  }
  getColumn(name) {
    const column = this.columns.find((column2) => column2.getName() === name);
    if (!column)
      throw new Error(`no column ${name}`);
    return column;
  }
  fillAttributes(response) {
    response.name = this.getAttr("name");
  }
};
__name(_BkTable, "BkTable");
let BkTable = _BkTable;


/***/ }),

/***/ "./src/backend/viewer/ViewerModule.tsx":
/*!*********************************************!*\
  !*** ./src/backend/viewer/ViewerModule.tsx ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NoSqlDataSource": () => (/* reexport safe */ _frontend_viewer__WEBPACK_IMPORTED_MODULE_16__.NoSqlDataSource),
/* harmony export */   "RowForm": () => (/* reexport safe */ _frontend_viewer__WEBPACK_IMPORTED_MODULE_16__.RowForm),
/* harmony export */   "TableForm": () => (/* reexport safe */ _frontend_viewer__WEBPACK_IMPORTED_MODULE_16__.TableForm),
/* harmony export */   "TableFormTextBoxFieldController": () => (/* reexport safe */ _frontend_viewer__WEBPACK_IMPORTED_MODULE_16__.TableFormTextBoxFieldController),
/* harmony export */   "TextBoxField": () => (/* reexport safe */ _frontend_viewer__WEBPACK_IMPORTED_MODULE_16__.TextBoxField),
/* harmony export */   "ViewerModule": () => (/* binding */ ViewerModule)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ "path");
/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! react-dom/server */ "react-dom/server");
/* harmony import */ var react_dom_server__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(react_dom_server__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _BkHelper__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../BkHelper */ "./src/backend/BkHelper.ts");
/* harmony import */ var _HttpError__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../HttpError */ "./src/backend/HttpError.ts");
/* harmony import */ var _Result__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../Result */ "./src/Result.ts");
/* harmony import */ var _Links__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../Links */ "./src/backend/Links.tsx");
/* harmony import */ var _Scripts__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ../Scripts */ "./src/backend/Scripts.tsx");
/* harmony import */ var _frontend_viewer_Model_Application_Application__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ../../frontend/viewer/Model/Application/Application */ "./src/frontend/viewer/Model/Application/Application.ts");
/* harmony import */ var _frontend_viewer_Controller_ModelController_ApplicationController_ApplicationController__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ../../frontend/viewer/Controller/ModelController/ApplicationController/ApplicationController */ "./src/frontend/viewer/Controller/ModelController/ApplicationController/ApplicationController.ts");
/* harmony import */ var _login__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./login */ "./src/backend/viewer/login.tsx");
/* harmony import */ var _frontend_common__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ../../frontend/common */ "./src/frontend/common/index.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ../../console */ "./src/console.ts");
/* harmony import */ var _pConsole__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../../pConsole */ "./src/pConsole.ts");
/* harmony import */ var _Session__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../Session */ "./src/backend/Session.ts");
/* harmony import */ var _frontend_viewer__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../../frontend/viewer */ "./src/frontend/viewer/index.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};
















const pkg = __webpack_require__(/*! ../../../package.json */ "./package.json");

const ACTIONS = [
  "insert",
  // insert     create
  "select",
  // select     read
  "update",
  // update     update
  "_delete",
  // delete    delete
  "page",
  "rpc",
  "logout",
  "test"
];
const _ViewerModule = class _ViewerModule {
  constructor(hostApp) {
    this.hostApp = hostApp;
  }
  init() {
    return __async(this, null, function* () {
      this.css = (yield _BkHelper__WEBPACK_IMPORTED_MODULE_4__.BkHelper.getFilePaths(
        path__WEBPACK_IMPORTED_MODULE_1___default().join(this.hostApp.getFrontendDirPath(), "viewer/public"),
        "css"
      )).map((path2) => `/viewer/public/${path2}`);
      this.js = (yield _BkHelper__WEBPACK_IMPORTED_MODULE_4__.BkHelper.getFilePaths(
        path__WEBPACK_IMPORTED_MODULE_1___default().join(this.hostApp.getFrontendDirPath(), "viewer/public"),
        "js"
      )).map((path2) => `/viewer/public/${path2}`);
      (0,_console__WEBPACK_IMPORTED_MODULE_13__.debug)("ViewerModule.css:", this.css);
      (0,_console__WEBPACK_IMPORTED_MODULE_13__.debug)("ViewerModule.js:", this.js);
      if (!this.js.length)
        throw new Error("no qforms js");
    });
  }
  getLinks() {
    return this.css;
  }
  getScripts() {
    return this.js;
  }
  handleGet(context, bkApplication) {
    return __async(this, null, function* () {
      _pConsole__WEBPACK_IMPORTED_MODULE_14__.pConsole.debug(
        "ViewerModule.handleGet",
        context.getDomain(),
        context.getReq().url,
        context.getReq().params,
        context.getQuery()
        // Object.keys(context.query).map((name) => typeof context.query[name]),
      );
      const req = context.getReq();
      const session = context.getSession();
      if (bkApplication.isAuthentication() && !(session.user && session.user[context.getRoute()])) {
        yield this.loginGet(context, bkApplication);
      } else {
        context.setVersionHeaders(pkg.version, bkApplication.getVersion());
        yield this.index(context, bkApplication);
      }
    });
  }
  handlePost(context, application) {
    return __async(this, null, function* () {
      const { action } = context.getBody();
      if (action === "login") {
        yield this.loginPost(context, application);
      } else {
        const user = context.getUser();
        if (application.isAuthentication() && !user) {
          throw new _HttpError__WEBPACK_IMPORTED_MODULE_5__.HttpError({ message: "Unauthorized", status: 401, context });
        }
        yield this.handleAction(context, application);
      }
    });
  }
  handleAction(context, application) {
    return __async(this, null, function* () {
      const { action } = context.getBody();
      if (ACTIONS.indexOf(action) === -1) {
        throw new Error(`unknown action: ${action}`);
      }
      context.setVersionHeaders(pkg.version, application.getVersion());
      yield this[action](context, application);
    });
  }
  renderHtml(bkApplication, context) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_13__.debug)("ViewerModule.renderHtml");
      const links = react_dom_server__WEBPACK_IMPORTED_MODULE_3___default().renderToStaticMarkup(
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Links__WEBPACK_IMPORTED_MODULE_7__.Links, { links: [...this.getLinks(), ...bkApplication.links] })
      );
      const scripts = react_dom_server__WEBPACK_IMPORTED_MODULE_3___default().renderToStaticMarkup(
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Scripts__WEBPACK_IMPORTED_MODULE_8__.Scripts, { scripts: [...this.getScripts(), ...bkApplication.scripts] })
      );
      const data = yield bkApplication.fill(context);
      const frontHostApp = new _frontend_common__WEBPACK_IMPORTED_MODULE_12__.FrontHostApp({
        debug: context.isDebugMode(),
        url: context.getUrl(),
        cookies: context.getCookies()
      });
      const application = new _frontend_viewer_Model_Application_Application__WEBPACK_IMPORTED_MODULE_9__.Application(data);
      application.init();
      const applicationController = _frontend_viewer_Controller_ModelController_ApplicationController_ApplicationController__WEBPACK_IMPORTED_MODULE_10__.ApplicationController.create(application, frontHostApp);
      applicationController.init();
      const element = react__WEBPACK_IMPORTED_MODULE_2___default().createElement(applicationController.getViewClass(), {
        ctrl: applicationController
      });
      const appViewHtml = react_dom_server__WEBPACK_IMPORTED_MODULE_3___default().renderToString(element);
      const html = bkApplication.renderIndexHtml(
        context,
        applicationController,
        pkg.version,
        links,
        scripts,
        data,
        appViewHtml
      );
      return html;
    });
  }
  loginGet(context, application) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_13__.debug)("ViewerModule.loginGet");
      const links = react_dom_server__WEBPACK_IMPORTED_MODULE_3___default().renderToStaticMarkup(
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Links__WEBPACK_IMPORTED_MODULE_7__.Links, { links: [...this.getLinks(), ...application.links] })
      );
      const scripts = react_dom_server__WEBPACK_IMPORTED_MODULE_3___default().renderToStaticMarkup(
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Scripts__WEBPACK_IMPORTED_MODULE_8__.Scripts, { scripts: [...this.getScripts(), ...application.scripts] })
      );
      const html = (0,_login__WEBPACK_IMPORTED_MODULE_11__.login)(pkg.version, context, application, links, scripts, {
        name: application.getName(),
        text: application.getText(),
        title: application.getTitle(context),
        errMsg: null,
        username: context.getQuery().username
      });
      context.getRes().end(html);
    });
  }
  loginPost(context, application) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_13__.debug)("ViewerModule.loginPost");
      const { tzOffset, username, password } = context.getBody();
      if (tzOffset === void 0)
        throw new Error("no tzOffset");
      if (username === void 0)
        throw new Error("no username");
      if (password === void 0)
        throw new Error("no password");
      const req = context.getReq();
      const res = context.getRes();
      yield application.connect(context);
      try {
        const user = yield application.authenticate(context, username, password);
        if (user) {
          if (!user.id)
            throw new Error("no user id");
          if (!user.name)
            throw new Error("no user name");
          const session = context.getSession();
          if (session.user === void 0)
            session.user = {};
          session.user[context.getRoute()] = user;
          session.ip = context.getIp();
          session.tzOffset = JSON.parse(tzOffset);
          res.redirect(req.url);
          this.getHostApp().logEvent(
            context,
            `login ${application.getName()}/${context.getDomain()} ${user.name}`
          );
        } else {
          const links = react_dom_server__WEBPACK_IMPORTED_MODULE_3___default().renderToStaticMarkup(
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Links__WEBPACK_IMPORTED_MODULE_7__.Links, { links: [...this.getLinks(), ...application.links] })
          );
          const scripts = react_dom_server__WEBPACK_IMPORTED_MODULE_3___default().renderToStaticMarkup(
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Scripts__WEBPACK_IMPORTED_MODULE_8__.Scripts, { scripts: [...this.getScripts(), ...application.scripts] })
          );
          const html = (0,_login__WEBPACK_IMPORTED_MODULE_11__.login)(pkg.version, context, application, links, scripts, {
            name: application.getName(),
            text: application.getText(),
            title: application.getTitle(context),
            errMsg: application.getText().login.WrongUsernameOrPassword,
            username,
            password
          });
          res.status(401).end(html);
        }
      } finally {
        yield application.release(context);
      }
    });
  }
  // action (index page, action by default for GET request)
  index(context, bkApplication) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_13__.debug)("ViewerModule.index");
      const res = context.getRes();
      yield bkApplication.connect(context);
      try {
        yield bkApplication.initContext(context);
        const html = yield this.renderHtml(bkApplication, context);
        res.end(html);
      } finally {
        yield bkApplication.release(context);
      }
    });
  }
  // action (fill page)
  page(context, application) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_13__.debug)("ViewerModule.page", context.getReq().body.page);
      const body = context.getBody();
      yield application.connect(context);
      try {
        yield application.initContext(context);
        const page = yield application.getPage(context, body.page);
        const response = yield page.fill(context);
        if (response === void 0)
          throw new Error("page action: response is undefined");
        context.getRes().json({ page: response });
      } finally {
        yield application.release(context);
      }
    });
  }
  // action
  select(context, application) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_13__.debug)("ViewerModule.select", context.getReq().body.page);
      const body = context.getBody();
      const start = Date.now();
      let dataSource;
      if (body.page) {
        const page = yield application.getPage(context, body.page);
        if (body.form) {
          dataSource = page.getForm(body.form).getDataSource(body.ds);
        } else {
          dataSource = page.getDataSource(body.ds);
        }
      } else {
        dataSource = application.getDataSource(body.ds);
      }
      yield dataSource.getDatabase().use(context, (database) => __async(this, null, function* () {
        yield application.initContext(context);
        const [rows, count] = yield dataSource.read(context);
        const time = Date.now() - start;
        (0,_console__WEBPACK_IMPORTED_MODULE_13__.debug)("select time:", time);
        context.getRes().json({ rows, count, time });
      }));
    });
  }
  // action
  insert(context, application) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_13__.debug)("ViewerModule.insert", context.getReq().body.page);
      const body = context.getBody();
      const page = yield application.getPage(context, body.page);
      const form = page.getForm(body.form);
      const dataSource = form.getDataSource("default");
      yield dataSource.getDatabase().use(context, (database) => __async(this, null, function* () {
        yield application.initContext(context);
        const result = yield database.transaction(context, () => __async(this, null, function* () {
          const result2 = yield dataSource.create(context);
          if (result2 === void 0)
            throw new Error("insert action: result is undefined");
          return result2;
        }));
        context.getRes().json(result);
        this.hostApp.broadcastResult(application, context, result);
      }));
    });
  }
  // action
  update(context, application) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_13__.debug)("ViewerModule.update", context.getReq().body.page);
      const body = context.getBody();
      const page = yield application.getPage(context, body.page);
      const form = page.getForm(body.form);
      const dataSource = form.getDataSource("default");
      yield dataSource.getDatabase().use(context, (database) => __async(this, null, function* () {
        yield application.initContext(context);
        const result = yield database.transaction(context, () => __async(this, null, function* () {
          const result2 = yield dataSource.update(context);
          if (result2 === void 0)
            throw new Error("action update: result is undefined");
          return result2;
        }));
        context.getRes().json(result);
        this.hostApp.broadcastResult(application, context, result);
      }));
    });
  }
  // action
  _delete(context, application) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_13__.debug)("ViewerModule._delete", context.getReq().body.page);
      const body = context.getBody();
      const page = yield application.getPage(context, body.page);
      const form = page.getForm(body.form);
      const dataSource = form.getDataSource("default");
      yield dataSource.getDatabase().use(context, (database) => __async(this, null, function* () {
        yield application.initContext(context);
        const result = yield database.transaction(context, () => __async(this, null, function* () {
          const result2 = yield dataSource.delete(context);
          if (result2 === void 0)
            throw new Error("delete result is undefined");
          return result2;
        }));
        context.getRes().json(result);
        this.hostApp.broadcastResult(application, context, result);
      }));
    });
  }
  static getModel(context, application) {
    return __async(this, null, function* () {
      const body = context.getBody();
      if (body.page) {
        const page = yield application.getPage(context, body.page);
        if (body.form) {
          return page.getForm(body.form);
        }
        return page;
      }
      return application;
    });
  }
  // action
  rpc(context, application) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_13__.debug)("ViewerModule.rpc", context.getReq().body);
      const dto = context.getBody();
      const res = context.getRes();
      const model = yield _ViewerModule.getModel(context, application);
      try {
        const result = yield model.rpc(dto.name, context);
        if (result === void 0)
          throw new Error("rpc action: result is undefined");
        if (Array.isArray(result)) {
          const [response, _result] = result;
          res.json(response);
          if (!(_result instanceof _Result__WEBPACK_IMPORTED_MODULE_6__.Result)) {
            throw new Error("_result is not Result");
          }
          this.hostApp.broadcastResult(application, context, _result);
        } else {
          res.json(result);
          if (result instanceof _Result__WEBPACK_IMPORTED_MODULE_6__.Result) {
            this.hostApp.broadcastResult(application, context, result);
          }
        }
      } catch (err) {
        const errorMessage = err.message;
        err.message = `rpc error ${dto.name}: ${err.message}`;
        err.context = context;
        yield this.hostApp.logError(err, context.getReq());
        res.json({ errorMessage });
      }
    });
  }
  // action
  logout(context, application) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_13__.debug)("ViewerModule.logout");
      const user = context.getUser();
      const route = context.getRoute();
      if (!user) {
        throw new Error(`no user for route ${route}`);
      }
      const session = context.getSession();
      (0,_Session__WEBPACK_IMPORTED_MODULE_15__.Session_deleteUser)(session, route);
      yield (0,_Session__WEBPACK_IMPORTED_MODULE_15__.Session_save)(session);
      context.getRes().json(null);
    });
  }
  // action
  test(context, application) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_13__.debug)("ViewerModule.test", context.getReq().body);
      context.getRes().json(null);
    });
  }
  handleGetFile(context, application, next) {
    return __async(this, null, function* () {
      yield application.handleGetFile(context, next);
    });
  }
  getHostApp() {
    return this.hostApp;
  }
};
__name(_ViewerModule, "ViewerModule");
let ViewerModule = _ViewerModule;


/***/ }),

/***/ "./src/backend/viewer/home.tsx":
/*!*************************************!*\
  !*** ./src/backend/viewer/home.tsx ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "home": () => (/* binding */ home)
/* harmony export */ });
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
const home = /* @__PURE__ */ __name((application, context, applicationController, qformsVersion, links, scripts, data, appViewHtml) => {
  return `<!DOCTYPE html>
<html class="${application.getViewClassName()} ${application.getAttr("theme")} ${context.getQuery().debug === "1" ? "debug" : ""} ${context.getQuery().frame === "1" ? "iframe" : "not-iframe"}" lang="${application.getAttr(
    "lang"
  )}">
<head>
    <!-- qforms v${qformsVersion} -->
    <!-- app v${application.getVersion()}  -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>${applicationController.getTitle()}</title>
    <!-- links -->
    ${links}
    <!-- scripts -->
    ${scripts}
    <script>
        document.addEventListener('DOMContentLoaded', async () => {
            const dataScriptElement = document.querySelector('script[type="application/json"]');
            const data = JSON.parse(dataScriptElement.textContent);
            const frontHostApp = new ViewerFrontHostApp({data});
            frontHostApp.init();
            await frontHostApp.run();
        });
    <\/script>
    <script type="application/json">${JSON.stringify(
    data
    /*, null, 4*/
  )}<\/script>
</head>
<body class="${application.getViewClassName()}__body">
    <div class="${application.getViewClassName()}__root">${appViewHtml}</div>
    <div class="alert-root"></div>
</body>
</html>`;
}, "home");


/***/ }),

/***/ "./src/backend/viewer/index.ts":
/*!*************************************!*\
  !*** ./src/backend/viewer/index.ts ***!
  \*************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "BkAction": () => (/* reexport safe */ _BkModel_BkAction_BkAction__WEBPACK_IMPORTED_MODULE_33__.BkAction),
/* harmony export */   "BkApplication": () => (/* reexport safe */ _BkModel_BkApplication_BkApplication__WEBPACK_IMPORTED_MODULE_1__.BkApplication),
/* harmony export */   "BkCheckBoxField": () => (/* reexport safe */ _BkModel_BkField_BkCheckBoxField_BkCheckBoxField__WEBPACK_IMPORTED_MODULE_10__.BkCheckBoxField),
/* harmony export */   "BkCheckBoxListField": () => (/* reexport safe */ _BkModel_BkField_BkCheckBoxListField_BkCheckBoxListField__WEBPACK_IMPORTED_MODULE_11__.BkCheckBoxListField),
/* harmony export */   "BkColumn": () => (/* reexport safe */ _BkModel_BkColumn_BkColumn__WEBPACK_IMPORTED_MODULE_30__.BkColumn),
/* harmony export */   "BkComboBoxField": () => (/* reexport safe */ _BkModel_BkField_BkComboBoxField_BkComboBoxField__WEBPACK_IMPORTED_MODULE_12__.BkComboBoxField),
/* harmony export */   "BkDataSource": () => (/* reexport safe */ _BkModel_BkDataSource_BkDataSource__WEBPACK_IMPORTED_MODULE_6__.BkDataSource),
/* harmony export */   "BkDatabase": () => (/* reexport safe */ _BkModel_BkDatabase_BkDatabase__WEBPACK_IMPORTED_MODULE_2__.BkDatabase),
/* harmony export */   "BkDateField": () => (/* reexport safe */ _BkModel_BkField_BkDateField_BkDateField__WEBPACK_IMPORTED_MODULE_13__.BkDateField),
/* harmony export */   "BkDateTimeField": () => (/* reexport safe */ _BkModel_BkField_BkDateTimeField_BkDateTimeField__WEBPACK_IMPORTED_MODULE_15__.BkDateTimeField),
/* harmony export */   "BkField": () => (/* reexport safe */ _BkModel_BkField_BkField__WEBPACK_IMPORTED_MODULE_9__.BkField),
/* harmony export */   "BkFileField": () => (/* reexport safe */ _BkModel_BkField_BkFileField_BkFileField__WEBPACK_IMPORTED_MODULE_16__.BkFileField),
/* harmony export */   "BkForm": () => (/* reexport safe */ _BkModel_BkForm_BkForm__WEBPACK_IMPORTED_MODULE_25__.BkForm),
/* harmony export */   "BkImageField": () => (/* reexport safe */ _BkModel_BkField_BkImageField_BkImageField__WEBPACK_IMPORTED_MODULE_17__.BkImageField),
/* harmony export */   "BkLabelField": () => (/* reexport safe */ _BkModel_BkField_BkLabelField_BkLabelField__WEBPACK_IMPORTED_MODULE_18__.BkLabelField),
/* harmony export */   "BkLinkField": () => (/* reexport safe */ _BkModel_BkField_BkLinkField_BkLinkField__WEBPACK_IMPORTED_MODULE_19__.BkLinkField),
/* harmony export */   "BkModel": () => (/* reexport safe */ _BkModel_BkModel__WEBPACK_IMPORTED_MODULE_0__.BkModel),
/* harmony export */   "BkMongoDbDatabase": () => (/* reexport safe */ _BkModel_BkDatabase_BkNoSqlDatabase_BkMongoDbDatabase_BkMongoDbDatabase__WEBPACK_IMPORTED_MODULE_5__.BkMongoDbDatabase),
/* harmony export */   "BkMySqlDatabase": () => (/* reexport safe */ _BkModel_BkDatabase_BkSqlDatabase_BkMySqlDatabase_BkMySqlDatabase__WEBPACK_IMPORTED_MODULE_3__.BkMySqlDatabase),
/* harmony export */   "BkNoSqlDataSource": () => (/* reexport safe */ _BkModel_BkDataSource_BkPersistentDataSource_BkNoSqlDataSource_BkNoSqlDataSource__WEBPACK_IMPORTED_MODULE_8__.BkNoSqlDataSource),
/* harmony export */   "BkPage": () => (/* reexport safe */ _BkModel_BkPage_BkPage__WEBPACK_IMPORTED_MODULE_28__.BkPage),
/* harmony export */   "BkPageLink": () => (/* reexport safe */ _BkModel_BkPageLink_BkPageLink__WEBPACK_IMPORTED_MODULE_29__.BkPageLink),
/* harmony export */   "BkParam": () => (/* reexport safe */ _BkModel_BkParam_BkParam__WEBPACK_IMPORTED_MODULE_32__.BkParam),
/* harmony export */   "BkPasswordField": () => (/* reexport safe */ _BkModel_BkField_BkPasswordField_BkPasswordField__WEBPACK_IMPORTED_MODULE_23__.BkPasswordField),
/* harmony export */   "BkPhoneField": () => (/* reexport safe */ _BkModel_BkField_BkPhoneField_BkPhoneField__WEBPACK_IMPORTED_MODULE_22__.BkPhoneField),
/* harmony export */   "BkPostgreSqlDatabase": () => (/* reexport safe */ _BkModel_BkDatabase_BkSqlDatabase_BkPostgreSqlDatabase_BkPostgreSqlDatabase__WEBPACK_IMPORTED_MODULE_4__.BkPostgreSqlDatabase),
/* harmony export */   "BkRadioField": () => (/* reexport safe */ _BkModel_BkField_BkRadioField_BkRadioField__WEBPACK_IMPORTED_MODULE_24__.BkRadioField),
/* harmony export */   "BkRowForm": () => (/* reexport safe */ _BkModel_BkForm_BkRowForm_BkRowForm__WEBPACK_IMPORTED_MODULE_26__.BkRowForm),
/* harmony export */   "BkSqlDataSource": () => (/* reexport safe */ _BkModel_BkDataSource_BkPersistentDataSource_BkSqlDataSource_BkSqlDataSource__WEBPACK_IMPORTED_MODULE_7__.BkSqlDataSource),
/* harmony export */   "BkTable": () => (/* reexport safe */ _BkModel_BkTable_BkTable__WEBPACK_IMPORTED_MODULE_31__.BkTable),
/* harmony export */   "BkTableForm": () => (/* reexport safe */ _BkModel_BkForm_BkTableForm_BkTableForm__WEBPACK_IMPORTED_MODULE_27__.BkTableForm),
/* harmony export */   "BkTextAreaField": () => (/* reexport safe */ _BkModel_BkField_BkTextAreaField_BkTextAreaField__WEBPACK_IMPORTED_MODULE_20__.BkTextAreaField),
/* harmony export */   "BkTextBoxField": () => (/* reexport safe */ _BkModel_BkField_BkTextBoxField_BkTextBoxField__WEBPACK_IMPORTED_MODULE_21__.BkTextBoxField),
/* harmony export */   "BkTimeField": () => (/* reexport safe */ _BkModel_BkField_BkTimeField_BkTimeField__WEBPACK_IMPORTED_MODULE_14__.BkTimeField)
/* harmony export */ });
/* harmony import */ var _BkModel_BkModel__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./BkModel/BkModel */ "./src/backend/viewer/BkModel/BkModel.ts");
/* harmony import */ var _BkModel_BkApplication_BkApplication__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./BkModel/BkApplication/BkApplication */ "./src/backend/viewer/BkModel/BkApplication/BkApplication.ts");
/* harmony import */ var _BkModel_BkDatabase_BkDatabase__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./BkModel/BkDatabase/BkDatabase */ "./src/backend/viewer/BkModel/BkDatabase/BkDatabase.ts");
/* harmony import */ var _BkModel_BkDatabase_BkSqlDatabase_BkMySqlDatabase_BkMySqlDatabase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./BkModel/BkDatabase/BkSqlDatabase/BkMySqlDatabase/BkMySqlDatabase */ "./src/backend/viewer/BkModel/BkDatabase/BkSqlDatabase/BkMySqlDatabase/BkMySqlDatabase.ts");
/* harmony import */ var _BkModel_BkDatabase_BkSqlDatabase_BkPostgreSqlDatabase_BkPostgreSqlDatabase__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./BkModel/BkDatabase/BkSqlDatabase/BkPostgreSqlDatabase/BkPostgreSqlDatabase */ "./src/backend/viewer/BkModel/BkDatabase/BkSqlDatabase/BkPostgreSqlDatabase/BkPostgreSqlDatabase.ts");
/* harmony import */ var _BkModel_BkDatabase_BkNoSqlDatabase_BkMongoDbDatabase_BkMongoDbDatabase__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./BkModel/BkDatabase/BkNoSqlDatabase/BkMongoDbDatabase/BkMongoDbDatabase */ "./src/backend/viewer/BkModel/BkDatabase/BkNoSqlDatabase/BkMongoDbDatabase/BkMongoDbDatabase.ts");
/* harmony import */ var _BkModel_BkDataSource_BkDataSource__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./BkModel/BkDataSource/BkDataSource */ "./src/backend/viewer/BkModel/BkDataSource/BkDataSource.ts");
/* harmony import */ var _BkModel_BkDataSource_BkPersistentDataSource_BkSqlDataSource_BkSqlDataSource__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./BkModel/BkDataSource/BkPersistentDataSource/BkSqlDataSource/BkSqlDataSource */ "./src/backend/viewer/BkModel/BkDataSource/BkPersistentDataSource/BkSqlDataSource/BkSqlDataSource.ts");
/* harmony import */ var _BkModel_BkDataSource_BkPersistentDataSource_BkNoSqlDataSource_BkNoSqlDataSource__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./BkModel/BkDataSource/BkPersistentDataSource/BkNoSqlDataSource/BkNoSqlDataSource */ "./src/backend/viewer/BkModel/BkDataSource/BkPersistentDataSource/BkNoSqlDataSource/BkNoSqlDataSource.ts");
/* harmony import */ var _BkModel_BkField_BkField__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./BkModel/BkField/BkField */ "./src/backend/viewer/BkModel/BkField/BkField.ts");
/* harmony import */ var _BkModel_BkField_BkCheckBoxField_BkCheckBoxField__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./BkModel/BkField/BkCheckBoxField/BkCheckBoxField */ "./src/backend/viewer/BkModel/BkField/BkCheckBoxField/BkCheckBoxField.ts");
/* harmony import */ var _BkModel_BkField_BkCheckBoxListField_BkCheckBoxListField__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./BkModel/BkField/BkCheckBoxListField/BkCheckBoxListField */ "./src/backend/viewer/BkModel/BkField/BkCheckBoxListField/BkCheckBoxListField.ts");
/* harmony import */ var _BkModel_BkField_BkComboBoxField_BkComboBoxField__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./BkModel/BkField/BkComboBoxField/BkComboBoxField */ "./src/backend/viewer/BkModel/BkField/BkComboBoxField/BkComboBoxField.ts");
/* harmony import */ var _BkModel_BkField_BkDateField_BkDateField__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./BkModel/BkField/BkDateField/BkDateField */ "./src/backend/viewer/BkModel/BkField/BkDateField/BkDateField.ts");
/* harmony import */ var _BkModel_BkField_BkTimeField_BkTimeField__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./BkModel/BkField/BkTimeField/BkTimeField */ "./src/backend/viewer/BkModel/BkField/BkTimeField/BkTimeField.ts");
/* harmony import */ var _BkModel_BkField_BkDateTimeField_BkDateTimeField__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./BkModel/BkField/BkDateTimeField/BkDateTimeField */ "./src/backend/viewer/BkModel/BkField/BkDateTimeField/BkDateTimeField.ts");
/* harmony import */ var _BkModel_BkField_BkFileField_BkFileField__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./BkModel/BkField/BkFileField/BkFileField */ "./src/backend/viewer/BkModel/BkField/BkFileField/BkFileField.ts");
/* harmony import */ var _BkModel_BkField_BkImageField_BkImageField__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./BkModel/BkField/BkImageField/BkImageField */ "./src/backend/viewer/BkModel/BkField/BkImageField/BkImageField.ts");
/* harmony import */ var _BkModel_BkField_BkLabelField_BkLabelField__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./BkModel/BkField/BkLabelField/BkLabelField */ "./src/backend/viewer/BkModel/BkField/BkLabelField/BkLabelField.ts");
/* harmony import */ var _BkModel_BkField_BkLinkField_BkLinkField__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./BkModel/BkField/BkLinkField/BkLinkField */ "./src/backend/viewer/BkModel/BkField/BkLinkField/BkLinkField.ts");
/* harmony import */ var _BkModel_BkField_BkTextAreaField_BkTextAreaField__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./BkModel/BkField/BkTextAreaField/BkTextAreaField */ "./src/backend/viewer/BkModel/BkField/BkTextAreaField/BkTextAreaField.ts");
/* harmony import */ var _BkModel_BkField_BkTextBoxField_BkTextBoxField__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./BkModel/BkField/BkTextBoxField/BkTextBoxField */ "./src/backend/viewer/BkModel/BkField/BkTextBoxField/BkTextBoxField.ts");
/* harmony import */ var _BkModel_BkField_BkPhoneField_BkPhoneField__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./BkModel/BkField/BkPhoneField/BkPhoneField */ "./src/backend/viewer/BkModel/BkField/BkPhoneField/BkPhoneField.ts");
/* harmony import */ var _BkModel_BkField_BkPasswordField_BkPasswordField__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./BkModel/BkField/BkPasswordField/BkPasswordField */ "./src/backend/viewer/BkModel/BkField/BkPasswordField/BkPasswordField.ts");
/* harmony import */ var _BkModel_BkField_BkRadioField_BkRadioField__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./BkModel/BkField/BkRadioField/BkRadioField */ "./src/backend/viewer/BkModel/BkField/BkRadioField/BkRadioField.ts");
/* harmony import */ var _BkModel_BkForm_BkForm__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./BkModel/BkForm/BkForm */ "./src/backend/viewer/BkModel/BkForm/BkForm.ts");
/* harmony import */ var _BkModel_BkForm_BkRowForm_BkRowForm__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./BkModel/BkForm/BkRowForm/BkRowForm */ "./src/backend/viewer/BkModel/BkForm/BkRowForm/BkRowForm.ts");
/* harmony import */ var _BkModel_BkForm_BkTableForm_BkTableForm__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./BkModel/BkForm/BkTableForm/BkTableForm */ "./src/backend/viewer/BkModel/BkForm/BkTableForm/BkTableForm.ts");
/* harmony import */ var _BkModel_BkPage_BkPage__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./BkModel/BkPage/BkPage */ "./src/backend/viewer/BkModel/BkPage/BkPage.ts");
/* harmony import */ var _BkModel_BkPageLink_BkPageLink__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./BkModel/BkPageLink/BkPageLink */ "./src/backend/viewer/BkModel/BkPageLink/BkPageLink.ts");
/* harmony import */ var _BkModel_BkColumn_BkColumn__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./BkModel/BkColumn/BkColumn */ "./src/backend/viewer/BkModel/BkColumn/BkColumn.ts");
/* harmony import */ var _BkModel_BkTable_BkTable__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./BkModel/BkTable/BkTable */ "./src/backend/viewer/BkModel/BkTable/BkTable.ts");
/* harmony import */ var _BkModel_BkParam_BkParam__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./BkModel/BkParam/BkParam */ "./src/backend/viewer/BkModel/BkParam/BkParam.ts");
/* harmony import */ var _BkModel_BkAction_BkAction__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./BkModel/BkAction/BkAction */ "./src/backend/viewer/BkModel/BkAction/BkAction.ts");




































/***/ }),

/***/ "./src/backend/viewer/login.tsx":
/*!**************************************!*\
  !*** ./src/backend/viewer/login.tsx ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "login": () => (/* binding */ login)
/* harmony export */ });
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
const login = /* @__PURE__ */ __name((version, context, application, links, scripts, data) => {
  return `<!DOCTYPE html>
<html class="${application.getLoginViewClassName()}" lang="${application.getAttr("lang")}">
<head>
<!-- qforms v${version} -->
<!-- app v${application.getVersion()}  -->
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>${application.getTitle(context)} - ${application.getText().login.login}</title>
<!-- links -->
${links}
<!-- scripts -->
${scripts}
<script>
    document.addEventListener('DOMContentLoaded', async () => {
        const data = JSON.parse(document.querySelector('script[type="application/json"]').textContent);
        const frontHostApp = new LoginFrontHostApp(data);
        frontHostApp.init();
        await frontHostApp.run();
    });
<\/script>
<script type="application/json">${JSON.stringify(
    data
    /*, null, 4*/
  )}<\/script>
</head>
<body class="${application.getLoginViewClassName()}__body">
<div class="${application.getLoginViewClassName()}__root"></div>
</body>
</html>`;
}, "login");


/***/ }),

/***/ "./src/backend/viewer/text/index.ts":
/*!******************************************!*\
  !*** ./src/backend/viewer/text/index.ts ***!
  \******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "en": () => (/* reexport default export from named module */ _en_json__WEBPACK_IMPORTED_MODULE_0__),
/* harmony export */   "ru": () => (/* reexport default export from named module */ _ru_json__WEBPACK_IMPORTED_MODULE_1__)
/* harmony export */ });
/* harmony import */ var _en_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./en.json */ "./src/backend/viewer/text/en.json");
/* harmony import */ var _ru_json__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ru.json */ "./src/backend/viewer/text/ru.json");





/***/ }),

/***/ "./src/common/ModelData/ActionData.ts":
/*!********************************************!*\
  !*** ./src/common/ModelData/ActionData.ts ***!
  \********************************************/
/***/ (() => {



/***/ }),

/***/ "./src/common/ModelData/ApplicationData.ts":
/*!*************************************************!*\
  !*** ./src/common/ModelData/ApplicationData.ts ***!
  \*************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/common/ModelData/ColumnData.ts":
/*!********************************************!*\
  !*** ./src/common/ModelData/ColumnData.ts ***!
  \********************************************/
/***/ (() => {



/***/ }),

/***/ "./src/common/ModelData/DataSourceData.ts":
/*!************************************************!*\
  !*** ./src/common/ModelData/DataSourceData.ts ***!
  \************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/common/ModelData/DatabaseData.ts":
/*!**********************************************!*\
  !*** ./src/common/ModelData/DatabaseData.ts ***!
  \**********************************************/
/***/ (() => {



/***/ }),

/***/ "./src/common/ModelData/FieldData.ts":
/*!*******************************************!*\
  !*** ./src/common/ModelData/FieldData.ts ***!
  \*******************************************/
/***/ (() => {



/***/ }),

/***/ "./src/common/ModelData/FormData.ts":
/*!******************************************!*\
  !*** ./src/common/ModelData/FormData.ts ***!
  \******************************************/
/***/ (() => {



/***/ }),

/***/ "./src/common/ModelData/ModelData.ts":
/*!*******************************************!*\
  !*** ./src/common/ModelData/ModelData.ts ***!
  \*******************************************/
/***/ (() => {



/***/ }),

/***/ "./src/common/ModelData/PageData.ts":
/*!******************************************!*\
  !*** ./src/common/ModelData/PageData.ts ***!
  \******************************************/
/***/ (() => {



/***/ }),

/***/ "./src/common/ModelData/TableData.ts":
/*!*******************************************!*\
  !*** ./src/common/ModelData/TableData.ts ***!
  \*******************************************/
/***/ (() => {



/***/ }),

/***/ "./src/common/ModelData/index.ts":
/*!***************************************!*\
  !*** ./src/common/ModelData/index.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ActionData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ActionData */ "./src/common/ModelData/ActionData.ts");
/* harmony import */ var _ActionData__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_ActionData__WEBPACK_IMPORTED_MODULE_0__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _ActionData__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _ActionData__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);
/* harmony import */ var _ApplicationData__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ApplicationData */ "./src/common/ModelData/ApplicationData.ts");
/* harmony import */ var _ApplicationData__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_ApplicationData__WEBPACK_IMPORTED_MODULE_1__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _ApplicationData__WEBPACK_IMPORTED_MODULE_1__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _ApplicationData__WEBPACK_IMPORTED_MODULE_1__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);
/* harmony import */ var _ColumnData__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ColumnData */ "./src/common/ModelData/ColumnData.ts");
/* harmony import */ var _ColumnData__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_ColumnData__WEBPACK_IMPORTED_MODULE_2__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _ColumnData__WEBPACK_IMPORTED_MODULE_2__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _ColumnData__WEBPACK_IMPORTED_MODULE_2__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);
/* harmony import */ var _DatabaseData__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./DatabaseData */ "./src/common/ModelData/DatabaseData.ts");
/* harmony import */ var _DatabaseData__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_DatabaseData__WEBPACK_IMPORTED_MODULE_3__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _DatabaseData__WEBPACK_IMPORTED_MODULE_3__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _DatabaseData__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);
/* harmony import */ var _DataSourceData__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./DataSourceData */ "./src/common/ModelData/DataSourceData.ts");
/* harmony import */ var _DataSourceData__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_DataSourceData__WEBPACK_IMPORTED_MODULE_4__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _DataSourceData__WEBPACK_IMPORTED_MODULE_4__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _DataSourceData__WEBPACK_IMPORTED_MODULE_4__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);
/* harmony import */ var _FieldData__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./FieldData */ "./src/common/ModelData/FieldData.ts");
/* harmony import */ var _FieldData__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_FieldData__WEBPACK_IMPORTED_MODULE_5__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _FieldData__WEBPACK_IMPORTED_MODULE_5__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _FieldData__WEBPACK_IMPORTED_MODULE_5__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);
/* harmony import */ var _FormData__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./FormData */ "./src/common/ModelData/FormData.ts");
/* harmony import */ var _FormData__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_FormData__WEBPACK_IMPORTED_MODULE_6__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _FormData__WEBPACK_IMPORTED_MODULE_6__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _FormData__WEBPACK_IMPORTED_MODULE_6__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);
/* harmony import */ var _PageData__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./PageData */ "./src/common/ModelData/PageData.ts");
/* harmony import */ var _PageData__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_PageData__WEBPACK_IMPORTED_MODULE_7__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _PageData__WEBPACK_IMPORTED_MODULE_7__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _PageData__WEBPACK_IMPORTED_MODULE_7__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);
/* harmony import */ var _ModelData__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ModelData */ "./src/common/ModelData/ModelData.ts");
/* harmony import */ var _ModelData__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_ModelData__WEBPACK_IMPORTED_MODULE_8__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _ModelData__WEBPACK_IMPORTED_MODULE_8__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _ModelData__WEBPACK_IMPORTED_MODULE_8__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);
/* harmony import */ var _TableData__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./TableData */ "./src/common/ModelData/TableData.ts");
/* harmony import */ var _TableData__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_TableData__WEBPACK_IMPORTED_MODULE_9__);
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _TableData__WEBPACK_IMPORTED_MODULE_9__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _TableData__WEBPACK_IMPORTED_MODULE_9__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);












/***/ }),

/***/ "./src/common/index.ts":
/*!*****************************!*\
  !*** ./src/common/index.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _ModelData__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ModelData */ "./src/common/ModelData/index.ts");
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _ModelData__WEBPACK_IMPORTED_MODULE_0__) if(__WEBPACK_IMPORT_KEY__ !== "default") __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _ModelData__WEBPACK_IMPORTED_MODULE_0__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);



/***/ }),

/***/ "./src/console.ts":
/*!************************!*\
  !*** ./src/console.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LOG_LEVELS": () => (/* binding */ LOG_LEVELS),
/* harmony export */   "debug": () => (/* binding */ debug),
/* harmony export */   "error": () => (/* binding */ error),
/* harmony export */   "getLogLevel": () => (/* binding */ getLogLevel),
/* harmony export */   "getLogLevelName": () => (/* binding */ getLogLevelName),
/* harmony export */   "log": () => (/* binding */ log),
/* harmony export */   "warn": () => (/* binding */ warn)
/* harmony export */ });
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
const LOG_LEVELS = ["debug", "log", "warn", "error"];
function getLogLevel() {
  return LOG_LEVELS.indexOf(getLogLevelName());
}
__name(getLogLevel, "getLogLevel");
function getLogLevelName() {
  if (typeof window === "object") {
    return window.QFORMS_LOG_LEVEL || "debug";
  } else if (typeof global === "object") {
    return process.env.QFORMS_LOG_LEVEL || (process.env.NODE_ENV === "dev" ? "debug" : "log");
  }
  return "debug";
}
__name(getLogLevelName, "getLogLevelName");
function isJest() {
  return typeof jest !== "undefined";
}
__name(isJest, "isJest");
function debug(message, ...optionalParams) {
  if (getLogLevel() <= LOG_LEVELS.indexOf("debug")) {
    if (isJest()) {
      process.stdout.write(`${[message, ...optionalParams].join(" ")}
`);
    } else {
      console.debug(message, ...optionalParams);
    }
  }
}
__name(debug, "debug");
function log(message, ...optionalParams) {
  if (getLogLevel() <= LOG_LEVELS.indexOf("log")) {
    if (isJest()) {
      process.stdout.write(`${[message, ...optionalParams].join(" ")}
`);
    } else {
      console.log(message, ...optionalParams);
    }
  }
}
__name(log, "log");
function warn(message, ...optionalParams) {
  if (getLogLevel() <= LOG_LEVELS.indexOf("log")) {
    if (isJest()) {
      process.stdout.write(`${[message, ...optionalParams].join(" ")}
`);
    } else {
      console.warn(message, ...optionalParams);
    }
  }
}
__name(warn, "warn");
function error(message, ...optionalParams) {
  if (isJest()) {
    process.stderr.write(`${[message, ...optionalParams].join(" ")}
`);
  } else {
    console.error(message, ...optionalParams);
  }
}
__name(error, "error");


/***/ }),

/***/ "./src/decorators.ts":
/*!***************************!*\
  !*** ./src/decorators.ts ***!
  \***************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "log": () => (/* binding */ log),
/* harmony export */   "time": () => (/* binding */ time)
/* harmony export */ });
/* harmony import */ var _pConsole__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pConsole */ "./src/pConsole.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

function log(level) {
  return function(target, propertyKey, descriptor) {
    const originalMethod = descriptor.value;
    descriptor.value = function(...args) {
      return __async(this, null, function* () {
        _pConsole__WEBPACK_IMPORTED_MODULE_0__.pConsole[level](`${this.constructor.name}.${propertyKey}`);
        return originalMethod.apply(this, args);
      });
    };
    return descriptor;
  };
}
__name(log, "log");
function time(target, propertyKey, descriptor) {
  const originalMethod = descriptor.value;
  descriptor.value = function(...args) {
    return __async(this, null, function* () {
      const start = Date.now();
      const result = originalMethod.apply(this, args);
      _pConsole__WEBPACK_IMPORTED_MODULE_0__.pConsole.debug(`${this.constructor.name}.${propertyKey}: [${Date.now() - start} ms]`);
      return result;
    });
  };
  return descriptor;
}
__name(time, "time");


/***/ }),

/***/ "./src/frontend/common/FrontHostApp.ts":
/*!*********************************************!*\
  !*** ./src/frontend/common/FrontHostApp.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FrontHostApp": () => (/* binding */ FrontHostApp)
/* harmony export */ });
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../common/Helper */ "./src/frontend/common/Helper.ts");
/* harmony import */ var _common_Search__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common/Search */ "./src/frontend/common/Search.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};



const _FrontHostApp = class _FrontHostApp {
  // for run on back
  constructor(options) {
    this.options = options;
    this.alertCtrl = null;
    this.documentTitle = "";
  }
  init() {
    window.addEventListener("error", this.onWindowError.bind(this));
    window.addEventListener("unhandledrejection", this.onWindowUnhandledrejection.bind(this));
    window.addEventListener("popstate", this.onWindowPopState.bind(this));
  }
  run() {
    return __async(this, null, function* () {
      throw new Error("FrontHostApp.run not implemented");
    });
  }
  onWindowUnhandledrejection(e) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)(
        "FrontHostApp.onWindowUnhandledrejection"
        /* , e */
      );
      try {
        e.preventDefault();
        const err = e instanceof Error ? e : e.reason || e.detail.reason;
        this.logError(err);
        yield this.alert({ title: "Unhandled Rejection", message: err.message });
      } catch (err) {
        console.error(`onWindowUnhandledrejection error: ${err.message}`);
      }
    });
  }
  onWindowError(e) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("FrontHostApp.onWindowError", e);
      try {
        e.preventDefault();
        const err = e.error;
        this.logError(err);
      } catch (err) {
        console.error(`onWindowError error: ${err.message}`);
      }
    });
  }
  logError(err) {
    console.error("FrontHostApp.logError", err);
  }
  static doHttpRequest(data) {
    return __async(this, null, function* () {
      console.warn("FrontHostApp.doHttpRequest", "POST", window.location.href, data);
      const [headers, body] = yield _FrontHostApp.fetchJson("POST", window.location.href, data);
      console.warn(`body ${_FrontHostApp.composeHandlerName(data)}:`, body);
      return body;
    });
  }
  static composeHandlerName(data) {
    if (data.action === "rpc") {
      if (data.form)
        return `${data.page}.${data.form}.${data.name}.${data.action}`;
      if (data.page)
        return `${data.page}.${data.name}.${data.action}`;
      return `${data.name}.${data.action}`;
    }
    return `${data.page}.${data.form}.${data.ds}.${data.action}`;
  }
  static doHttpRequest2(method, body) {
    return __async(this, null, function* () {
      console.warn("FrontHostApp.doHttpRequest2", method, window.location.href, body);
      const [headers, data] = yield _FrontHostApp.fetchJson(method, window.location.href, body);
      console.warn(`body ${_FrontHostApp.composeHandlerName(body)}:`, data);
      return [headers, data];
    });
  }
  static fetchJson(method, url, data) {
    return __async(this, null, function* () {
      return yield _FrontHostApp.fetch(method, url, JSON.stringify(data), "application/json");
    });
  }
  static fetch(method, url, body, contentType) {
    return __async(this, null, function* () {
      try {
        _FrontHostApp.startWait();
        const response = yield fetch(url, __spreadValues({
          method,
          body
        }, contentType ? { headers: { "Content-Type": contentType } } : {}));
        if (response.ok) {
          const headers = Array.from(response.headers.entries()).reduce((acc, header) => {
            const [name, value] = header;
            acc[name] = value;
            return acc;
          }, {});
          const data = yield response.json();
          return [headers, data];
        }
        throw new Error(`${response.status} ${response.statusText}: ${yield response.text()}`);
      } finally {
        _FrontHostApp.stopWait();
      }
    });
  }
  static startWait() {
    document.querySelector("html").classList.add("wait");
  }
  static stopWait() {
    document.querySelector("html").classList.remove("wait");
  }
  onWindowPopState(e) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("FrontHostApp.onWindowPopState", e.state);
    });
  }
  alert(options) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("FrontHostApp.alert", options);
      alert(options.message);
    });
  }
  confirm(options) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("FrontHostApp.confirm", options);
      return confirm(options.message);
    });
  }
  setDocumentTitle(title) {
    if (typeof document === "object") {
      document.title = title;
    } else {
      this.documentTitle = title;
    }
  }
  getDocumentTitle() {
    if (typeof document === "object") {
      return document.title;
    }
    return this.documentTitle;
  }
  isDebugMode() {
    if (typeof window === "object") {
      return _common_Search__WEBPACK_IMPORTED_MODULE_1__.Search.getObj()["debug"] === "1";
    } else {
      return this.getOptions().debug;
    }
  }
  createLink(params = null) {
    const path = typeof window === "object" ? window.location.pathname : this.getOptions().url.pathname;
    if (params) {
      return [
        path,
        [
          ...this.isDebugMode() ? ["debug=1"] : [],
          ...Object.keys(params).map((name) => `${name}=${encodeURI(params[name])}`)
        ].join("&")
      ].join("?");
    }
    return path;
  }
  getOptions() {
    if (!this.options) {
      throw new Error("no options");
    }
    return this.options;
  }
  filterSearch(...names) {
    if (typeof window === "object") {
      return _common_Search__WEBPACK_IMPORTED_MODULE_1__.Search.filter(...names);
    }
    const newObj = {};
    const obj = this.getOptions().url.searchParams;
    for (const name of names) {
      if (obj.hasOwnProperty(name)) {
        newObj[name] = obj.get(name);
      }
    }
    return _common_Search__WEBPACK_IMPORTED_MODULE_1__.Search.objToString(newObj);
  }
  getSearchParams() {
    if (typeof window === "object") {
      return _common_Search__WEBPACK_IMPORTED_MODULE_1__.Search.getObj();
    }
    return Object.fromEntries(this.getOptions().url.searchParams);
  }
  getCookie(name) {
    if (typeof window === "object") {
      return _common_Helper__WEBPACK_IMPORTED_MODULE_0__.Helper.getCookie(name);
    }
    return this.getOptions().cookies[name];
  }
  getLocation() {
    if (typeof window === "object") {
      return window.location;
    }
    return this.getOptions().url;
  }
};
__name(_FrontHostApp, "FrontHostApp");
let FrontHostApp = _FrontHostApp;


/***/ }),

/***/ "./src/frontend/common/Helper.ts":
/*!***************************************!*\
  !*** ./src/frontend/common/Helper.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Helper": () => (/* binding */ Helper)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react-dom */ "react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};



const _Helper = class _Helper {
  /* static currentDate() {
      const now = new Date();
      let dd = now.getDate();if (dd < 10) dd = '0' + dd;
      let mm = now.getMonth()+1;if (mm < 10) mm = '0' + mm;   /!*January is 0!*!/
      const yyyy = now.getFullYear();
      return [yyyy, mm, dd].join('-');
  } */
  /* static currentDateTime() {
      return Helper.currentDate() + ' ' + Helper.currentTime();
  } */
  /* static currentTime() {
      const now = new Date();
      let hh = now.getHours();if (hh < 10) hh = '0' + hh;
      let mm = now.getMinutes();if (mm < 10) mm = '0' + mm;
      let ss = now.getSeconds();if (ss < 10) ss = '0' + ss;
      return [hh, mm, ss].join(':');
  } */
  static formatDate(date, format) {
    const YYYY = date.getFullYear();
    const M = date.getMonth() + 1;
    const D = date.getDate();
    const h = date.getHours();
    const m = date.getMinutes();
    const s = date.getSeconds();
    const MM = M < 10 ? `0${M}` : M;
    const DD = D < 10 ? `0${D}` : D;
    const hh = h < 10 ? `0${h}` : h;
    const mm = m < 10 ? `0${m}` : m;
    const ss = s < 10 ? `0${s}` : s;
    const values = { YYYY, M, D, h, m, s, MM, DD, hh, mm, ss };
    return format.replace(
      /\{([\w.]+)\}/g,
      (text, name) => values[name] ? values[name] : text
    );
  }
  static formatNumber(value) {
    return new Intl.NumberFormat("ru-RU").format(value);
  }
  static today() {
    const now = /* @__PURE__ */ new Date();
    return _Helper.getStartOfDay(now);
  }
  static getStartOfDay(date) {
    return new Date(date.getFullYear(), date.getMonth(), date.getDate());
  }
  static encodeObject(obj) {
    const eObj = {};
    for (const name in obj) {
      eObj[name] = _Helper.encodeValue(obj[name]);
    }
    return eObj;
  }
  static encodeValue(value) {
    return JSON.stringify(value);
  }
  static decodeObject(eObj) {
    if (!eObj)
      throw new Error("Helper.decodeObject: no object");
    const obj = {};
    for (const name in eObj) {
      obj[name] = _Helper.decodeValue(eObj[name]);
    }
    return obj;
  }
  static decodeValue(raw) {
    return JSON.parse(raw, _Helper.dateTimeReviver);
  }
  static dateTimeReviver(key, value) {
    if (typeof value === "string") {
      const a = /^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(\.\d{3})?(Z|([+-])(\d{2}):(\d{2}))?$/.exec(
        value
      );
      if (a)
        return new Date(value);
    }
    return value;
  }
  static createReactComponent(rootElement, type, props = {}, children) {
    let component = void 0;
    const reactRootElement = react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().StrictMode), {}, [
      react__WEBPACK_IMPORTED_MODULE_0___default().createElement(
        type,
        __spreadProps(__spreadValues({}, props), {
          onCreate: (c, name) => {
            component = c;
          }
        }),
        children
      )
    ]);
    react_dom__WEBPACK_IMPORTED_MODULE_1___default().render(reactRootElement, rootElement);
    return component;
  }
  static createReactComponent2(rootElement, type, props = {}, children) {
    let component = void 0;
    const reactRootElement = react__WEBPACK_IMPORTED_MODULE_0___default().createElement((react__WEBPACK_IMPORTED_MODULE_0___default().StrictMode), {}, [
      react__WEBPACK_IMPORTED_MODULE_0___default().createElement(
        type,
        __spreadProps(__spreadValues({}, props), {
          onCreate: (c, name) => {
            component = c;
          }
        }),
        children
      )
    ]);
    react_dom__WEBPACK_IMPORTED_MODULE_1___default().hydrate(reactRootElement, rootElement);
    return component;
  }
  static destroyReactComponent(root) {
    react_dom__WEBPACK_IMPORTED_MODULE_1___default().unmountComponentAtNode(root);
  }
  static readFileAsDataURL(file) {
    return new Promise((resolve) => {
      const reader = new FileReader();
      reader.onload = () => resolve(reader.result);
      reader.readAsDataURL(file);
    });
  }
  /* static readFileAsArrayBuffer(file) {
      return new Promise(resolve => {
          const reader = new FileReader();
          reader.onload = () => resolve(reader.result);
          reader.readAsArrayBuffer(file);
      });
  } */
  /* static convertBufferToBase64string(buffer) {
      const array = new Uint8Array(buffer);
      const binaryString = String.fromCharCode.apply(null, array);
      return window.btoa(binaryString);
  } */
  /* static createObjectUrl(buffer) {
      const blob = new Blob([new Uint8Array(buffer)]);
      return window.URL.createObjectURL(blob);
  } */
  // append file as filed and all not file as json string
  /* static createFormData(body) {
      const formData = new FormData();
      const fields = {};
      for (const name in body) {
          if (body[name] instanceof File) {
              formData.append(name, body[name]);
          } else {
              fields[name] = body[name];
          }
      }
      formData.append('__json', JSON.stringify(fields));
      return formData;
  } */
  /* static base64ToArrayBuffer(base64) {
      const binaryString = window.atob(base64);
      const len = binaryString.length;
      const bytes = new Uint8Array(len);
      for (let i = 0; i < len; i++) {
          bytes[i] = binaryString.charCodeAt(i);
      }
      return bytes.buffer;
  } */
  static templateToJsString(value, params) {
    return value.replace(/\$\{([\w.@]+)\}/g, (text, name) => {
      if (params.hasOwnProperty(name)) {
        return `Helper.decodeValue('${_Helper.encodeValue(params[name])}')`;
      }
      return "undefined";
    });
  }
  static moveArrItem(arr, item, offset) {
    const oldIndex = arr.indexOf(item);
    if (oldIndex === -1)
      throw new Error("cannot find element");
    const newIndex = oldIndex + offset;
    if (newIndex < 0)
      throw new Error("cannot up top element");
    if (newIndex > arr.length - 1)
      throw new Error("cannot down bottom element");
    arr.splice(newIndex, 0, arr.splice(oldIndex, 1)[0]);
  }
  static formatTime(_sec) {
    let sec = _sec;
    let sign = "";
    if (_sec < 0) {
      sec = -sec;
      sign = "-";
    }
    let h = Math.floor(sec / 3600);
    let m = Math.floor((sec - h * 3600) / 60);
    let s = Math.floor(sec - h * 3600 - m * 60);
    if (h < 10)
      h = "0" + h;
    if (m < 10)
      m = "0" + m;
    if (s < 10)
      s = "0" + s;
    if (Math.floor(sec / 3600) === 0) {
      return `${sign}${m}:${s}`;
    } else {
      return `${sign}${h}:${m}:${s}`;
    }
  }
  static formatTime2(_sec) {
    let sec = _sec;
    let sign = "";
    if (_sec < 0) {
      sec = -sec;
      sign = "-";
    }
    let h = Math.floor(sec / 3600);
    let m = Math.floor((sec - h * 3600) / 60);
    let s = Math.floor(sec - h * 3600 - m * 60);
    if (h < 10)
      h = "0" + h;
    if (m < 10)
      m = "0" + m;
    if (s < 10)
      s = "0" + s;
    if (Math.floor(sec / 3600) === 0) {
      return `${sign}${m}m:${s}s`;
    } else {
      return `${sign}${h}h:${m}m:${s}s`;
    }
  }
  static SECOND() {
    return 1e3;
  }
  static MINUTE() {
    return 60 * _Helper.SECOND();
  }
  static HOUR() {
    return 60 * _Helper.MINUTE();
  }
  static DAY() {
    return 24 * _Helper.HOUR();
  }
  static WEEK() {
    return 7 * _Helper.DAY();
  }
  static fallbackCopyTextToClipboard(text) {
    const activeElement = document.activeElement;
    const textArea = document.createElement("textarea");
    textArea.value = text;
    textArea.style.top = "0";
    textArea.style.left = "0";
    textArea.style.position = "fixed";
    document.body.appendChild(textArea);
    textArea.focus();
    textArea.select();
    document.execCommand("copy");
    document.body.removeChild(textArea);
    activeElement.focus();
  }
  static copyTextToClipboard(text) {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_2__.debug)("Helper.copyTextToClipboard", text);
      if (!navigator.clipboard) {
        _Helper.fallbackCopyTextToClipboard(text);
        return;
      }
      yield navigator.clipboard.writeText(text);
    });
  }
  static addMinutes(date, minutes) {
    date.setMinutes(date.getMinutes() + minutes);
  }
  static removeTimezoneOffset(date) {
    _Helper.addMinutes(date, -date.getTimezoneOffset());
  }
  static addTimezoneOffset(date) {
    _Helper.addMinutes(date, date.getTimezoneOffset());
  }
  static cloneDate(date) {
    return new Date(date.getTime());
  }
  static fillArray(n) {
    return Array.from(Array(n).keys());
  }
  // static inIframe(): boolean {
  //     return false;
  //     /* try {
  //         return window.self !== window.top;
  //     } catch (e) {
  //         return false;
  //     } */
  // }
  static setCookie(name, value, time) {
    let expires = "";
    if (time) {
      const date = new Date(time);
      expires = "; expires=" + date.toUTCString();
    }
    document.cookie = name + "=" + (encodeURIComponent(value) || "") + expires + "; path=/";
  }
  static getCookie(name) {
    const nameEQ = name + "=";
    const ca = document.cookie.split(";");
    for (let i = 0; i < ca.length; i++) {
      let c = ca[i];
      while (c.charAt(0) == " ")
        c = c.substring(1, c.length);
      if (c.indexOf(nameEQ) == 0)
        return decodeURIComponent(c.substring(nameEQ.length, c.length));
    }
    return void 0;
  }
  static eraseCookie(name) {
    document.cookie = name + "=; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;";
  }
  static delay(ms = 1e3) {
    return new Promise((resolve) => {
      setTimeout(resolve, ms);
    });
  }
  static registerGlobalClass(Class) {
    if (typeof window === "object") {
      if (window[Class.name])
        throw new Error(`window.${Class.name} already used`);
      window[Class.name] = Class;
    } else {
      if (global[Class.name])
        throw new Error(`global.${Class.name} already used`);
      global[Class.name] = Class;
    }
  }
  static getGlobalClass(className) {
    return typeof window === "object" ? window[className] : global[className];
  }
  static addClassToDocumentElement(className) {
    if (typeof document === "object") {
      document.documentElement.classList.add(className);
    }
  }
};
__name(_Helper, "Helper");
let Helper = _Helper;
Helper.registerGlobalClass(Helper);


/***/ }),

/***/ "./src/frontend/common/ReactComponent.tsx":
/*!************************************************!*\
  !*** ./src/frontend/common/ReactComponent.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ReactComponent": () => (/* binding */ ReactComponent)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _ReactComponent = class _ReactComponent extends react__WEBPACK_IMPORTED_MODULE_0__.Component {
  constructor(props) {
    super(props);
    if (props.onCreate) {
      props.onCreate(this, this.props.name);
    }
    this.allowRerender = true;
  }
  getElement() {
    return this.el.current;
  }
  getParent() {
    return this.props.parent;
  }
  checkParent() {
    if (!this.props.parent)
      throw new Error(`${this.constructor.name}: no parent`);
  }
  getClassList() {
    return [
      this.getCssBlockName(),
      ...this.props.classList || [],
      ...this.state && this.state.classList ? this.state.classList : []
    ];
  }
  addCssClass(className) {
    if (this.state.classList.indexOf(className) === -1) {
      this.state.classList.push(className);
    }
  }
  removeCssClass(className) {
    this.state.classList.splice(this.state.classList.indexOf(className), 1);
  }
  getCssBlockName() {
    return this.constructor.name;
  }
  getCssClassNames() {
    return this.getClassList().join(" ");
  }
  rerender(logTime = true) {
    if (!this.canRerender())
      return Promise.resolve();
    return new Promise((resolve) => {
      const start = Date.now();
      this.forceUpdate(() => {
        if (logTime) {
          console.debug(`${this.constructor.name}.rerender time:`, Date.now() - start);
        }
        resolve();
      });
    });
  }
  canRerender() {
    if (!this.allowRerender)
      return false;
    if (this.props.parent)
      return this.props.parent.canRerender();
    return true;
  }
  disableRerender() {
    console.debug(`${this.constructor.name}.disableRerender`);
    this.allowRerender = false;
  }
  enableRerender() {
    console.debug(`${this.constructor.name}.enableRerender`);
    this.allowRerender = true;
  }
  componentWillUnmount() {
    if (this.props.onUnmount)
      this.props.onUnmount(this, this.props.name);
  }
  /* componentDidMount() {
      console.debug('ReactComponent.componentDidMount', this.constructor.name);
  } */
  isEnabled() {
    return !this.isDisabled();
  }
  isDisabled() {
    if (this.state && this.state.disabled !== void 0)
      return this.state.disabled;
    if (this.props.disabled !== void 0)
      return this.props.disabled;
    if (this.props.enabled !== void 0)
      return !this.props.enabled;
    return false;
  }
  disable() {
    if (!this.state)
      throw new Error("no state");
    this.setState({ disabled: true });
  }
  enable() {
    if (!this.state)
      throw new Error("no state");
    this.setState({ disabled: void 0 });
  }
};
__name(_ReactComponent, "ReactComponent");
let ReactComponent = _ReactComponent;
if (typeof window === "object") {
  window.ReactComponent = ReactComponent;
}


/***/ }),

/***/ "./src/frontend/common/Search.ts":
/*!***************************************!*\
  !*** ./src/frontend/common/Search.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Search": () => (/* binding */ Search)
/* harmony export */ });
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
const _Search = class _Search {
  static getObj() {
    const params = new URLSearchParams(window.location.search);
    const obj = {};
    for (const [name, value] of params) {
      obj[name] = value;
    }
    return obj;
  }
  static objToString(obj) {
    const search = new URLSearchParams(obj).toString();
    if (!search)
      return "";
    return `?${search}`;
  }
  static filter(...names) {
    const obj = _Search.getObj();
    const newObj = {};
    for (const name of names) {
      if (obj.hasOwnProperty(name)) {
        newObj[name] = obj[name];
      }
    }
    return _Search.objToString(newObj);
  }
};
__name(_Search, "Search");
let Search = _Search;


/***/ }),

/***/ "./src/frontend/common/icon/ArrowIcon.tsx":
/*!************************************************!*\
  !*** ./src/frontend/common/icon/ArrowIcon.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ArrowIcon": () => (/* binding */ ArrowIcon)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const ArrowIcon = /* @__PURE__ */ __name((props) => {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("svg", { width: "10px", height: "6px", viewBox: "0 0 10 6", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M1.429.253a.819.819 0 0 0-1.184 0 .883.883 0 0 0 0 1.22l4.142 4.274A.821.821 0 0 0 5 6a.821.821 0 0 0 .612-.253l4.143-4.273a.883.883 0 0 0 0-1.221.819.819 0 0 0-1.184 0L5 3.937 1.429.253z" }) });
}, "ArrowIcon");
if (typeof window === "object") {
  window.ArrowIcon = ArrowIcon;
}


/***/ }),

/***/ "./src/frontend/common/icon/CancelIcon.tsx":
/*!*************************************************!*\
  !*** ./src/frontend/common/icon/CancelIcon.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CancelIcon": () => (/* binding */ CancelIcon)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _CancelIcon = class _CancelIcon extends react__WEBPACK_IMPORTED_MODULE_1__.Component {
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "svg",
      {
        xmlns: "http://www.w3.org/2000/svg",
        height: "24px",
        viewBox: "0 0 24 24",
        width: "24px",
        fill: "#000000",
        children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M0 0h24v24H0V0z", fill: "none", opacity: ".87" }),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z" })
        ]
      }
    );
  }
};
__name(_CancelIcon, "CancelIcon");
let CancelIcon = _CancelIcon;
if (typeof window === "object") {
  window.CancelIcon = CancelIcon;
}


/***/ }),

/***/ "./src/frontend/common/icon/CloseIcon.tsx":
/*!************************************************!*\
  !*** ./src/frontend/common/icon/CloseIcon.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CloseIcon": () => (/* binding */ CloseIcon)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const CloseIcon = /* @__PURE__ */ __name((props) => {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("svg", { width: "10px", height: "10px", viewBox: "0 0 10 10", children: [
    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("line", { x1: "2", y1: "2", x2: "8", y2: "8", stroke: "#aaa", strokeWidth: 1, strokeMiterlimit: "10" }),
    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("line", { x1: "8", y1: "2", x2: "2", y2: "8", stroke: "#aaa", strokeWidth: 1, strokeMiterlimit: "10" })
  ] });
}, "CloseIcon");
if (typeof window === "object") {
  window.CloseIcon = CloseIcon;
}


/***/ }),

/***/ "./src/frontend/common/icon/CloseIcon2.tsx":
/*!*************************************************!*\
  !*** ./src/frontend/common/icon/CloseIcon2.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CloseIcon2": () => (/* binding */ CloseIcon2)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const CloseIcon2 = /* @__PURE__ */ __name((props) => {
  const size = props.size || 24;
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("svg", { xmlns: "http://www.w3.org/2000/svg", width: size, height: size, viewBox: "0 0 24 24", children: [
    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M0 0h24v24H0V0z", fill: "none" }),
    /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z" })
  ] });
}, "CloseIcon2");
if (typeof window === "object") {
  window.CloseIcon2 = CloseIcon2;
}


/***/ }),

/***/ "./src/frontend/common/icon/DateIcon.tsx":
/*!***********************************************!*\
  !*** ./src/frontend/common/icon/DateIcon.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DateIcon": () => (/* binding */ DateIcon)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _DateIcon = class _DateIcon extends react__WEBPACK_IMPORTED_MODULE_1__.Component {
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "svg",
      {
        xmlns: "http://www.w3.org/2000/svg",
        height: "18px",
        viewBox: "0 0 24 24",
        width: "18px",
        fill: "#000000",
        children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M0 0h24v24H0V0z", fill: "none" }),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M20 3h-1V1h-2v2H7V1H5v2H4c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 18H4V10h16v11zm0-13H4V5h16v3z" })
        ]
      }
    );
  }
};
__name(_DateIcon, "DateIcon");
let DateIcon = _DateIcon;
if (typeof window === "object") {
  window.DateIcon = DateIcon;
}


/***/ }),

/***/ "./src/frontend/common/icon/DeleteIcon.tsx":
/*!*************************************************!*\
  !*** ./src/frontend/common/icon/DeleteIcon.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DeleteIcon": () => (/* binding */ DeleteIcon)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _DeleteIcon = class _DeleteIcon extends react__WEBPACK_IMPORTED_MODULE_1__.Component {
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "svg",
      {
        xmlns: "http://www.w3.org/2000/svg",
        height: "24px",
        viewBox: "0 0 24 24",
        width: "24px",
        fill: "#000000",
        children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M0 0h24v24H0V0z", fill: "none" }),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM8 9h8v10H8V9zm7.5-5l-1-1h-5l-1 1H5v2h14V4h-3.5z" })
        ]
      }
    );
  }
};
__name(_DeleteIcon, "DeleteIcon");
let DeleteIcon = _DeleteIcon;
if (typeof window === "object") {
  window.DeleteIcon = DeleteIcon;
}


/***/ }),

/***/ "./src/frontend/common/icon/DoneIcon.tsx":
/*!***********************************************!*\
  !*** ./src/frontend/common/icon/DoneIcon.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DoneIcon": () => (/* binding */ DoneIcon)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _DoneIcon = class _DoneIcon extends react__WEBPACK_IMPORTED_MODULE_1__.Component {
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "svg",
      {
        xmlns: "http://www.w3.org/2000/svg",
        height: "24px",
        viewBox: "0 0 24 24",
        width: "24px",
        fill: "#000000",
        children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M0 0h24v24H0V0z", fill: "none" }),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M9 16.2L4.8 12l-1.4 1.4L9 19 21 7l-1.4-1.4L9 16.2z" })
        ]
      }
    );
  }
};
__name(_DoneIcon, "DoneIcon");
let DoneIcon = _DoneIcon;
if (typeof window === "object") {
  window.DoneIcon = DoneIcon;
}


/***/ }),

/***/ "./src/frontend/common/icon/DownIcon.tsx":
/*!***********************************************!*\
  !*** ./src/frontend/common/icon/DownIcon.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DownIcon": () => (/* binding */ DownIcon)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _DownIcon = class _DownIcon extends react__WEBPACK_IMPORTED_MODULE_1__.Component {
  render() {
    const size = this.props.size || 24;
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("svg", { xmlns: "http://www.w3.org/2000/svg", height: size, width: size, viewBox: "0 0 24 24", children: [
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M0 0h24v24H0V0z", fill: "none" }),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z" })
    ] });
  }
};
__name(_DownIcon, "DownIcon");
let DownIcon = _DownIcon;
if (typeof window === "object") {
  window.DoneIcon = DoneIcon;
}


/***/ }),

/***/ "./src/frontend/common/icon/EditIcon.tsx":
/*!***********************************************!*\
  !*** ./src/frontend/common/icon/EditIcon.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EditIcon": () => (/* binding */ EditIcon)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _EditIcon = class _EditIcon extends react__WEBPACK_IMPORTED_MODULE_1__.Component {
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "svg",
      {
        xmlns: "http://www.w3.org/2000/svg",
        height: "24px",
        viewBox: "0 0 24 24",
        width: "24px",
        fill: "#000000",
        children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M0 0h24v24H0V0z", fill: "none" }),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M14.06 9.02l.92.92L5.92 19H5v-.92l9.06-9.06M17.66 3c-.25 0-.51.1-.7.29l-1.83 1.83 3.75 3.75 1.83-1.83c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.2-.2-.45-.29-.71-.29zm-3.6 3.19L3 17.25V21h3.75L17.81 9.94l-3.75-3.75z" })
        ]
      }
    );
  }
};
__name(_EditIcon, "EditIcon");
let EditIcon = _EditIcon;
if (typeof window === "object") {
  window.EditIcon = EditIcon;
}


/***/ }),

/***/ "./src/frontend/common/icon/LeftIcon.tsx":
/*!***********************************************!*\
  !*** ./src/frontend/common/icon/LeftIcon.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LeftIcon": () => (/* binding */ LeftIcon)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const LeftIcon = /* @__PURE__ */ __name((props) => {
  const size = props.size || 24;
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
    "svg",
    {
      xmlns: "http://www.w3.org/2000/svg",
      height: size,
      width: size,
      viewBox: "0 0 24 24",
      fill: "#000000",
      children: [
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M0 0h24v24H0V0z", fill: "none" }),
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M15.61 7.41L14.2 6l-6 6 6 6 1.41-1.41L11.03 12l4.58-4.59z" })
      ]
    }
  );
}, "LeftIcon");
if (typeof window === "object") {
  window.LeftIcon = LeftIcon;
}


/***/ }),

/***/ "./src/frontend/common/icon/LocationIcon.tsx":
/*!***************************************************!*\
  !*** ./src/frontend/common/icon/LocationIcon.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LocationIcon": () => (/* binding */ LocationIcon)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _LocationIcon = class _LocationIcon extends react__WEBPACK_IMPORTED_MODULE_1__.Component {
  render() {
    const size = this.props.size || 24;
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("svg", { xmlns: "http://www.w3.org/2000/svg", width: size, height: size, viewBox: "0 0 24 24", children: [
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M0 0h24v24H0V0z", fill: "none" }),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M12 2C8.13 2 5 5.13 5 9c0 5.25 7 13 7 13s7-7.75 7-13c0-3.87-3.13-7-7-7zM7 9c0-2.76 2.24-5 5-5s5 2.24 5 5c0 2.88-2.88 7.19-5 9.88C9.92 16.21 7 11.85 7 9z" }),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("circle", { cx: "12", cy: "9", r: "2.5" })
    ] });
  }
};
__name(_LocationIcon, "LocationIcon");
let LocationIcon = _LocationIcon;
if (typeof window === "object") {
  window.LocationIcon = LocationIcon;
}


/***/ }),

/***/ "./src/frontend/common/icon/MoreVertIcon.tsx":
/*!***************************************************!*\
  !*** ./src/frontend/common/icon/MoreVertIcon.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "MoreVertIcon": () => (/* binding */ MoreVertIcon)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _MoreVertIcon = class _MoreVertIcon extends react__WEBPACK_IMPORTED_MODULE_1__.Component {
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "svg",
      {
        xmlns: "http://www.w3.org/2000/svg",
        height: "24px",
        viewBox: "0 0 24 24",
        width: "24px",
        fill: "#000000",
        children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M0 0h24v24H0V0z", fill: "none" }),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z" })
        ]
      }
    );
  }
};
__name(_MoreVertIcon, "MoreVertIcon");
let MoreVertIcon = _MoreVertIcon;
if (typeof window === "object") {
  window.MoreVertIcon = MoreVertIcon;
}


/***/ }),

/***/ "./src/frontend/common/icon/OpenInNewIcon.tsx":
/*!****************************************************!*\
  !*** ./src/frontend/common/icon/OpenInNewIcon.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "OpenInNewIcon": () => (/* binding */ OpenInNewIcon)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const OpenInNewIcon = /* @__PURE__ */ __name(() => {
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
    "svg",
    {
      xmlns: "http://www.w3.org/2000/svg",
      height: "24px",
      viewBox: "0 0 24 24",
      width: "24px",
      fill: "#000000",
      children: [
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M0 0h24v24H0V0z", fill: "none" }),
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M19 19H5V5h7V3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2v-7h-2v7zM14 3v2h3.59l-9.83 9.83 1.41 1.41L19 6.41V10h2V3h-7z" })
      ]
    }
  );
}, "OpenInNewIcon");
if (typeof window === "object") {
  window.OpenInNewIcon = OpenInNewIcon;
}


/***/ }),

/***/ "./src/frontend/common/icon/PasswordIcon.tsx":
/*!***************************************************!*\
  !*** ./src/frontend/common/icon/PasswordIcon.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PasswordIcon": () => (/* binding */ PasswordIcon)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _PasswordIcon = class _PasswordIcon extends react__WEBPACK_IMPORTED_MODULE_1__.Component {
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "svg",
      {
        xmlns: "http://www.w3.org/2000/svg",
        enableBackground: "new 0 0 24 24",
        height: "24px",
        viewBox: "0 0 24 24",
        width: "24px",
        fill: "#000000",
        children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("g", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M0,0h24v24H0V0z", fill: "none" }) }),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("g", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("g", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M2,17h20v2H2V17z M3.15,12.95L4,11.47l0.85,1.48l1.3-0.75L5.3,10.72H7v-1.5H5.3l0.85-1.47L4.85,7L4,8.47L3.15,7l-1.3,0.75 L2.7,9.22H1v1.5h1.7L1.85,12.2L3.15,12.95z M9.85,12.2l1.3,0.75L12,11.47l0.85,1.48l1.3-0.75l-0.85-1.48H15v-1.5h-1.7l0.85-1.47 L12.85,7L12,8.47L11.15,7l-1.3,0.75l0.85,1.47H9v1.5h1.7L9.85,12.2z M23,9.22h-1.7l0.85-1.47L20.85,7L20,8.47L19.15,7l-1.3,0.75 l0.85,1.47H17v1.5h1.7l-0.85,1.48l1.3,0.75L20,11.47l0.85,1.48l1.3-0.75l-0.85-1.48H23V9.22z" }) }) })
        ]
      }
    );
  }
};
__name(_PasswordIcon, "PasswordIcon");
let PasswordIcon = _PasswordIcon;
if (typeof window === "object") {
  window.PasswordIcon = PasswordIcon;
}


/***/ }),

/***/ "./src/frontend/common/icon/PhoneIcon.tsx":
/*!************************************************!*\
  !*** ./src/frontend/common/icon/PhoneIcon.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PhoneIcon": () => (/* binding */ PhoneIcon)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _PhoneIcon = class _PhoneIcon extends react__WEBPACK_IMPORTED_MODULE_1__.Component {
  render() {
    const size = this.props.size || 24;
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("svg", { xmlns: "http://www.w3.org/2000/svg", height: size, width: size, viewBox: "0 0 24 24", children: [
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M0 0h24v24H0V0z", fill: "none" }),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M6.54 5c.06.89.21 1.76.45 2.59l-1.2 1.2c-.41-1.2-.67-2.47-.76-3.79h1.51m9.86 12.02c.85.24 1.72.39 2.6.45v1.49c-1.32-.09-2.59-.35-3.8-.75l1.2-1.19M7.5 3H4c-.55 0-1 .45-1 1 0 9.39 7.61 17 17 17 .55 0 1-.45 1-1v-3.49c0-.55-.45-1-1-1-1.24 0-2.45-.2-3.57-.57-.1-.04-.21-.05-.31-.05-.26 0-.51.1-.71.29l-2.2 2.2c-2.83-1.45-5.15-3.76-6.59-6.59l2.2-2.2c.28-.28.36-.67.25-1.02C8.7 6.45 8.5 5.25 8.5 4c0-.55-.45-1-1-1z" })
    ] });
  }
};
__name(_PhoneIcon, "PhoneIcon");
let PhoneIcon = _PhoneIcon;
if (typeof window === "object") {
  window.PhoneIcon = PhoneIcon;
}


/***/ }),

/***/ "./src/frontend/common/icon/RightIcon.tsx":
/*!************************************************!*\
  !*** ./src/frontend/common/icon/RightIcon.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RightIcon": () => (/* binding */ RightIcon)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const RightIcon = /* @__PURE__ */ __name((props) => {
  const size = props.size || 24;
  return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
    "svg",
    {
      xmlns: "http://www.w3.org/2000/svg",
      height: size,
      width: size,
      viewBox: "0 0 24 24",
      fill: "#000000",
      children: [
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M0 0h24v24H0V0z", fill: "none" }),
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M8.59 16.59L13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z" })
      ]
    }
  );
}, "RightIcon");
if (typeof window === "object") {
  window.RightIcon = RightIcon;
}


/***/ }),

/***/ "./src/frontend/common/icon/SettingsIcon.tsx":
/*!***************************************************!*\
  !*** ./src/frontend/common/icon/SettingsIcon.tsx ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SettingsIcon": () => (/* binding */ SettingsIcon)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _SettingsIcon = class _SettingsIcon extends react__WEBPACK_IMPORTED_MODULE_1__.Component {
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "svg",
      {
        xmlns: "http://www.w3.org/2000/svg",
        height: "24px",
        viewBox: "0 0 24 24",
        width: "24px",
        fill: "#000000",
        children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M0 0h24v24H0V0z", fill: "none" }),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M19.43 12.98c.04-.32.07-.64.07-.98 0-.34-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.09-.16-.26-.25-.44-.25-.06 0-.12.01-.17.03l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.06-.02-.12-.03-.18-.03-.17 0-.34.09-.43.25l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98 0 .33.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.09.16.26.25.44.25.06 0 .12-.01.17-.03l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.06.02.12.03.18.03.17 0 .34-.09.43-.25l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zm-1.98-1.71c.04.31.05.52.05.73 0 .21-.02.43-.05.73l-.14 1.13.89.7 1.08.84-.7 1.21-1.27-.51-1.04-.42-.9.68c-.43.32-.84.56-1.25.73l-1.06.43-.16 1.13-.2 1.35h-1.4l-.19-1.35-.16-1.13-1.06-.43c-.43-.18-.83-.41-1.23-.71l-.91-.7-1.06.43-1.27.51-.7-1.21 1.08-.84.89-.7-.14-1.13c-.03-.31-.05-.54-.05-.74s.02-.43.05-.73l.14-1.13-.89-.7-1.08-.84.7-1.21 1.27.51 1.04.42.9-.68c.43-.32.84-.56 1.25-.73l1.06-.43.16-1.13.2-1.35h1.39l.19 1.35.16 1.13 1.06.43c.43.18.83.41 1.23.71l.91.7 1.06-.43 1.27-.51.7 1.21-1.07.85-.89.7.14 1.13zM12 8c-2.21 0-4 1.79-4 4s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 6c-1.1 0-2-.9-2-2s.9-2 2-2 2 .9 2 2-.9 2-2 2z" })
        ]
      }
    );
  }
};
__name(_SettingsIcon, "SettingsIcon");
let SettingsIcon = _SettingsIcon;
if (typeof window === "object") {
  window.SettingsIcon = SettingsIcon;
}


/***/ }),

/***/ "./src/frontend/common/icon/TimeIcon.tsx":
/*!***********************************************!*\
  !*** ./src/frontend/common/icon/TimeIcon.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TimeIcon": () => (/* binding */ TimeIcon)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _TimeIcon = class _TimeIcon extends react__WEBPACK_IMPORTED_MODULE_1__.Component {
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "svg",
      {
        xmlns: "http://www.w3.org/2000/svg",
        enableBackground: "new 0 0 24 24",
        height: "18px",
        viewBox: "0 0 24 24",
        width: "18px",
        fill: "#000000",
        children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("g", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("rect", { fill: "none", height: "24", width: "24", x: "0" }) }),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("g", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("g", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10s10-4.5,10-10S17.5,2,12,2z M12,20c-4.41,0-8-3.59-8-8s3.59-8,8-8s8,3.59,8,8 S16.41,20,12,20z M12.5,7H11v6l5.2,3.2l0.8-1.3l-4.5-2.7V7z" }) }) })
        ]
      }
    );
  }
};
__name(_TimeIcon, "TimeIcon");
let TimeIcon = _TimeIcon;
if (typeof window === "object") {
  window.TimeIcon = TimeIcon;
}


/***/ }),

/***/ "./src/frontend/common/icon/VisibilityIcon.tsx":
/*!*****************************************************!*\
  !*** ./src/frontend/common/icon/VisibilityIcon.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VisibilityIcon": () => (/* binding */ VisibilityIcon)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _VisibilityIcon = class _VisibilityIcon extends react__WEBPACK_IMPORTED_MODULE_1__.Component {
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "svg",
      {
        xmlns: "http://www.w3.org/2000/svg",
        height: "24px",
        viewBox: "0 0 24 24",
        width: "24px",
        fill: "#000000",
        children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M0 0h24v24H0V0z", fill: "none" }),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z" })
        ]
      }
    );
  }
};
__name(_VisibilityIcon, "VisibilityIcon");
let VisibilityIcon = _VisibilityIcon;
if (typeof window === "object") {
  window.VisibilityIcon = VisibilityIcon;
}


/***/ }),

/***/ "./src/frontend/common/icon/VisibilityOffIcon.tsx":
/*!********************************************************!*\
  !*** ./src/frontend/common/icon/VisibilityOffIcon.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "VisibilityOffIcon": () => (/* binding */ VisibilityOffIcon)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _VisibilityOffIcon = class _VisibilityOffIcon extends react__WEBPACK_IMPORTED_MODULE_1__.Component {
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "svg",
      {
        xmlns: "http://www.w3.org/2000/svg",
        height: "24px",
        viewBox: "0 0 24 24",
        width: "24px",
        fill: "#000000",
        children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
            "path",
            {
              d: "M0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0zm0 0h24v24H0V0z",
              fill: "none"
            }
          ),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M12 6c3.79 0 7.17 2.13 8.82 5.5-.59 1.22-1.42 2.27-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6zm-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14zM2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45 2.01 3.87zm7.5 7.5l2.61 2.61c-.04.01-.08.02-.12.02-1.38 0-2.5-1.12-2.5-2.5 0-.05.01-.08.01-.13zm-3.4-3.4l1.75 1.75c-.23.55-.36 1.15-.36 1.78 0 2.48 2.02 4.5 4.5 4.5.63 0 1.23-.13 1.77-.36l.98.98c-.88.24-1.8.38-2.75.38-3.79 0-7.17-2.13-8.82-5.5.7-1.43 1.72-2.61 2.93-3.53z" })
        ]
      }
    );
  }
};
__name(_VisibilityOffIcon, "VisibilityOffIcon");
let VisibilityOffIcon = _VisibilityOffIcon;
if (typeof window === "object") {
  window.VisibilityOffIcon = VisibilityOffIcon;
}


/***/ }),

/***/ "./src/frontend/common/icon/index.ts":
/*!*******************************************!*\
  !*** ./src/frontend/common/icon/index.ts ***!
  \*******************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ArrowIcon": () => (/* reexport safe */ _ArrowIcon__WEBPACK_IMPORTED_MODULE_16__.ArrowIcon),
/* harmony export */   "CancelIcon": () => (/* reexport safe */ _CancelIcon__WEBPACK_IMPORTED_MODULE_11__.CancelIcon),
/* harmony export */   "CloseIcon": () => (/* reexport safe */ _CloseIcon__WEBPACK_IMPORTED_MODULE_0__.CloseIcon),
/* harmony export */   "CloseIcon2": () => (/* reexport safe */ _CloseIcon2__WEBPACK_IMPORTED_MODULE_5__.CloseIcon2),
/* harmony export */   "DateIcon": () => (/* reexport safe */ _DateIcon__WEBPACK_IMPORTED_MODULE_18__.DateIcon),
/* harmony export */   "DeleteIcon": () => (/* reexport safe */ _DeleteIcon__WEBPACK_IMPORTED_MODULE_14__.DeleteIcon),
/* harmony export */   "DoneIcon": () => (/* reexport safe */ _DoneIcon__WEBPACK_IMPORTED_MODULE_10__.DoneIcon),
/* harmony export */   "DownIcon": () => (/* reexport safe */ _DownIcon__WEBPACK_IMPORTED_MODULE_17__.DownIcon),
/* harmony export */   "EditIcon": () => (/* reexport safe */ _EditIcon__WEBPACK_IMPORTED_MODULE_15__.EditIcon),
/* harmony export */   "LeftIcon": () => (/* reexport safe */ _LeftIcon__WEBPACK_IMPORTED_MODULE_1__.LeftIcon),
/* harmony export */   "LocationIcon": () => (/* reexport safe */ _LocationIcon__WEBPACK_IMPORTED_MODULE_8__.LocationIcon),
/* harmony export */   "MoreVertIcon": () => (/* reexport safe */ _MoreVertIcon__WEBPACK_IMPORTED_MODULE_4__.MoreVertIcon),
/* harmony export */   "OpenInNewIcon": () => (/* reexport safe */ _OpenInNewIcon__WEBPACK_IMPORTED_MODULE_3__.OpenInNewIcon),
/* harmony export */   "PasswordIcon": () => (/* reexport safe */ _PasswordIcon__WEBPACK_IMPORTED_MODULE_13__.PasswordIcon),
/* harmony export */   "PhoneIcon": () => (/* reexport safe */ _PhoneIcon__WEBPACK_IMPORTED_MODULE_12__.PhoneIcon),
/* harmony export */   "RightIcon": () => (/* reexport safe */ _RightIcon__WEBPACK_IMPORTED_MODULE_2__.RightIcon),
/* harmony export */   "SettingsIcon": () => (/* reexport safe */ _SettingsIcon__WEBPACK_IMPORTED_MODULE_9__.SettingsIcon),
/* harmony export */   "TimeIcon": () => (/* reexport safe */ _TimeIcon__WEBPACK_IMPORTED_MODULE_19__.TimeIcon),
/* harmony export */   "VisibilityIcon": () => (/* reexport safe */ _VisibilityIcon__WEBPACK_IMPORTED_MODULE_6__.VisibilityIcon),
/* harmony export */   "VisibilityOffIcon": () => (/* reexport safe */ _VisibilityOffIcon__WEBPACK_IMPORTED_MODULE_7__.VisibilityOffIcon)
/* harmony export */ });
/* harmony import */ var _CloseIcon__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./CloseIcon */ "./src/frontend/common/icon/CloseIcon.tsx");
/* harmony import */ var _LeftIcon__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LeftIcon */ "./src/frontend/common/icon/LeftIcon.tsx");
/* harmony import */ var _RightIcon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RightIcon */ "./src/frontend/common/icon/RightIcon.tsx");
/* harmony import */ var _OpenInNewIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./OpenInNewIcon */ "./src/frontend/common/icon/OpenInNewIcon.tsx");
/* harmony import */ var _MoreVertIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./MoreVertIcon */ "./src/frontend/common/icon/MoreVertIcon.tsx");
/* harmony import */ var _CloseIcon2__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./CloseIcon2 */ "./src/frontend/common/icon/CloseIcon2.tsx");
/* harmony import */ var _VisibilityIcon__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./VisibilityIcon */ "./src/frontend/common/icon/VisibilityIcon.tsx");
/* harmony import */ var _VisibilityOffIcon__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./VisibilityOffIcon */ "./src/frontend/common/icon/VisibilityOffIcon.tsx");
/* harmony import */ var _LocationIcon__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./LocationIcon */ "./src/frontend/common/icon/LocationIcon.tsx");
/* harmony import */ var _SettingsIcon__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./SettingsIcon */ "./src/frontend/common/icon/SettingsIcon.tsx");
/* harmony import */ var _DoneIcon__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./DoneIcon */ "./src/frontend/common/icon/DoneIcon.tsx");
/* harmony import */ var _CancelIcon__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./CancelIcon */ "./src/frontend/common/icon/CancelIcon.tsx");
/* harmony import */ var _PhoneIcon__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./PhoneIcon */ "./src/frontend/common/icon/PhoneIcon.tsx");
/* harmony import */ var _PasswordIcon__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./PasswordIcon */ "./src/frontend/common/icon/PasswordIcon.tsx");
/* harmony import */ var _DeleteIcon__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./DeleteIcon */ "./src/frontend/common/icon/DeleteIcon.tsx");
/* harmony import */ var _EditIcon__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./EditIcon */ "./src/frontend/common/icon/EditIcon.tsx");
/* harmony import */ var _ArrowIcon__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./ArrowIcon */ "./src/frontend/common/icon/ArrowIcon.tsx");
/* harmony import */ var _DownIcon__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./DownIcon */ "./src/frontend/common/icon/DownIcon.tsx");
/* harmony import */ var _DateIcon__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./DateIcon */ "./src/frontend/common/icon/DateIcon.tsx");
/* harmony import */ var _TimeIcon__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./TimeIcon */ "./src/frontend/common/icon/TimeIcon.tsx");






















/***/ }),

/***/ "./src/frontend/common/index.ts":
/*!**************************************!*\
  !*** ./src/frontend/common/index.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ArrowIcon": () => (/* reexport safe */ _icon__WEBPACK_IMPORTED_MODULE_4__.ArrowIcon),
/* harmony export */   "Box": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.Box),
/* harmony export */   "Button": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.Button),
/* harmony export */   "CancelIcon": () => (/* reexport safe */ _icon__WEBPACK_IMPORTED_MODULE_4__.CancelIcon),
/* harmony export */   "CheckBox": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.CheckBox),
/* harmony export */   "CheckBoxList": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.CheckBoxList),
/* harmony export */   "CloseIcon": () => (/* reexport safe */ _icon__WEBPACK_IMPORTED_MODULE_4__.CloseIcon),
/* harmony export */   "CloseIcon2": () => (/* reexport safe */ _icon__WEBPACK_IMPORTED_MODULE_4__.CloseIcon2),
/* harmony export */   "ComboBox": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.ComboBox),
/* harmony export */   "DateIcon": () => (/* reexport safe */ _icon__WEBPACK_IMPORTED_MODULE_4__.DateIcon),
/* harmony export */   "DatePicker": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.DatePicker),
/* harmony export */   "DeleteIcon": () => (/* reexport safe */ _icon__WEBPACK_IMPORTED_MODULE_4__.DeleteIcon),
/* harmony export */   "DoneIcon": () => (/* reexport safe */ _icon__WEBPACK_IMPORTED_MODULE_4__.DoneIcon),
/* harmony export */   "DownIcon": () => (/* reexport safe */ _icon__WEBPACK_IMPORTED_MODULE_4__.DownIcon),
/* harmony export */   "DropdownButton": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.DropdownButton),
/* harmony export */   "DropdownDatePicker": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.DropdownDatePicker),
/* harmony export */   "EditIcon": () => (/* reexport safe */ _icon__WEBPACK_IMPORTED_MODULE_4__.EditIcon),
/* harmony export */   "Expand": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.Expand),
/* harmony export */   "FrontHostApp": () => (/* reexport safe */ _FrontHostApp__WEBPACK_IMPORTED_MODULE_0__.FrontHostApp),
/* harmony export */   "Grid": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.Grid),
/* harmony export */   "GridCell": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.GridCell),
/* harmony export */   "GridRow": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.GridRow),
/* harmony export */   "Helper": () => (/* reexport safe */ _Helper__WEBPACK_IMPORTED_MODULE_1__.Helper),
/* harmony export */   "Image": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.Image),
/* harmony export */   "LeftIcon": () => (/* reexport safe */ _icon__WEBPACK_IMPORTED_MODULE_4__.LeftIcon),
/* harmony export */   "LocationIcon": () => (/* reexport safe */ _icon__WEBPACK_IMPORTED_MODULE_4__.LocationIcon),
/* harmony export */   "Menu": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.Menu),
/* harmony export */   "Modal": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.Modal),
/* harmony export */   "MoreVertIcon": () => (/* reexport safe */ _icon__WEBPACK_IMPORTED_MODULE_4__.MoreVertIcon),
/* harmony export */   "OpenInNewIcon": () => (/* reexport safe */ _icon__WEBPACK_IMPORTED_MODULE_4__.OpenInNewIcon),
/* harmony export */   "Password": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.Password),
/* harmony export */   "PasswordIcon": () => (/* reexport safe */ _icon__WEBPACK_IMPORTED_MODULE_4__.PasswordIcon),
/* harmony export */   "PhoneBox": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.PhoneBox),
/* harmony export */   "PhoneIcon": () => (/* reexport safe */ _icon__WEBPACK_IMPORTED_MODULE_4__.PhoneIcon),
/* harmony export */   "Radio": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.Radio),
/* harmony export */   "ReactComponent": () => (/* reexport safe */ _ReactComponent__WEBPACK_IMPORTED_MODULE_2__.ReactComponent),
/* harmony export */   "RightIcon": () => (/* reexport safe */ _icon__WEBPACK_IMPORTED_MODULE_4__.RightIcon),
/* harmony export */   "Search": () => (/* reexport safe */ _Search__WEBPACK_IMPORTED_MODULE_3__.Search),
/* harmony export */   "Select": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.Select),
/* harmony export */   "SettingsIcon": () => (/* reexport safe */ _icon__WEBPACK_IMPORTED_MODULE_4__.SettingsIcon),
/* harmony export */   "Slider": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.Slider),
/* harmony export */   "Statusbar": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.Statusbar),
/* harmony export */   "Tab": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.Tab),
/* harmony export */   "Tab2": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.Tab2),
/* harmony export */   "TextArea": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.TextArea),
/* harmony export */   "TextBox": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.TextBox),
/* harmony export */   "TimeBox": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.TimeBox),
/* harmony export */   "TimeBox2": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.TimeBox2),
/* harmony export */   "TimeIcon": () => (/* reexport safe */ _icon__WEBPACK_IMPORTED_MODULE_4__.TimeIcon),
/* harmony export */   "Tooltip": () => (/* reexport safe */ _widget__WEBPACK_IMPORTED_MODULE_5__.Tooltip),
/* harmony export */   "VisibilityIcon": () => (/* reexport safe */ _icon__WEBPACK_IMPORTED_MODULE_4__.VisibilityIcon),
/* harmony export */   "VisibilityOffIcon": () => (/* reexport safe */ _icon__WEBPACK_IMPORTED_MODULE_4__.VisibilityOffIcon)
/* harmony export */ });
/* harmony import */ var _FrontHostApp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./FrontHostApp */ "./src/frontend/common/FrontHostApp.ts");
/* harmony import */ var _Helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Helper */ "./src/frontend/common/Helper.ts");
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
/* harmony import */ var _Search__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Search */ "./src/frontend/common/Search.ts");
/* harmony import */ var _icon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./icon */ "./src/frontend/common/icon/index.ts");
/* harmony import */ var _widget__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./widget */ "./src/frontend/common/widget/index.ts");








/***/ }),

/***/ "./src/frontend/common/widget/Box/Box.tsx":
/*!************************************************!*\
  !*** ./src/frontend/common/widget/Box/Box.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Box": () => (/* binding */ Box)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Button */ "./src/frontend/common/widget/Button.tsx");
/* harmony import */ var _Box_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Box.less */ "./src/frontend/common/widget/Box/Box.less");
/* harmony import */ var _Box_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_Box_less__WEBPACK_IMPORTED_MODULE_3__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });




const _Box = class _Box extends _ReactComponent__WEBPACK_IMPORTED_MODULE_1__.ReactComponent {
  constructor(props) {
    super(props);
    this.update = /* @__PURE__ */ __name(() => {
      console.debug("Box.update");
      this.setState({
        backgroundColor: "green"
      });
    }, "update");
    this.state = {
      backgroundColor: "purple"
    };
  }
  // componentWillMount() {
  //     console.debug('Box.componentWillMount');
  // }
  componentDidMount() {
    console.debug("Box.componentDidMount");
  }
  componentWillUnmount() {
    console.debug("Box.componentWillUnmount");
  }
  shouldComponentUpdate(nextProps, nextState) {
    console.debug("Box.shouldComponentUpdate", nextProps, nextState);
    return true;
  }
  componentDidUpdate() {
    console.debug("Box.componentDidUpdate");
  }
  render() {
    console.debug("Box.render");
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "Box", children: [
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_2__.Button, { name: "one" }),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_2__.Button, { name: "two" }),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_Button__WEBPACK_IMPORTED_MODULE_2__.Button, { name: "three" })
    ] });
  }
};
__name(_Box, "Box");
let Box = _Box;
if (typeof window === "object") {
  window.Box = Box;
}


/***/ }),

/***/ "./src/frontend/common/widget/Button.tsx":
/*!***********************************************!*\
  !*** ./src/frontend/common/widget/Button.tsx ***!
  \***********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Button": () => (/* binding */ Button)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _Button = class _Button extends _ReactComponent__WEBPACK_IMPORTED_MODULE_2__.ReactComponent {
  constructor(props) {
    super(props);
    this.state = { disabled: void 0 };
    this.el = (0,react__WEBPACK_IMPORTED_MODULE_1__.createRef)();
  }
  /*isDisabled() {
      if (this.props.disabled !== undefined) return this.props.disabled;
      if (this.props.enabled !== undefined) return !this.props.enabled;
      return this.state.disabled;
  }*/
  /*isEnabled() {
      return !this.isDisabled();
  }*/
  /*disable() {
      this.setState({disabled: true});
  }*/
  /*enable() {
      this.setState({disabled: false});
  }*/
  isVisible() {
    if (this.props.visible !== void 0)
      return this.props.visible;
    return true;
  }
  getStyle() {
    return {
      display: !this.isVisible() ? "none" : void 0,
      width: this.props.width
    };
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      "button",
      {
        className: this.getCssClassNames(),
        ref: this.el,
        id: this.props.id,
        type: this.props.type,
        name: this.props.name,
        disabled: this.isDisabled(),
        onClick: this.props.onClick,
        onFocus: this.props.onFocus,
        onBlur: this.props.onBlur,
        onKeyDown: this.props.onKeyDown,
        style: this.getStyle(),
        children: this.props.title || this.props.children
      }
    );
  }
};
__name(_Button, "Button");
let Button = _Button;
if (typeof window === "object") {
  window.Button = Button;
}


/***/ }),

/***/ "./src/frontend/common/widget/CheckBox/CheckBox.tsx":
/*!**********************************************************!*\
  !*** ./src/frontend/common/widget/CheckBox/CheckBox.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CheckBox": () => (/* binding */ CheckBox)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
/* harmony import */ var _CheckBox_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./CheckBox.less */ "./src/frontend/common/widget/CheckBox/CheckBox.less");
/* harmony import */ var _CheckBox_less__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_CheckBox_less__WEBPACK_IMPORTED_MODULE_2__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _CheckBox = class _CheckBox extends _ReactComponent__WEBPACK_IMPORTED_MODULE_1__.ReactComponent {
  constructor(props) {
    super(props);
    this.onChange = /* @__PURE__ */ __name((e) => {
      if (!this.props.readOnly) {
        this.setState((prevState) => {
          if (this.props.onChange) {
            this.props.onChange(!prevState.checked, e);
          }
          return { checked: !prevState.checked };
        });
      }
    }, "onChange");
    this.onClick = /* @__PURE__ */ __name((e) => {
      if (!this.props.readOnly) {
        if (this.props.onChange)
          this.props.onChange(true);
        this.setState({ checked: true });
      }
    }, "onClick");
    if (this.props.checked !== void 0 && this.props.checked !== null && typeof this.props.checked !== "boolean") {
      throw new Error(`wrong checked prop: ${this.props.checked}`);
    }
    this.state = {
      checked: typeof this.props.checked === "boolean" ? this.props.checked : null
    };
  }
  getValue() {
    return this.state.checked;
  }
  shouldComponentUpdate(nextProps, nextState) {
    this.state.checked = typeof nextProps.checked === "boolean" ? nextProps.checked : null;
    return true;
  }
  render() {
    if (this.state.checked === null) {
      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        "div",
        {
          className: `${this.getCssClassNames()} ${this.isDisabled() ? "disabled" : ""}`,
          onClick: this.onClick,
          children: "?"
        }
      );
    }
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      "input",
      {
        className: this.getCssClassNames(),
        type: "checkbox",
        id: this.props.id,
        checked: this.state.checked,
        readOnly: this.props.readOnly,
        disabled: this.props.disabled,
        "data-tag": this.props.tag,
        onChange: this.onChange
      }
    );
  }
};
__name(_CheckBox, "CheckBox");
let CheckBox = _CheckBox;
if (typeof window === "object") {
  window.CheckBox = CheckBox;
}


/***/ }),

/***/ "./src/frontend/common/widget/CheckBoxList.tsx":
/*!*****************************************************!*\
  !*** ./src/frontend/common/widget/CheckBoxList.tsx ***!
  \*****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CheckBoxList": () => (/* binding */ CheckBoxList)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _CheckBoxList = class _CheckBoxList extends _ReactComponent__WEBPACK_IMPORTED_MODULE_1__.ReactComponent {
  constructor(props) {
    super(props);
    this.onCheckBoxChange = /* @__PURE__ */ __name((e) => {
      const checked = e.target.checked;
      const itemValue = e.target.dataset.value;
      this.setState(
        (prevState) => {
          const prevValue = prevState.value || [];
          const value = [...prevValue];
          if (checked) {
            if (value.indexOf(itemValue) > -1) {
              console.debug("value:", itemValue, checked, value);
              throw new Error("CheckBoxList value error");
            }
            value.push(itemValue);
          } else {
            if (value.indexOf(itemValue) === -1) {
              console.debug("value:", itemValue, checked, value);
              throw new Error("CheckBoxList value error");
            }
            value.splice(value.indexOf(itemValue), 1);
          }
          return { value };
        },
        () => {
          if (this.props.onChange) {
            this.props.onChange(this.getValue());
          }
        }
      );
    }, "onCheckBoxChange");
    if (!this.props.name)
      throw new Error("no CheckBoxList name");
    this.state = {
      value: this.props.value || []
    };
  }
  getItems() {
    return this.props.items || [];
  }
  getValue() {
    return this.state.value || [];
  }
  isValueChecked(value) {
    return this.getValue().indexOf(value) > -1;
  }
  composeItemId(value) {
    return `${this.props.name}.${value}`;
  }
  shouldComponentUpdate(nextProps, nextState) {
    this.state.value = nextProps.value;
    return true;
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("ul", { className: this.getCssClassNames(), children: this.getItems().map((item) => {
      if (item.value === void 0)
        throw new Error("no item value");
      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("li", { children: [
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
          "input",
          {
            type: "checkbox",
            id: this.composeItemId(item.value),
            checked: this.isValueChecked(item.value),
            onChange: this.onCheckBoxChange,
            "data-value": item.value,
            readOnly: this.props.readOnly
          }
        ),
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { htmlFor: this.composeItemId(item.value), children: item.title || item.value })
      ] }, item.value);
    }) });
  }
};
__name(_CheckBoxList, "CheckBoxList");
let CheckBoxList = _CheckBoxList;
if (typeof window === "object") {
  window.CheckBoxList = CheckBoxList;
}


/***/ }),

/***/ "./src/frontend/common/widget/ComboBox.tsx":
/*!*************************************************!*\
  !*** ./src/frontend/common/widget/ComboBox.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ComboBox": () => (/* binding */ ComboBox)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};


const _ComboBox = class _ComboBox extends _ReactComponent__WEBPACK_IMPORTED_MODULE_1__.ReactComponent {
  constructor(props) {
    super(props);
    this.onChange = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      this.setState({ value: e.target.value });
      if (this.props.onChange) {
        yield this.props.onChange(e.target.value);
      }
    }), "onChange");
    this.onMouseDown = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      if (this.props.onMouseDown) {
        yield this.props.onMouseDown(e);
      }
    }), "onMouseDown");
    if (!props.items)
      throw new Error("no ComboBox items");
    this.state = { value: this.getInitialValue() };
  }
  getInitialValue() {
    let value = null;
    if (this.props.value !== void 0 && this.props.value !== null) {
      value = this.props.value;
      const item = this.props.items.find((item2) => item2.value === this.props.value);
      if (!item) {
        if (this.props.nullable && value === "") {
        } else {
          console.error(`ComboBox: no item for value:`, JSON.stringify(this.props.value));
          console.debug("items:", this.props.items);
        }
      }
    } else {
      if (this.props.items.length) {
        value = this.props.items[0].value;
      } else {
        value = "";
      }
    }
    if (value === null)
      throw new Error("null is wrong value for ComboBox");
    return value;
  }
  getValue() {
    return this.state.value;
  }
  shouldComponentUpdate(nextProps, nextState) {
    this.state.value = nextProps.value;
    return true;
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "select",
      {
        className: this.getCssClassNames(),
        onChange: this.onChange,
        value: this.state.value,
        disabled: this.props.readOnly,
        size: this.props.size,
        style: this.props.style,
        id: this.props.id,
        onDoubleClick: this.props.onDoubleClick,
        onMouseDown: this.onMouseDown,
        children: [
          this.props.nullable && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: "", children: this.props.placeholder }),
          this.props.items && this.props.items.map((item) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("option", { value: item.value, children: item.title || item.value }, item.value))
        ]
      }
    );
  }
};
__name(_ComboBox, "ComboBox");
let ComboBox = _ComboBox;
if (typeof window === "object") {
  window.ComboBox = ComboBox;
}


/***/ }),

/***/ "./src/frontend/common/widget/DatePicker/DatePicker.tsx":
/*!**************************************************************!*\
  !*** ./src/frontend/common/widget/DatePicker/DatePicker.tsx ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DatePicker": () => (/* binding */ DatePicker)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
/* harmony import */ var _Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Helper */ "./src/frontend/common/Helper.ts");
/* harmony import */ var _icon_LeftIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../icon/LeftIcon */ "./src/frontend/common/icon/LeftIcon.tsx");
/* harmony import */ var _icon_RightIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../icon/RightIcon */ "./src/frontend/common/icon/RightIcon.tsx");
/* harmony import */ var _DatePicker_less__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./DatePicker.less */ "./src/frontend/common/widget/DatePicker/DatePicker.less");
/* harmony import */ var _DatePicker_less__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_DatePicker_less__WEBPACK_IMPORTED_MODULE_5__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });






const _DatePicker = class _DatePicker extends _ReactComponent__WEBPACK_IMPORTED_MODULE_1__.ReactComponent {
  constructor(props) {
    super(props);
    this.onClick = /* @__PURE__ */ __name((e) => {
      console.debug("DatePicker.onClick", e.target);
      if (e.target.nodeName === "TD" && e.target.classList.contains("selectable")) {
        return this.onDateClick(e.target);
      }
    }, "onClick");
    this.onMouseDown = /* @__PURE__ */ __name((e) => {
      if (this.props.onMouseDown) {
        return this.props.onMouseDown(e);
      }
    }, "onMouseDown");
    this.onNextClick = /* @__PURE__ */ __name((e) => {
      this.setState((prevState) => {
        const next = new Date(prevState.selectedMonth[0], prevState.selectedMonth[1]);
        next.setMonth(next.getMonth() + 1);
        return {
          selectedMonth: [next.getFullYear(), next.getMonth()]
        };
      });
    }, "onNextClick");
    this.onPrevClick = /* @__PURE__ */ __name((e) => {
      this.setState((prevState) => {
        const prev = new Date(prevState.selectedMonth[0], prevState.selectedMonth[1]);
        prev.setMonth(prev.getMonth() - 1);
        return {
          selectedMonth: [prev.getFullYear(), prev.getMonth()]
        };
      });
    }, "onPrevClick");
    if (this.props.minDate && !(this.props.minDate instanceof Array))
      throw new Error("minDate must be array");
    this.state = { selectedMonth: this.calcSelectedMonth() };
    this.MONTH = [
      "\u042F\u043D\u0432\u0430\u0440\u044C",
      "\u0424\u0435\u0432\u0440\u0430\u043B\u044C",
      "\u041C\u0430\u0440\u0442",
      "\u0410\u043F\u0440\u0435\u043B\u044C",
      "\u041C\u0430\u0439",
      "\u0418\u044E\u043D\u044C",
      "\u0418\u044E\u043B\u044C",
      "\u0410\u0432\u0433\u0443\u0441\u0442",
      "\u0421\u0435\u043D\u0442\u044F\u0431\u0440\u044C",
      "\u041E\u043A\u0442\u044F\u0431\u0440\u044C",
      "\u041D\u043E\u044F\u0431\u0440\u044C",
      "\u0414\u0435\u043A\u0430\u0431\u0440\u044C"
    ];
  }
  static createDateFromArr(arr) {
    return new Date(arr[0], arr[1], arr[2]);
  }
  isVisible() {
    if (this.props.visible === false)
      return false;
    return true;
  }
  calcSelectedMonth() {
    if (this.props.selectedDate) {
      return [this.props.selectedDate[0], this.props.selectedDate[1]];
    } else if (this.props.highlightedDate) {
      return [this.props.highlightedDate[0], this.props.highlightedDate[1]];
    } else {
      const dates = [_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.today().getTime()];
      if (this.props.minDate)
        dates.push(_DatePicker.createDateFromArr(this.props.minDate).getTime());
      const date = new Date(Math.min(...dates));
      return [date.getFullYear(), date.getMonth()];
    }
  }
  static getTodayArr() {
    return _DatePicker.dateToArray(/* @__PURE__ */ new Date());
  }
  static dateToArray(date) {
    return [date.getFullYear(), date.getMonth(), date.getDate()];
  }
  static getDay(date) {
    let day = date.getDay() - 1;
    if (day === -1)
      day = 6;
    if (day === 0)
      day = 7;
    return day;
  }
  createSelectedDate() {
    if (!this.isDateSelected())
      throw new Error("date not selected");
    return new Date(...this.props.selectedDate);
  }
  isDateSelected() {
    return !!this.props.selectedDate;
  }
  getFirstDateOfTable() {
    const date = new Date(this.state.selectedMonth[0], this.state.selectedMonth[1], 1);
    date.setDate(date.getDate() - _DatePicker.getDay(date));
    return date;
  }
  createMinDate() {
    if (!this.props.minDate)
      throw new Error("no min date");
    return new Date(this.props.minDate[0], this.props.minDate[1], this.props.minDate[2]);
  }
  isMinDate() {
    return !!this.props.minDate;
  }
  isPrevAllowed() {
    const prev = new Date(this.state.selectedMonth[0], this.state.selectedMonth[1]);
    prev.setMonth(prev.getMonth() - 1);
    return this.isMonthAllowed(prev);
  }
  isMonthAllowed(month) {
    if (this.isMinDate()) {
      const minMonth = new Date(this.props.minDate[0], this.props.minDate[1]);
      return month.getTime() >= minMonth.getTime();
    }
    return true;
  }
  onDateClick(target) {
    if (this.props.onDateSelected) {
      this.props.onDateSelected(JSON.parse(target.dataset.date));
    }
  }
  render() {
    const date = this.getFirstDateOfTable();
    const today = _Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.today();
    const minDate = this.isMinDate() ? this.createMinDate() : null;
    const selectedDate = this.isDateSelected() ? this.createSelectedDate() : null;
    const highlightedDate = this.props.highlightedDate ? (
      // @ts-ignore
      new Date(...this.props.highlightedDate)
    ) : null;
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "table",
      {
        className: `${this.getCssClassNames()} ${this.isVisible() ? "visible" : ""}`,
        onClick: this.onClick,
        onMouseDown: this.onMouseDown,
        children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("caption", { className: `${this.getCssBlockName()}__caption`, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `${this.getCssBlockName()}__caption-content`, children: [
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
              "div",
              {
                className: `${this.getCssBlockName()}__caption-link ${this.isPrevAllowed() ? "enabled" : ""}`,
                onClick: this.onPrevClick,
                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_icon_LeftIcon__WEBPACK_IMPORTED_MODULE_3__.LeftIcon, { size: 18 })
              }
            ),
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: `${this.getCssBlockName()}__caption-title`, children: `${this.MONTH[this.state.selectedMonth[1]]}, ${this.state.selectedMonth[0]}` }),
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
              "div",
              {
                className: `${this.getCssBlockName()}__caption-link enabled`,
                onClick: this.onNextClick,
                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_icon_RightIcon__WEBPACK_IMPORTED_MODULE_4__.RightIcon, { size: 18 })
              }
            )
          ] }) }),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("thead", { children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("tr", { children: [
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th", { className: `${this.getCssBlockName()}__th`, children: "\u041F\u043D" }),
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th", { className: `${this.getCssBlockName()}__th`, children: "\u0412\u0442" }),
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th", { className: `${this.getCssBlockName()}__th`, children: "\u0421\u0440" }),
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th", { className: `${this.getCssBlockName()}__th`, children: "\u0427\u0442" }),
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th", { className: `${this.getCssBlockName()}__th`, children: "\u041F\u0442" }),
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th", { className: `${this.getCssBlockName()}__th weekend`, children: "\u0421\u0431" }),
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("th", { className: `${this.getCssBlockName()}__th weekend`, children: "\u0412\u0441" })
          ] }) }),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("tbody", { children: Array.from(Array(6).keys()).map((i) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("tr", { children: Array.from(Array(7).keys()).map((j) => {
            const classList = [];
            if (j === 5 || j === 6)
              classList.push("weekend");
            if (this.isSelectToday() && date.getTime() === today.getTime())
              classList.push("today");
            if (date.getMonth() !== this.state.selectedMonth[1])
              classList.push("out");
            if (!minDate)
              classList.push("selectable");
            else if (date.getTime() >= minDate.getTime())
              classList.push("selectable");
            if (selectedDate && date.getTime() === selectedDate.getTime())
              classList.push("selected");
            if (highlightedDate && highlightedDate.getTime() === date.getTime())
              classList.push("highlight");
            const text = date.getDate().toString();
            const dataDate = JSON.stringify(_DatePicker.dateToArray(date));
            const style = this.props.getDateStyle ? this.props.getDateStyle(date) : null;
            date.setDate(date.getDate() + 1);
            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
              "td",
              {
                className: `${this.getCssBlockName()}__td  ${classList.join(
                  " "
                )}`,
                style,
                "data-date": dataDate,
                children: text
              },
              text
            );
          }) }, i)) })
        ]
      }
    );
  }
  isSelectToday() {
    if (this.props.selectToday === false)
      return false;
    return true;
  }
};
__name(_DatePicker, "DatePicker");
let DatePicker = _DatePicker;
if (typeof window === "object") {
  window.DatePicker = DatePicker;
}


/***/ }),

/***/ "./src/frontend/common/widget/DropdownButton/DropdownButton.tsx":
/*!**********************************************************************!*\
  !*** ./src/frontend/common/widget/DropdownButton/DropdownButton.tsx ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DropdownButton": () => (/* binding */ DropdownButton)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Helper */ "./src/frontend/common/Helper.ts");
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Button */ "./src/frontend/common/widget/Button.tsx");
/* harmony import */ var _DropdownButton_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./DropdownButton.less */ "./src/frontend/common/widget/DropdownButton/DropdownButton.less");
/* harmony import */ var _DropdownButton_less__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_DropdownButton_less__WEBPACK_IMPORTED_MODULE_4__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};





const _DropdownButton = class _DropdownButton extends _ReactComponent__WEBPACK_IMPORTED_MODULE_2__.ReactComponent {
  constructor(props) {
    super(props);
    this.onButtonClick = /* @__PURE__ */ __name((e) => {
      this.setState((state) => ({ open: !state.open }));
    }, "onButtonClick");
    this.onButtonBlur = /* @__PURE__ */ __name((e) => {
      if (this.state.open) {
        this.setState({ open: false });
      }
    }, "onButtonBlur");
    this.onKeyDown = /* @__PURE__ */ __name((e) => {
      if (e.key === "Escape" && this.state.open) {
        this.setState({ open: false });
        e.stopPropagation();
      }
    }, "onKeyDown");
    this.onUlMouseDown = /* @__PURE__ */ __name((e) => {
      e.preventDefault();
    }, "onUlMouseDown");
    this.onLiClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      const li = e.currentTarget;
      this.setState({ open: false }, () => {
        if (this.props.onClick) {
          this.props.onClick(li);
        }
      });
    }), "onLiClick");
    this.state = {
      open: false,
      disabled: false
    };
  }
  isEnabled() {
    if (this.props.enabled !== void 0)
      return this.props.enabled;
    return !this.state.disabled;
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `${this.getCssClassNames()} ${this.state.open && "show"}`, children: [
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        _Button__WEBPACK_IMPORTED_MODULE_3__.Button,
        {
          classList: [`${this.getCssBlockName()}__button`],
          onClick: this.onButtonClick,
          onBlur: this.onButtonBlur,
          enabled: this.isEnabled(),
          onKeyDown: this.onKeyDown,
          children: this.props.title || this.props.children
        }
      ),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        "ul",
        {
          className: `${this.getCssBlockName()}__dropdown`,
          onMouseDown: this.onUlMouseDown,
          children: this.props.actions && this.props.actions.map((action) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
            "li",
            {
              className: `${this.getCssBlockName()}__item ${action.enabled === false ? "disabled" : ""}`,
              "data-action": action.name,
              onClick: action.enabled !== false ? this.onLiClick : void 0,
              children: action.title
            },
            action.name
          ))
        }
      )
    ] });
  }
};
__name(_DropdownButton, "DropdownButton");
let DropdownButton = _DropdownButton;
_Helper__WEBPACK_IMPORTED_MODULE_1__.Helper.registerGlobalClass(DropdownButton);


/***/ }),

/***/ "./src/frontend/common/widget/DropdownDatePicker/DropdownDatePicker.tsx":
/*!******************************************************************************!*\
  !*** ./src/frontend/common/widget/DropdownDatePicker/DropdownDatePicker.tsx ***!
  \******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DropdownDatePicker": () => (/* binding */ DropdownDatePicker)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
/* harmony import */ var _Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Helper */ "./src/frontend/common/Helper.ts");
/* harmony import */ var _icon_CloseIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../icon/CloseIcon */ "./src/frontend/common/icon/CloseIcon.tsx");
/* harmony import */ var _icon_DateIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../icon/DateIcon */ "./src/frontend/common/icon/DateIcon.tsx");
/* harmony import */ var _icon_CloseIcon2__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../icon/CloseIcon2 */ "./src/frontend/common/icon/CloseIcon2.tsx");
/* harmony import */ var _DatePicker_DatePicker__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../DatePicker/DatePicker */ "./src/frontend/common/widget/DatePicker/DatePicker.tsx");
/* harmony import */ var _DropdownDatePicker_less__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./DropdownDatePicker.less */ "./src/frontend/common/widget/DropdownDatePicker/DropdownDatePicker.less");
/* harmony import */ var _DropdownDatePicker_less__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_DropdownDatePicker_less__WEBPACK_IMPORTED_MODULE_7__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};








const _DropdownDatePicker = class _DropdownDatePicker extends _ReactComponent__WEBPACK_IMPORTED_MODULE_1__.ReactComponent {
  constructor(props) {
    super(props);
    this.onInputClick = /* @__PURE__ */ __name((e) => {
      if (this.props.readOnly)
        return;
      this.setState((prevState) => ({ open: !prevState.open }));
    }, "onInputClick");
    this.onInputKeyDown = /* @__PURE__ */ __name((e) => {
      if (e.key === "Escape" && this.state.open) {
        this.setState({ open: false });
        e.stopPropagation();
      }
    }, "onInputKeyDown");
    this.onCloseDown = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      this.setState({ value: null });
      if (this.props.onChange) {
        this.props.onChange(null);
      }
    }), "onCloseDown");
    this.onBlur = /* @__PURE__ */ __name((e) => {
      if (this.state.open) {
        this.setState({ open: false });
      }
    }, "onBlur");
    this.onDatePickerMouseDown = /* @__PURE__ */ __name((e) => {
      e.preventDefault();
    }, "onDatePickerMouseDown");
    this.onDatePickerDateSelected = /* @__PURE__ */ __name((date) => {
      const value = new Date(date[0], date[1], date[2]);
      this.setState({ open: false, value });
      if (this.props.onChange) {
        this.props.onChange(value);
      }
    }, "onDatePickerDateSelected");
    this.state = {
      open: false,
      value: props.value || null
    };
    if (props.value && !(props.value instanceof Date)) {
      throw new Error(`need Date type, got ${typeof props.value}`);
    }
  }
  getFormat() {
    return this.props.format || "{DD}.{MM}.{YYYY} {hh}:{mm}:{ss}";
  }
  getStringValue() {
    const value = this.getValue();
    if (value) {
      let format = this.getFormat();
      if (this.isDebugMode()) {
        const time = _Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.formatDate(value, "{hh}:{mm}:{ss}");
        if (format === "{DD}.{MM}.{YYYY}" && time !== "00:00:00") {
          format = "{DD}.{MM}.{YYYY} {hh}:{mm}:{ss}";
        }
      }
      return _Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.formatDate(value, format);
    }
    return "";
  }
  /*getMinDate() {
      if (this.props.getMinDate) {
          return this.props.getMinDate();
      } else if (this.props.oldDates === false) {
          return DatePicker.getTodayArr();
      }
      return null;
  }*/
  getSelectedMonth() {
    if (this.getValue()) {
      return [this.getValue().getFullYear(), this.getValue().getMonth()];
    }
    return null;
  }
  getSelectedDate() {
    if (this.getValue()) {
      return [
        this.getValue().getFullYear(),
        this.getValue().getMonth(),
        this.getValue().getDate()
      ];
    }
    return null;
  }
  getValue() {
    return this.state.value;
  }
  shouldComponentUpdate(nextProps, nextState) {
    this.state.value = nextProps.value;
    return true;
  }
  getClassList() {
    return [...super.getClassList(), ...this.props.readOnly ? ["read-only"] : []];
  }
  renderInput() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      "input",
      {
        className: `${this.getCssBlockName()}__input`,
        type: "text",
        readOnly: true,
        onClick: this.onInputClick,
        onBlur: this.onBlur,
        value: this.getStringValue(),
        placeholder: this.props.placeholder,
        onKeyDown: this.onInputKeyDown
      }
    );
  }
  renderCloseIcon() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      "div",
      {
        className: `${this.getCssBlockName()}__close ${this.getStringValue() !== "" && !this.props.readOnly ? "visible" : ""}`,
        onMouseDown: this.onCloseDown,
        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_icon_CloseIcon__WEBPACK_IMPORTED_MODULE_3__.CloseIcon, {})
      }
    );
  }
  renderDateIcon() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__icon`, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_icon_DateIcon__WEBPACK_IMPORTED_MODULE_4__.DateIcon, {}) });
  }
  renderDatePicker() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `${this.getCssBlockName()}__date-picker-container`, children: [
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__date-picker-close`, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_icon_CloseIcon2__WEBPACK_IMPORTED_MODULE_5__.CloseIcon2, {}) }),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        _DatePicker_DatePicker__WEBPACK_IMPORTED_MODULE_6__.DatePicker,
        {
          minDate: this.props.minDate,
          selectedMonth: this.getSelectedMonth(),
          selectedDate: this.getSelectedDate(),
          onMouseDown: this.onDatePickerMouseDown,
          onDateSelected: this.onDatePickerDateSelected,
          selectToday: this.props.selectToday,
          highlightedDate: this.props.highlightedDate
        }
      )
    ] });
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: this.getCssClassNames(), children: [
      this.renderInput(),
      this.renderCloseIcon(),
      this.renderDateIcon(),
      this.state.open && this.renderDatePicker()
    ] });
  }
  isDebugMode() {
    return this.props.debug === true;
  }
};
__name(_DropdownDatePicker, "DropdownDatePicker");
let DropdownDatePicker = _DropdownDatePicker;
if (typeof window === "object") {
  window.DropdownDatePicker = DropdownDatePicker;
}


/***/ }),

/***/ "./src/frontend/common/widget/Expand/Expand.tsx":
/*!******************************************************!*\
  !*** ./src/frontend/common/widget/Expand/Expand.tsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Expand": () => (/* binding */ Expand)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
/* harmony import */ var _icon_DownIcon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../icon/DownIcon */ "./src/frontend/common/icon/DownIcon.tsx");
/* harmony import */ var _Expand_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Expand.less */ "./src/frontend/common/widget/Expand/Expand.less");
/* harmony import */ var _Expand_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_Expand_less__WEBPACK_IMPORTED_MODULE_3__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });




const _Expand = class _Expand extends _ReactComponent__WEBPACK_IMPORTED_MODULE_1__.ReactComponent {
  constructor(props) {
    super(props);
    this.onTitleClick = /* @__PURE__ */ __name((e) => {
      console.debug("Expand.onTitleClick");
      this.setState((prevState) => {
        return { opened: !prevState.opened };
      });
    }, "onTitleClick");
    this.state = {
      opened: this.props.opened !== void 0 ? this.props.opened : false
    };
  }
  isOpened() {
    return this.state.opened;
  }
  isHighlighted() {
    return !!this.props.highlighted;
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "div",
      {
        className: `${this.getCssClassNames()} ${this.isOpened() ? "opened" : ""} ${this.isHighlighted() ? "highlighted" : ""}`,
        children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `${this.getCssBlockName()}__header`, onClick: this.onTitleClick, children: [
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__icon`, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_icon_DownIcon__WEBPACK_IMPORTED_MODULE_2__.DownIcon, {}) }),
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__title`, children: this.props.title })
          ] }),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__content`, children: this.props.children })
        ]
      }
    );
  }
};
__name(_Expand, "Expand");
let Expand = _Expand;
if (typeof window === "object") {
  window.Expand = Expand;
}


/***/ }),

/***/ "./src/frontend/common/widget/Grid/Grid.tsx":
/*!**************************************************!*\
  !*** ./src/frontend/common/widget/Grid/Grid.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Grid": () => (/* binding */ Grid)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
/* harmony import */ var _Helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Helper */ "./src/frontend/common/Helper.ts");
/* harmony import */ var _GridRow_GridRow__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../GridRow/GridRow */ "./src/frontend/common/widget/GridRow/GridRow.tsx");
/* harmony import */ var _GridCell_GridCell__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../GridCell/GridCell */ "./src/frontend/common/widget/GridCell/GridCell.tsx");
/* harmony import */ var _Grid_less__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Grid.less */ "./src/frontend/common/widget/Grid/Grid.less");
/* harmony import */ var _Grid_less__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_Grid_less__WEBPACK_IMPORTED_MODULE_6__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};







const _Grid = class _Grid extends _ReactComponent__WEBPACK_IMPORTED_MODULE_2__.ReactComponent {
  constructor(props) {
    super(props);
    this.onCellMouseDown = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("Grid.onCellMouseDown", this.isLink());
      e.preventDefault();
      if (this.isDisabled())
        return;
      this.getElement().focus();
      const button = e.button;
      const [i, j] = JSON.parse(e.currentTarget.dataset.rc);
      const row = this.props.rows[i];
      const key = e.currentTarget.dataset.row;
      yield this.selectCell(key, j);
      if (button === 0 && this.props.onClick) {
        this.props.onClick(row, key);
      }
    }), "onCellMouseDown");
    this.onRowMouseDown = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("Grid.onRowMouseDown", this.isLink());
      const key = e.currentTarget.dataset.row;
      yield this.selectRow(key);
    }), "onRowMouseDown");
    this.onCellDoubleClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      const button = e.button;
      const [i, j] = JSON.parse(e.currentTarget.dataset.rc);
      const row = this.props.rows[i];
      const key = e.currentTarget.dataset.row;
      if (button === 0 && this.props.onDoubleClick) {
        yield this.props.onDoubleClick(row, key);
      }
    }), "onCellDoubleClick");
    this.onRowDoubleClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      const i = parseInt(e.currentTarget.dataset.r);
      const row = this.props.rows[i];
      const key = e.currentTarget.dataset.row;
      if (this.props.onDoubleClick) {
        yield this.props.onDoubleClick(row, key);
      }
    }), "onRowDoubleClick");
    this.onKeyDown = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      if (this.isDisabled())
        return;
      switch (e.keyCode) {
        case 37:
          e.preventDefault();
          yield this.onLeft();
          break;
        case 38:
          e.preventDefault();
          yield this.onUp();
          break;
        case 39:
          e.preventDefault();
          yield this.onRight();
          break;
        case 40:
          e.preventDefault();
          yield this.onDown();
          break;
        case 13:
          e.preventDefault();
          yield this.onEnter();
          break;
        case 46:
          e.preventDefault();
          yield this.onDelete();
          break;
        case 67:
          if (e.ctrlKey) {
            e.preventDefault();
            yield this.onCopy();
          }
          break;
      }
    }), "onKeyDown");
    this.onResizeDoubleClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("Grid.onResizeDoubleClick", e.target);
      const i = parseInt(e.target.dataset.i);
      const column = this.props.columns[i];
      if (this.state.columnWidth[column.name] === this.getMaxColumnWidth(column))
        return;
      this.state.columnWidth[column.name] = this.getMaxColumnWidth(column);
      this.state.resized = Date.now();
      yield this.rerender();
    }), "onResizeDoubleClick");
    this.onCellViewCreate = /* @__PURE__ */ __name((c) => {
      const columnName = c.props.column.name;
      if (this.columns[columnName] === void 0)
        this.columns[columnName] = [];
      this.columns[columnName].push(c);
    }, "onCellViewCreate");
    this.onCellViewUnmount = /* @__PURE__ */ __name((c) => {
      const columnName = c.props.column.name;
      const i = this.columns[columnName].indexOf(c);
      if (i === -1)
        throw new Error("cannot find FieldView in Grid.columns");
      this.columns[columnName].splice(i, 1);
    }, "onCellViewUnmount");
    this.onBodyScroll = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      this.head.current.scrollLeft = e.target.scrollLeft;
    }), "onBodyScroll");
    this.onLinkClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("Grid.onLinkClick", e.ctrlKey);
      if (e.ctrlKey)
        return;
      e.preventDefault();
    }), "onLinkClick");
    this.state = {
      key: this.props.selectedKey || null,
      column: this.props.selectedKey && this.props.columns && this.props.columns.length ? 0 : null,
      columnWidth: {},
      resized: Date.now()
    };
    this.columns = {};
    this.el = react__WEBPACK_IMPORTED_MODULE_1__.createRef();
    this.head = react__WEBPACK_IMPORTED_MODULE_1__.createRef();
  }
  getActiveColumn() {
    return this.state.column;
  }
  setActiveColumn(column) {
    this.state.column = column;
  }
  getActiveRowKey() {
    return this.state.key;
  }
  setActiveRowKey(key) {
    this.state.key = key;
  }
  isRowActive(i, key) {
    return this.getActiveRowKey() === key;
  }
  onCopy() {
    return __async(this, null, function* () {
      console.debug("Grid.onCopy");
      const row = this.findRow(this.getActiveRowKey());
      const column = this.props.columns[this.getActiveColumn()].name;
      const text = row[column];
      yield _Helper__WEBPACK_IMPORTED_MODULE_3__.Helper.copyTextToClipboard(text);
    });
  }
  findRow(key) {
    return this.props.rows.find((row) => this.getRowKey(row) === key);
  }
  onLeft() {
    return __async(this, null, function* () {
      console.debug("Grid.onLeft");
      const j = this.getActiveColumn();
      if (j - 1 >= 0) {
        this.setActiveColumn(j - 1);
        yield this.rerender();
      }
    });
  }
  onUp() {
    return __async(this, null, function* () {
      console.debug("Grid.onUp");
      const key = this.getActiveRowKey();
      const row = this.findRow(key);
      const i = this.props.rows.indexOf(row);
      if (i - 1 >= 0) {
        const pRow = this.props.rows[i - 1];
        const pKey = this.getRowKey(pRow);
        this.setActiveRowKey(pKey);
        yield this.rerender();
      }
    });
  }
  onRight() {
    return __async(this, null, function* () {
      console.debug("Grid.onRight");
      const j = this.getActiveColumn();
      if (j + 1 <= this.props.columns.length - 1) {
        this.setActiveColumn(j + 1);
        yield this.rerender();
      }
    });
  }
  onDown() {
    return __async(this, null, function* () {
      console.debug("Grid.onDown");
      const key = this.getActiveRowKey();
      const row = this.findRow(key);
      const i = this.props.rows.indexOf(row);
      if (i + 1 <= this.props.rows.length - 1) {
        const nRow = this.props.rows[i + 1];
        const nKey = this.getRowKey(nRow);
        this.setActiveRowKey(nKey);
        yield this.rerender();
      }
    });
  }
  onEnter() {
    return __async(this, null, function* () {
      console.debug("Grid.onEnter");
      const key = this.getActiveRowKey();
      const row = this.findRow(key);
      if (this.props.onDoubleClick) {
        yield this.props.onDoubleClick(row, key);
      }
    });
  }
  onDelete() {
    return __async(this, null, function* () {
      console.debug("Grid.onDelete");
      const key = this.getActiveRowKey();
      const row = this.findRow(key);
      if (this.props.onDeleteKeyDown) {
        yield this.props.onDeleteKeyDown(row, key);
      }
    });
  }
  selectCell(key, j) {
    return __async(this, null, function* () {
      if (this.getActiveRowKey() === key && this.getActiveColumn() === j)
        return;
      this.setActiveRowKey(key);
      this.setActiveColumn(j);
      if (this.props.onSelectionChange) {
        yield this.props.onSelectionChange(key);
      } else {
        yield this.rerender();
      }
    });
  }
  selectRow(key) {
    return __async(this, null, function* () {
      if (this.getActiveRowKey() === key)
        return;
      this.setActiveRowKey(key);
      if (this.props.onSelectionChange) {
        yield this.props.onSelectionChange(key);
      } else {
        yield this.rerender();
      }
    });
  }
  getMaxColumnWidth(column) {
    return Math.max(...this.columns[column.name].map((view) => view.getSpanOffsetWidth())) + 10 + 2;
  }
  getColumnWidth(i) {
    const column = this.props.columns[i];
    if (this.state.columnWidth[column.name] !== void 0) {
      return this.state.columnWidth[column.name];
    }
    return column.width;
  }
  renderColumns() {
    return this.props.columns.map((column, i) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "div",
      {
        className: `${this.getCssBlockName()}__th`,
        style: { width: this.getColumnWidth(i) },
        children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "ellipsis", style: { textAlign: column.align }, children: column.title || column.name }),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
            "span",
            {
              className: "Grid__resize",
              "data-i": i,
              onDoubleClick: this.onResizeDoubleClick
            }
          )
        ]
      },
      column.name
    ));
  }
  renderRows() {
    return this.props.rows.map((row, i) => {
      const key = this.getRowKey(row);
      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        _GridRow_GridRow__WEBPACK_IMPORTED_MODULE_4__.GridRow,
        {
          rowKey: key,
          grid: this,
          row,
          i,
          active: this.isRowActive(i, key),
          activeColumn: this.getActiveColumn(),
          updated: this.props.updated,
          resized: this.state.resized
        },
        key
      );
    });
  }
  getRowKey(row) {
    if (this.props.getRowKey) {
      return this.props.getRowKey(row);
    }
    return this.props.rows.indexOf(row).toString();
  }
  renderCell(row, column) {
    let view;
    if (this.props.renderGridCellView) {
      view = this.props.renderGridCellView(
        row,
        column,
        this.onCellViewCreate,
        this.onCellViewUnmount
      );
    }
    if (view)
      return view;
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      _GridCell_GridCell__WEBPACK_IMPORTED_MODULE_5__.GridCell,
      {
        grid: this,
        row,
        column,
        onCreate: this.onCellViewCreate,
        onUnmount: this.onCellViewUnmount
      }
    );
  }
  shouldComponentUpdate(nextProps, nextState) {
    if (this.props.updated) {
      if (nextProps.updated - this.props.updated)
        return true;
      return false;
    }
    return true;
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "div",
      {
        className: `${this.getCssClassNames()} ${this.isDisabled() ? "disabled" : ""}`,
        ref: this.el,
        tabIndex: 0,
        onKeyDown: this.onKeyDown,
        children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__head`, ref: this.head, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__table`, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `${this.getCssBlockName()}__tr`, children: [
            this.props.columns && this.renderColumns(),
            !!this.props.extraColumn && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__th` })
          ] }) }) }),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__body`, onScroll: this.onBodyScroll, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__table`, children: this.props.rows && this.renderRows() }) })
        ]
      }
    );
  }
  isLink() {
    return !!this.props.createLinkCallback;
  }
};
__name(_Grid, "Grid");
let Grid = _Grid;
if (typeof window === "object") {
  window.Grid = Grid;
}


/***/ }),

/***/ "./src/frontend/common/widget/GridCell/GridCell.tsx":
/*!**********************************************************!*\
  !*** ./src/frontend/common/widget/GridCell/GridCell.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GridCell": () => (/* binding */ GridCell)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
/* harmony import */ var _Helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../Helper */ "./src/frontend/common/Helper.ts");
/* harmony import */ var _GridCell_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./GridCell.less */ "./src/frontend/common/widget/GridCell/GridCell.less");
/* harmony import */ var _GridCell_less__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_GridCell_less__WEBPACK_IMPORTED_MODULE_4__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });





const _GridCell = class _GridCell extends _ReactComponent__WEBPACK_IMPORTED_MODULE_2__.ReactComponent {
  constructor(props) {
    super(props);
    this.span = react__WEBPACK_IMPORTED_MODULE_1__.createRef();
  }
  getSpanOffsetWidth() {
    if (!this.span.current)
      return 0;
    return this.span.current.offsetWidth;
  }
  renderCellValue(rawValue) {
    const value = this.props.grid.props.decodeValue ? _Helper__WEBPACK_IMPORTED_MODULE_3__.Helper.decodeValue(rawValue) : rawValue;
    if (typeof value === "boolean")
      return value.toString();
    return value;
  }
  render() {
    const row = this.props.row;
    const column = this.props.column;
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssClassNames()} ellipsis`, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { ref: this.span, children: this.renderCellValue(row[column.name]) }) });
  }
};
__name(_GridCell, "GridCell");
let GridCell = _GridCell;
if (typeof window === "object") {
  window.GridCell = GridCell;
}


/***/ }),

/***/ "./src/frontend/common/widget/GridRow/GridRow.tsx":
/*!********************************************************!*\
  !*** ./src/frontend/common/widget/GridRow/GridRow.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "GridRow": () => (/* binding */ GridRow)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _GridRow = class _GridRow extends _ReactComponent__WEBPACK_IMPORTED_MODULE_1__.ReactComponent {
  isCellActive(j) {
    return this.props.active && this.props.activeColumn === j;
  }
  shouldComponentUpdate(nextProps, nextState) {
    if (this.props.updated) {
      if (nextProps.updated - this.props.updated)
        return true;
      if (nextProps.resized - this.props.resized)
        return true;
      if (this.props.active !== nextProps.active)
        return true;
      if (this.props.active && this.props.activeColumn !== nextProps.activeColumn)
        return true;
      return false;
    }
    return true;
  }
  render() {
    const grid = this.props.grid;
    const row = this.props.row;
    const i = this.props.i;
    const key = this.props.rowKey;
    const link = grid.props.createLinkCallback ? grid.props.createLinkCallback(key) : null;
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "a",
      {
        className: `${grid.getCssBlockName()}__tr ${this.props.active ? "active" : ""}`,
        "data-key": key,
        href: link,
        onClick: grid.onLinkClick,
        children: [
          grid.props.columns.map((column, j) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
            "div",
            {
              className: `${grid.getCssBlockName()}__td ${this.isCellActive(j) ? "active" : ""}`,
              style: { width: grid.getColumnWidth(j) },
              "data-rc": `[${i},${j}]`,
              "data-row": key,
              onMouseDown: grid.onCellMouseDown,
              onDoubleClick: grid.onCellDoubleClick,
              children: grid.renderCell(row, column)
            },
            column.name
          )),
          !!grid.props.extraColumn && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
            "div",
            {
              className: `${grid.getCssBlockName()}__td`,
              "data-r": i,
              "data-row": key,
              onMouseDown: grid.onRowMouseDown,
              onDoubleClick: grid.onRowDoubleClick
            }
          )
        ]
      }
    );
  }
};
__name(_GridRow, "GridRow");
let GridRow = _GridRow;
if (typeof window === "object") {
  window.GridRow = GridRow;
}


/***/ }),

/***/ "./src/frontend/common/widget/Image/Image.tsx":
/*!****************************************************!*\
  !*** ./src/frontend/common/widget/Image/Image.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Image": () => (/* binding */ Image)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
/* harmony import */ var _Image_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Image.less */ "./src/frontend/common/widget/Image/Image.less");
/* harmony import */ var _Image_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_Image_less__WEBPACK_IMPORTED_MODULE_3__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};




const _Image = class _Image extends _ReactComponent__WEBPACK_IMPORTED_MODULE_2__.ReactComponent {
  constructor(props) {
    super(props);
    this.onImgClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("Image.onImgClick");
      if (this.props.onClick) {
        return yield this.props.onClick();
      }
      this.setState((prevState) => {
        if (prevState.classList) {
          return { classList: null };
        } else {
          return { classList: ["Image_full"] };
        }
      });
    }), "onImgClick");
    this.img = react__WEBPACK_IMPORTED_MODULE_1___default().createRef();
    this.state = { classList: null };
  }
  getNaturalSize() {
    return [this.img.current.naturalWidth, this.img.current.naturalHeight];
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      "img",
      {
        className: this.getCssClassNames(),
        ref: this.img,
        src: this.props.src,
        onClick: this.onImgClick
      }
    );
  }
  /*componentDidMount() {
      console.debug('Image.componentDidMount', this.getNaturalSize());
  }*/
};
__name(_Image, "Image");
let Image = _Image;
if (typeof window === "object") {
  window.Image = Image;
}


/***/ }),

/***/ "./src/frontend/common/widget/Menu/Menu.tsx":
/*!**************************************************!*\
  !*** ./src/frontend/common/widget/Menu/Menu.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Menu": () => (/* binding */ Menu)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
/* harmony import */ var _Menu_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Menu.less */ "./src/frontend/common/widget/Menu/Menu.less");
/* harmony import */ var _Menu_less__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Menu_less__WEBPACK_IMPORTED_MODULE_2__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};



const _Menu = class _Menu extends _ReactComponent__WEBPACK_IMPORTED_MODULE_1__.ReactComponent {
  constructor(props) {
    super(props);
    this.onMenuClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      yield this.toggleMenu(e.currentTarget.dataset.menu);
    }), "onMenuClick");
    this.onBlur = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      yield this.closeMenu(e.currentTarget.dataset.menu);
    }), "onBlur");
    this.onMouseDown = /* @__PURE__ */ __name((e) => {
      e.preventDefault();
    }, "onMouseDown");
    this.onMenuItemClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      e.persist();
      const { menu, type, name } = e.target.dataset;
      yield this.closeMenu(menu);
      if (this.props.onClick) {
        this.props.onClick(menu, type, name);
      }
    }), "onMenuItemClick");
    this.state = {};
  }
  toggleMenu(menu) {
    return new Promise((resolve) => {
      this.setState(
        (prevState) => ({
          [menu]: !prevState[menu]
        }),
        resolve
      );
    });
  }
  closeMenu(menu) {
    return new Promise((resolve) => this.setState({ [menu]: false }, resolve));
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "Menu", children: this.props.items && this.props.items.map((menu) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "div",
      {
        className: this.state[menu.name] ? "active" : void 0,
        children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
            "button",
            {
              "data-menu": menu.name,
              onClick: this.onMenuClick,
              onBlur: this.onBlur,
              children: menu.title
            }
          ),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { onMouseDown: this.onMouseDown, onClick: this.onMenuItemClick, children: menu.items.map((item) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
            "a",
            {
              "data-menu": menu.name,
              "data-type": item.type,
              "data-name": item.name,
              children: item.title
            },
            item.name
          )) })
        ]
      },
      menu.name
    )) });
  }
};
__name(_Menu, "Menu");
let Menu = _Menu;
if (typeof window === "object") {
  window.Menu = Menu;
}


/***/ }),

/***/ "./src/frontend/common/widget/Modal/Modal.tsx":
/*!****************************************************!*\
  !*** ./src/frontend/common/widget/Modal/Modal.tsx ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Modal": () => (/* binding */ Modal)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
/* harmony import */ var _Modal_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Modal.less */ "./src/frontend/common/widget/Modal/Modal.less");
/* harmony import */ var _Modal_less__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Modal_less__WEBPACK_IMPORTED_MODULE_2__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _Modal = class _Modal extends _ReactComponent__WEBPACK_IMPORTED_MODULE_1__.ReactComponent {
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: this.getCssClassNames(), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__container`, children: this.props.children }) });
  }
};
__name(_Modal, "Modal");
let Modal = _Modal;
if (typeof window === "object") {
  window.Modal = Modal;
}


/***/ }),

/***/ "./src/frontend/common/widget/Password/Password.tsx":
/*!**********************************************************!*\
  !*** ./src/frontend/common/widget/Password/Password.tsx ***!
  \**********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Password": () => (/* binding */ Password)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
/* harmony import */ var _icon_CloseIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../icon/CloseIcon */ "./src/frontend/common/icon/CloseIcon.tsx");
/* harmony import */ var _icon_VisibilityIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../icon/VisibilityIcon */ "./src/frontend/common/icon/VisibilityIcon.tsx");
/* harmony import */ var _icon_VisibilityOffIcon__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../icon/VisibilityOffIcon */ "./src/frontend/common/icon/VisibilityOffIcon.tsx");
/* harmony import */ var _Password_less__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Password.less */ "./src/frontend/common/widget/Password/Password.less");
/* harmony import */ var _Password_less__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_Password_less__WEBPACK_IMPORTED_MODULE_6__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });







const _Password = class _Password extends _ReactComponent__WEBPACK_IMPORTED_MODULE_2__.ReactComponent {
  constructor(props) {
    super(props);
    this.onChange = /* @__PURE__ */ __name((e) => {
      this._setValue(e.target.value);
    }, "onChange");
    this.onCloseClick = /* @__PURE__ */ __name((e) => {
      this._setValue("");
      this.getInputElement().focus();
    }, "onCloseClick");
    this.onIconClick = /* @__PURE__ */ __name((e) => {
      this.setState((prevState) => {
        return {
          type: prevState.type === "password" ? "text" : "password"
        };
      });
      this.getInputElement().focus();
    }, "onIconClick");
    this.el = react__WEBPACK_IMPORTED_MODULE_1__.createRef();
    this.inputEl = react__WEBPACK_IMPORTED_MODULE_1__.createRef();
    this.state = {
      value: this.props.value || "",
      type: "password"
    };
  }
  getInputElement() {
    return this.inputEl.current;
  }
  getValue() {
    return this.state.value;
  }
  _setValue(value) {
    this.state.value = value;
    this.forceUpdate();
    if (this.props.onChange) {
      this.props.onChange(value);
    }
  }
  shouldComponentUpdate(nextProps, nextState) {
    this.state.value = nextProps.value;
    return true;
  }
  isCloseVisible() {
    return this.state.value !== "";
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { ref: this.el, className: this.getCssClassNames(), children: [
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        "input",
        {
          ref: this.inputEl,
          className: `${this.getCssBlockName()}__input`,
          type: this.state.type,
          id: this.props.id,
          name: this.props.name,
          readOnly: this.props.readOnly,
          disabled: this.props.disabled,
          placeholder: this.props.placeholder,
          autoFocus: this.props.autoFocus,
          spellCheck: this.props.spellCheck,
          autoComplete: this.props.autocomplete,
          value: this.state.value,
          onFocus: this.props.onFocus,
          onBlur: this.props.onBlur,
          onChange: this.onChange
        }
      ),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        "div",
        {
          className: `${this.getCssBlockName()}__close ${this.isCloseVisible() ? "visible" : ""}`,
          onClick: this.onCloseClick,
          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_icon_CloseIcon__WEBPACK_IMPORTED_MODULE_3__.CloseIcon, {})
        }
      ),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__icon`, onClick: this.onIconClick, children: this.state.type === "password" ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_icon_VisibilityIcon__WEBPACK_IMPORTED_MODULE_4__.VisibilityIcon, {}) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_icon_VisibilityOffIcon__WEBPACK_IMPORTED_MODULE_5__.VisibilityOffIcon, {}) })
    ] });
  }
};
__name(_Password, "Password");
let Password = _Password;
if (typeof window === "object") {
  window.Password = Password;
}


/***/ }),

/***/ "./src/frontend/common/widget/PhoneBox.tsx":
/*!*************************************************!*\
  !*** ./src/frontend/common/widget/PhoneBox.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PhoneBox": () => (/* binding */ PhoneBox)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _PhoneBox = class _PhoneBox extends _ReactComponent__WEBPACK_IMPORTED_MODULE_2__.ReactComponent {
  constructor(props) {
    super(props);
    this.onKeyPress = /* @__PURE__ */ __name((e) => {
      if (!["+", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9"].includes(e.key)) {
        e.preventDefault();
      }
      if (e.key === "+" && e.target.value.length && Math.abs(e.target.selectionEnd - e.target.selectionStart) !== e.target.value.length) {
        e.preventDefault();
      }
    }, "onKeyPress");
    this.onChange = /* @__PURE__ */ __name((e) => {
      const start = e.target.selectionStart;
      const end = e.target.selectionEnd;
      const len = e.target.value.length;
      if (start !== end || start !== len) {
        return;
      }
      let value = _PhoneBox.clearValue(e.target.value);
      value = _PhoneBox.ifNoCodeAddRussianCode(value);
      this.state.value = _PhoneBox.formatPhoneNumber(value);
      this.setState({ value: this.state.value });
      if (this.props.onChange) {
        this.props.onChange(value);
      }
    }, "onChange");
    this.onBlur = /* @__PURE__ */ __name((e) => {
      let value = _PhoneBox.clearValue(e.target.value);
      value = _PhoneBox.ifNoCodeAddRussianCode(value);
      if (this.props.onBlur) {
        this.props.onBlur(value);
      }
    }, "onBlur");
    this.el = react__WEBPACK_IMPORTED_MODULE_1___default().createRef();
    this.state = {
      value: _PhoneBox.formatPhoneNumber(this.props.value || "")
    };
  }
  getValue() {
    return _PhoneBox.clearValue(this.state.value);
  }
  shouldComponentUpdate(nextProps, nextState) {
    if (nextProps.value !== void 0) {
      this.state.value = _PhoneBox.formatPhoneNumber(nextProps.value);
    }
    return true;
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      "input",
      {
        ref: this.el,
        className: this.getCssClassNames(),
        type: "text",
        id: this.props.id,
        name: this.props.name,
        readOnly: this.props.readOnly,
        disabled: this.props.disabled,
        placeholder: this.props.placeholder,
        autoFocus: this.props.autoFocus,
        spellCheck: this.props.spellCheck,
        autoComplete: this.props.autocomplete,
        value: this.state.value,
        onFocus: this.props.onFocus,
        onChange: this.onChange,
        onBlur: this.onBlur,
        onKeyPress: this.onKeyPress
      }
    );
  }
  static clearValue(value) {
    return value.replace(/[^\+0-9]/g, "");
  }
  static ifNoCodeAddRussianCode(value) {
    if (value === "") {
    } else if (value.match(/^8/)) {
      return value.replace(/^8/, "+7");
    } else if (value.match(/^7/)) {
      return `+${value}`;
    } else if (value[0] !== "+") {
      return `+7${value}`;
    }
    return value;
  }
  static formatPhoneNumber(_value) {
    const value = _PhoneBox.clearValue(_value);
    const arr = /(^\+7)(\d{0,3})(\d{0,3})(\d{0,2})(\d{0,2})/.exec(value);
    if (arr) {
      if (arr[5]) {
        return `${arr[1]} ${arr[2]} ${arr[3]}-${arr[4]}-${arr[5]}`;
      }
      if (arr[4]) {
        return `${arr[1]} ${arr[2]} ${arr[3]}-${arr[4]}`;
      }
      if (arr[3]) {
        return `${arr[1]} ${arr[2]} ${arr[3]}`;
      }
      if (arr[2]) {
        return `${arr[1]} ${arr[2]}`;
      }
      if (arr[1]) {
        return `${arr[1]}`;
      }
    }
    return value;
  }
};
__name(_PhoneBox, "PhoneBox");
let PhoneBox = _PhoneBox;
if (typeof window === "object") {
  window.PhoneBox = PhoneBox;
}


/***/ }),

/***/ "./src/frontend/common/widget/Radio.tsx":
/*!**********************************************!*\
  !*** ./src/frontend/common/widget/Radio.tsx ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Radio": () => (/* binding */ Radio)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};


const _Radio = class _Radio extends _ReactComponent__WEBPACK_IMPORTED_MODULE_1__.ReactComponent {
  constructor(props) {
    super(props);
    this.onChange = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      this.setState({ value: e.target.value });
      if (this.props.onChange) {
        yield this.props.onChange(e.target.value);
      }
    }), "onChange");
    if (!props.name)
      throw new Error("no name");
    this.state = {
      value: this.getInitialValue()
    };
    console.debug("value:", JSON.stringify(this.getValue()));
  }
  getInitialValue() {
    let value = null;
    if (this.props.value !== void 0 && this.props.value !== null) {
      value = this.props.value;
      const item = this.props.items.find((item2) => item2.value === this.props.value);
      if (!item) {
        console.error(`Radio: no item for value:`, JSON.stringify(this.props.value));
        console.debug("items:", this.props.items);
      }
    }
    return value;
  }
  getValue() {
    return this.state.value;
  }
  renderItem(item, i) {
    return [
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        "input",
        {
          type: "radio",
          name: this.props.name,
          id: `${this.props.name}${i}`,
          value: item.value,
          onChange: this.onChange,
          checked: item.value === this.getValue(),
          readOnly: this.isReadOnly(),
          disabled: this.isReadOnly()
        }
      ),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("label", { htmlFor: `${this.props.name}${i}`, children: item.title || item.value })
    ];
  }
  isReadOnly() {
    if (this.props.readOnly !== void 0)
      return this.props.readOnly;
    return false;
  }
  shouldComponentUpdate(nextProps, nextState) {
    this.state.value = nextProps.value;
    return true;
  }
  render() {
    const items = this.props.items || [];
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: this.getCssClassNames(), children: items.map((item, i) => this.renderItem(item, i)) });
  }
};
__name(_Radio, "Radio");
let Radio = _Radio;


/***/ }),

/***/ "./src/frontend/common/widget/Select/Select.tsx":
/*!******************************************************!*\
  !*** ./src/frontend/common/widget/Select/Select.tsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Select": () => (/* binding */ Select)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
/* harmony import */ var _icon_CloseIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../icon/CloseIcon */ "./src/frontend/common/icon/CloseIcon.tsx");
/* harmony import */ var _icon_ArrowIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../icon/ArrowIcon */ "./src/frontend/common/icon/ArrowIcon.tsx");
/* harmony import */ var _Select_less__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Select.less */ "./src/frontend/common/widget/Select/Select.less");
/* harmony import */ var _Select_less__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_Select_less__WEBPACK_IMPORTED_MODULE_5__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};






const _Select = class _Select extends _ReactComponent__WEBPACK_IMPORTED_MODULE_2__.ReactComponent {
  constructor(props) {
    super(props);
    this.onKeyDown = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      if (this.isVisible()) {
        this.setState({ visible: false });
        e.stopPropagation();
      }
    }), "onKeyDown");
    this.onInputMouseDown = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("Select.onInputMouseDown");
      if (this.props.readOnly)
        return;
      if (this.props.onMouseDown) {
        yield this.props.onMouseDown(e);
      } else {
        if (!this.isVisible()) {
          const [selected] = this.el.current.querySelectorAll("li.selected");
          if (selected) {
            const scrollTop = selected.offsetTop - this.dropdown.current.getBoundingClientRect().height / 2 + selected.getBoundingClientRect().height / 2;
            console.debug("scrollTop:", scrollTop);
            this.dropdown.current.scrollTop = scrollTop;
            console.debug(
              "this.dropdown.current.scrollTop",
              this.dropdown.current.scrollTop
            );
          }
        }
        this.setState((prevState) => {
          return { visible: !prevState.visible };
        });
      }
    }), "onInputMouseDown");
    this.onInputBlur = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("Select.onInputBlur", e.target);
      this.setState({ visible: false });
    }), "onInputBlur");
    this.onDropdownMouseDown = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      e.preventDefault();
    }), "onDropdownMouseDown");
    this.onDropdownClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("Select.onDropdownClick", e.target.offsetTop);
      const value = JSON.parse(e.target.dataset.value);
      this.setState({ value, visible: false }, () => __async(this, null, function* () {
        if (this.props.onChange) {
          yield this.props.onChange(value.toString());
        }
      }));
    }), "onDropdownClick");
    this.onCloseClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      this.setState({ value: "" });
      if (this.props.onChange) {
        yield this.props.onChange("");
      }
      this.getElement();
    }), "onCloseClick");
    this.el = react__WEBPACK_IMPORTED_MODULE_1___default().createRef();
    this.dropdown = react__WEBPACK_IMPORTED_MODULE_1___default().createRef();
    this.state = {
      value: this.getInitialValue(),
      visible: false
    };
  }
  isVisible() {
    return this.state.visible;
  }
  getInitialValue() {
    let value = null;
    if (this.props.value !== void 0 && this.props.value !== null) {
      value = this.props.value;
      const item = this.getItems().find((item2) => item2.value === this.props.value);
      if (!item) {
        if (this.isNullable() && value === "") {
        } else {
          console.error(`Select: no item for value:`, JSON.stringify(this.props.value));
          console.debug("items:", this.getItems());
        }
      }
    } else {
      if (this.isNullable()) {
        value = "";
      } else {
        if (this.props.items.length) {
          value = this.props.items[0].value;
        } else {
          value = "";
        }
      }
    }
    if (value === null)
      throw new Error("null is wrong value for Select");
    return value;
  }
  getValue() {
    return this.state.value;
  }
  isNullable() {
    return this.props.nullable !== void 0 ? this.props.nullable : true;
  }
  getVisibility() {
    return this.isVisible() ? "visible" : "hidden";
  }
  getDisplay() {
    return this.isVisible() ? "block" : "none";
  }
  getItems() {
    return this.props.items || [];
  }
  getValueTitle(value) {
    if (value === "")
      return "";
    const item = this.getItems().find((item2) => item2.value === value);
    if (!item)
      throw new Error(`cannot find item by value: ${value}`);
    return item.title || item.value;
  }
  shouldComponentUpdate(nextProps, nextState) {
    this.state.value = nextProps.value;
    return true;
  }
  isCloseVisible() {
    if (this.props.readOnly)
      return false;
    return this.state.value !== "";
  }
  renderInput() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      "input",
      {
        className: `${this.getCssBlockName()}__input`,
        readOnly: true,
        disabled: this.props.readOnly,
        placeholder: this.props.placeholder,
        onBlur: this.onInputBlur,
        value: this.getValueTitle(this.getValue()),
        onMouseDown: this.onInputMouseDown,
        onKeyDown: this.onKeyDown
      }
    );
  }
  renderClose() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      "div",
      {
        className: `${this.getCssBlockName()}__close ${this.isCloseVisible() ? "visible" : ""}`,
        onClick: this.onCloseClick,
        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_icon_CloseIcon__WEBPACK_IMPORTED_MODULE_3__.CloseIcon, {})
      }
    );
  }
  renderIcon() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__icon ${this.isVisible() ? "up" : ""}`, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_icon_ArrowIcon__WEBPACK_IMPORTED_MODULE_4__.ArrowIcon, {}) });
  }
  renderDropdown() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "ul",
      {
        ref: this.dropdown,
        className: `${this.getCssBlockName()}__dropdown`,
        style: {
          display: this.getDisplay()
        },
        onMouseDown: this.onDropdownMouseDown,
        onClick: this.onDropdownClick,
        children: [
          this.isNullable() && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("li", { className: `${this.getCssBlockName()}__item`, "data-value": '""', children: "\xA0" }),
          this.getItems().map((item) => {
            return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
              "li",
              {
                className: `${this.getCssBlockName()}__item ellipsis ${this.getValue() === item.value ? "selected" : ""}`,
                "data-value": JSON.stringify(item.value),
                children: item.title || item.value
              },
              item.value
            );
          })
        ]
      }
    );
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { ref: this.el, className: this.getCssClassNames(), children: [
      this.renderInput(),
      this.isNullable() && this.renderClose(),
      this.renderIcon(),
      this.renderDropdown()
    ] });
  }
};
__name(_Select, "Select");
let Select = _Select;
if (typeof window === "object") {
  window.Select = Select;
}


/***/ }),

/***/ "./src/frontend/common/widget/Slider/Slider.tsx":
/*!******************************************************!*\
  !*** ./src/frontend/common/widget/Slider/Slider.tsx ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Slider": () => (/* binding */ Slider)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
/* harmony import */ var _icon_LeftIcon__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../icon/LeftIcon */ "./src/frontend/common/icon/LeftIcon.tsx");
/* harmony import */ var _icon_RightIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../icon/RightIcon */ "./src/frontend/common/icon/RightIcon.tsx");
/* harmony import */ var _icon_CloseIcon2__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../icon/CloseIcon2 */ "./src/frontend/common/icon/CloseIcon2.tsx");
/* harmony import */ var _Slider_less__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Slider.less */ "./src/frontend/common/widget/Slider/Slider.less");
/* harmony import */ var _Slider_less__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_Slider_less__WEBPACK_IMPORTED_MODULE_5__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });






const _Slider = class _Slider extends _ReactComponent__WEBPACK_IMPORTED_MODULE_1__.ReactComponent {
  constructor(props) {
    super(props);
    this.onPrevClick = /* @__PURE__ */ __name((e) => {
      this.setState((prevState) => {
        let image = prevState.image - 1;
        if (image < 0) {
          image = this.props.images.length - 1;
        }
        return { image };
      });
    }, "onPrevClick");
    this.onNextClick = /* @__PURE__ */ __name((e) => {
      this.setState((prevState) => {
        let image = prevState.image + 1;
        if (image > this.props.images.length - 1) {
          image = 0;
        }
        return { image };
      });
    }, "onNextClick");
    this.onImageClick = /* @__PURE__ */ __name((e) => {
      console.debug("Slider.onImageClick");
      if (this.state.classList) {
        this.setState({ classList: null });
      } else {
        this.setState({ classList: ["full"] });
      }
    }, "onImageClick");
    this.onCloseClick = /* @__PURE__ */ __name((e) => {
      this.setState({ classList: null });
    }, "onCloseClick");
    if (!this.props.images)
      throw new Error("Slider: no images");
    this.state = { image: 0, classList: null };
  }
  render() {
    const images = this.props.images || [];
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: this.getCssClassNames(), children: [
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        "img",
        {
          className: "Slider_image",
          src: images[this.state.image],
          onClick: this.onImageClick
        }
      ),
      images.length > 1 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "Slider__label", children: [
        images.length > 0 ? this.state.image + 1 : 0,
        " / ",
        images.length
      ] }),
      images.length > 1 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "Slider__arrow left", onClick: this.onPrevClick, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_icon_LeftIcon__WEBPACK_IMPORTED_MODULE_2__.LeftIcon, {}) }),
      images.length > 1 && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "Slider__arrow right", onClick: this.onNextClick, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_icon_RightIcon__WEBPACK_IMPORTED_MODULE_3__.RightIcon, {}) }),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "Slider__close", onClick: this.onCloseClick, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_icon_CloseIcon2__WEBPACK_IMPORTED_MODULE_4__.CloseIcon2, {}) })
    ] });
  }
};
__name(_Slider, "Slider");
let Slider = _Slider;
if (typeof window === "object") {
  window.Slider = Slider;
}


/***/ }),

/***/ "./src/frontend/common/widget/Statusbar/Statusbar.tsx":
/*!************************************************************!*\
  !*** ./src/frontend/common/widget/Statusbar/Statusbar.tsx ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Statusbar": () => (/* binding */ Statusbar)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
/* harmony import */ var _Statusbar_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Statusbar.less */ "./src/frontend/common/widget/Statusbar/Statusbar.less");
/* harmony import */ var _Statusbar_less__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Statusbar_less__WEBPACK_IMPORTED_MODULE_2__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _Statusbar = class _Statusbar extends _ReactComponent__WEBPACK_IMPORTED_MODULE_1__.ReactComponent {
  constructor(props) {
    super(props);
    this.state = {};
  }
  setLastQueryTime(lastQueryTime) {
    this.setState({ lastQueryTime });
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "Statusbar", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { children: [
      "Last query time:",
      " ",
      this.state.lastQueryTime ? `${this.state.lastQueryTime} ms` : "-"
    ] }) });
  }
};
__name(_Statusbar, "Statusbar");
let Statusbar = _Statusbar;
if (typeof window === "object") {
  window.Statusbar = Statusbar;
}


/***/ }),

/***/ "./src/frontend/common/widget/Tab/Tab.tsx":
/*!************************************************!*\
  !*** ./src/frontend/common/widget/Tab/Tab.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Tab": () => (/* binding */ Tab)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
/* harmony import */ var _Tab_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Tab.less */ "./src/frontend/common/widget/Tab/Tab.less");
/* harmony import */ var _Tab_less__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Tab_less__WEBPACK_IMPORTED_MODULE_2__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _Tab = class _Tab extends _ReactComponent__WEBPACK_IMPORTED_MODULE_1__.ReactComponent {
  constructor(props) {
    super(props);
    this.onLiMouseDown = /* @__PURE__ */ __name((e) => {
      if (e.target.classList.contains("close"))
        return;
      const i = parseInt(e.currentTarget.dataset.i);
      if (this.props.getActive) {
        if (this.props.onTabMouseDown)
          this.props.onTabMouseDown(i);
      } else {
        if (i !== this.getActive()) {
          this.selectTab(i);
        }
      }
    }, "onLiMouseDown");
    this.onLiClick = /* @__PURE__ */ __name((e) => {
      if (e.target.classList.contains("close")) {
        const i = parseInt(e.currentTarget.dataset.i);
        if (this.props.onTabClose)
          this.props.onTabClose(i);
      }
    }, "onLiClick");
    this.state = {
      active: 0
    };
  }
  getActive() {
    if (this.props.getActive)
      return this.props.getActive();
    return this.state.active;
  }
  selectTab(i) {
    if (i === this.getActive())
      return;
    const start = Date.now();
    this.setState({ active: i }, () => console.debug("selectTab time:", Date.now() - start));
  }
  renderTitles() {
    return this.props.tabs.map((tab, i) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "li",
      {
        className: i === this.getActive() ? "active" : void 0,
        onMouseDown: this.onLiMouseDown,
        onClick: this.onLiClick,
        "data-i": i,
        children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: tab.title }),
          this.props.canClose && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "close", children: "\xD7" })
        ]
      },
      tab.name
    ));
  }
  renderContents() {
    return this.props.tabs.map((tab, i) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: i === this.getActive() ? "active" : void 0, children: tab.content }, tab.name));
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: this.getCssClassNames(), children: [
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("ul", { children: this.props.tabs && this.renderTitles() }),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { children: this.props.tabs && this.renderContents() })
    ] });
  }
};
__name(_Tab, "Tab");
let Tab = _Tab;
if (typeof window === "object") {
  window.Tab = Tab;
}


/***/ }),

/***/ "./src/frontend/common/widget/Tab2/Tab2.tsx":
/*!**************************************************!*\
  !*** ./src/frontend/common/widget/Tab2/Tab2.tsx ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Tab2": () => (/* binding */ Tab2)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
/* harmony import */ var _Tab2_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Tab2.less */ "./src/frontend/common/widget/Tab2/Tab2.less");
/* harmony import */ var _Tab2_less__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Tab2_less__WEBPACK_IMPORTED_MODULE_2__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _Tab2 = class _Tab2 extends _ReactComponent__WEBPACK_IMPORTED_MODULE_1__.ReactComponent {
  constructor(props) {
    super(props);
    this.onLiMouseDown = /* @__PURE__ */ __name((e) => {
      if (e.target.classList.contains("close"))
        return;
      const i = parseInt(e.currentTarget.dataset.i);
      if (this.props.getActive) {
        if (this.props.onTabMouseDown)
          this.props.onTabMouseDown(i);
      } else {
        if (i !== this.getActive()) {
          this.selectTab(i);
        }
      }
    }, "onLiMouseDown");
    this.onLiClick = /* @__PURE__ */ __name((e) => {
      if (e.target.classList.contains("close")) {
        const i = parseInt(e.currentTarget.dataset.i);
        if (this.props.onTabClose)
          this.props.onTabClose(i);
      }
    }, "onLiClick");
    this.state = {
      active: 0
    };
  }
  getActive() {
    if (this.props.getActive)
      return this.props.getActive();
    return this.state.active;
  }
  selectTab(i) {
    if (i === this.getActive())
      return;
    const start = Date.now();
    this.setState({ active: i }, () => console.debug("selectTab time:", Date.now() - start));
  }
  renderTitles() {
    return this.props.tabs.map((tab, i) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "li",
      {
        className: `${this.getCssBlockName()}__button ${i === this.getActive() ? "active" : ""}`,
        onMouseDown: this.onLiMouseDown,
        onClick: this.onLiClick,
        "data-i": i,
        children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { children: tab.title }),
          this.props.canClose && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: "close", children: "\xD7" })
        ]
      },
      tab.name
    ));
  }
  renderContents() {
    return this.props.tabs.map((tab, i) => /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      "div",
      {
        className: `${this.getCssBlockName()}__page full ${i === this.getActive() ? "active" : ""}`,
        children: tab.content
      },
      tab.name
    ));
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: this.getCssClassNames(), children: [
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("ul", { className: `${this.getCssBlockName()}__buttons`, children: this.props.tabs && this.renderTitles() }),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__pages`, children: this.props.tabs && this.renderContents() })
    ] });
  }
};
__name(_Tab2, "Tab2");
let Tab2 = _Tab2;
if (typeof window === "object") {
  window.Tab2 = Tab2;
}


/***/ }),

/***/ "./src/frontend/common/widget/TextArea.tsx":
/*!*************************************************!*\
  !*** ./src/frontend/common/widget/TextArea.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextArea": () => (/* binding */ TextArea)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _TextArea = class _TextArea extends _ReactComponent__WEBPACK_IMPORTED_MODULE_1__.ReactComponent {
  constructor(props) {
    super(props);
    this.onChange = /* @__PURE__ */ __name((e) => {
      this.setState({ value: e.target.value });
      if (this.props.onChange) {
        this.props.onChange(e.target.value);
      }
    }, "onChange");
    this.state = {
      value: this.props.value || ""
    };
  }
  getValue() {
    return this.state.value;
  }
  shouldComponentUpdate(nextProps, nextState) {
    this.state.value = nextProps.value;
    return true;
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      "textarea",
      {
        className: this.getCssClassNames(),
        readOnly: this.props.readOnly,
        disabled: this.props.disabled,
        placeholder: this.props.placeholder,
        rows: this.props.rows,
        cols: this.props.cols,
        value: this.state.value,
        onChange: this.onChange,
        onFocus: this.props.onFocus,
        onBlur: this.props.onBlur
      }
    );
  }
};
__name(_TextArea, "TextArea");
let TextArea = _TextArea;
if (typeof window === "object") {
  window.TextArea = TextArea;
}


/***/ }),

/***/ "./src/frontend/common/widget/TextBox.tsx":
/*!************************************************!*\
  !*** ./src/frontend/common/widget/TextBox.tsx ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextBox": () => (/* binding */ TextBox)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _TextBox = class _TextBox extends _ReactComponent__WEBPACK_IMPORTED_MODULE_2__.ReactComponent {
  constructor(props) {
    super(props);
    this.onChange = /* @__PURE__ */ __name((e) => {
      this._setValue(e.target.value);
    }, "onChange");
    this.el = (0,react__WEBPACK_IMPORTED_MODULE_1__.createRef)();
    this.state = {
      value: this.props.value || ""
    };
  }
  getValue() {
    return this.state.value;
  }
  _setValue(value) {
    this.state.value = value;
    this.forceUpdate();
    if (this.props.onChange) {
      this.props.onChange(value);
    }
  }
  shouldComponentUpdate(nextProps, nextState) {
    this.state.value = nextProps.value;
    return true;
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      "input",
      {
        ref: this.el,
        className: this.getCssClassNames(),
        type: this.props.type || "text",
        id: this.props.id,
        name: this.props.name,
        readOnly: this.props.readOnly,
        disabled: this.isDisabled(),
        placeholder: this.props.placeholder,
        autoFocus: this.props.autoFocus,
        spellCheck: this.props.spellCheck,
        autoComplete: this.props.autocomplete,
        required: this.props.required,
        value: this.state.value,
        onFocus: this.props.onFocus,
        onBlur: this.props.onBlur,
        onChange: this.onChange
      }
    );
  }
};
__name(_TextBox, "TextBox");
let TextBox = _TextBox;
if (typeof window === "object") {
  window.TextBox = TextBox;
}


/***/ }),

/***/ "./src/frontend/common/widget/TimeBox/TimeBox.tsx":
/*!********************************************************!*\
  !*** ./src/frontend/common/widget/TimeBox/TimeBox.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TimeBox": () => (/* binding */ TimeBox)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _TimeBox = class _TimeBox extends _ReactComponent__WEBPACK_IMPORTED_MODULE_2__.ReactComponent {
  constructor(props) {
    super(props);
    this.onKeyPress = /* @__PURE__ */ __name((event) => {
      if (!["0", "1", "2", "3", "4", "5", "6", "7", "8", "9"].includes(event.key)) {
        console.debug("cancel", event.key);
        event.preventDefault();
      }
    }, "onKeyPress");
    this.onChange = /* @__PURE__ */ __name((e) => {
      const target = e.target;
      const start = target.selectionStart;
      const end = target.selectionEnd;
      if (target.value.length > 5) {
        return;
      }
      const inEnd = start === end && start === target.value.length;
      const stringValue = this.formatValue(target.value);
      this.setState({ value: stringValue }, () => {
        if (!inEnd) {
          target.selectionStart = start;
          target.selectionEnd = end;
        }
        if (this.props.onChange) {
          let nValue;
          try {
            nValue = this.getValue();
          } catch (err) {
            console.debug(err.message);
            nValue = NaN;
          }
          this.props.onChange(nValue);
        }
      });
    }, "onChange");
    this.onBlur = /* @__PURE__ */ __name((e) => {
      if (this.props.onBlur) {
        let nValue;
        try {
          nValue = this.getValue();
        } catch (err) {
          console.debug(err.message);
          nValue = NaN;
        }
        this.props.onBlur(nValue);
      }
    }, "onBlur");
    if (props.value && typeof props.value !== "number") {
      throw new Error(`need number type, got ${typeof props.value}`);
    }
    this.state = {
      value: _TimeBox.getStringValue(props.value)
    };
    this.el = react__WEBPACK_IMPORTED_MODULE_1___default().createRef();
  }
  formatValue(value) {
    let min = "";
    let sec = "";
    const pure = value.replace(":", "");
    switch (pure.length) {
      case 0:
        break;
      case 1:
        min = pure;
        break;
      case 2:
        min = pure;
        break;
      case 3:
        min = pure.substr(0, 2);
        sec = pure.substr(2, 1);
        break;
      case 4:
        min = pure.substr(0, 2);
        sec = pure.substr(2, 2);
        break;
    }
    return [min, ...sec ? [sec] : []].join(":");
  }
  getValue() {
    return _TimeBox.getIntegerValue(this.state.value);
  }
  setValue(value) {
    this.setState({ value: _TimeBox.getStringValue(value) });
  }
  /*onKeyDown = event => {
          console.debug('TimeBox.onKeyDown', event.which, event.target.value.length, event.target.selectionStart, event.target.selectionEnd, event.key);
          const mask = '00:00';
          if ([8, 46, 37, 39, 36, 35].includes(event.which)) return;
          if (event.which < 96 || event.which > 105) {
              console.debug('cancel');
              event.stopPropagation();
              event.preventDefault();
          }
  
          if (event.target.value.length + 1 > mask.length) {
              event.stopPropagation();
              event.preventDefault();
          }
      }*/
  /*onKeyUp = event => {
      console.debug('TimeBox.onKeyUp', event.which, event.target.value.length, event.target.selectionStart, event.target.selectionEnd, event.target.value);
      event.stopPropagation();
      event.preventDefault();
  }*/
  static getStringValue(value) {
    if (value === null)
      return "";
    if (value !== void 0) {
      let h = Math.floor(value / 60);
      let m = Math.floor(value - h * 60);
      if (h < 10)
        h = "0" + h;
      if (m < 10)
        m = "0" + m;
      return `${h}:${m}`;
    }
    return "";
  }
  static getIntegerValue(stringValue) {
    if (stringValue === "")
      return null;
    const arr = stringValue.split(":");
    if (!arr[0])
      throw new Error(`no hours: ${stringValue}`);
    if (!arr[1])
      throw new Error(`no minutes: ${stringValue}`);
    if (arr[0].length !== 2)
      throw new Error(`hours incomplete: ${stringValue}`);
    if (arr[1].length !== 2)
      throw new Error(`minutes incomplete: ${stringValue}`);
    const hh = parseInt(arr[0]);
    const mm = parseInt(arr[1]);
    if (hh > 23)
      throw new Error(`hours out of range: ${mm}, ${stringValue}`);
    if (mm > 59)
      throw new Error(`minutes out of range: ${mm}, ${stringValue}`);
    return hh * 60 + mm;
  }
  static splitTime(value) {
    const hours = Math.floor(value / 60);
    const minutes = value - hours * 60;
    return [hours, minutes];
  }
  shouldComponentUpdate(nextProps, nextState) {
    if (this.props.value !== nextProps.value) {
      this.state.value = _TimeBox.getStringValue(nextProps.value);
      return true;
    }
    if (this.props.readOnly !== nextProps.readOnly)
      return true;
    if (this.props.placeholder !== nextProps.placeholder)
      return true;
    if (this.state.value !== nextState.value)
      return true;
    return false;
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      "input",
      {
        ref: this.el,
        className: this.getCssClassNames(),
        type: "text",
        id: this.props.id,
        readOnly: this.props.readOnly,
        placeholder: this.props.placeholder,
        value: this.state.value,
        onChange: this.onChange,
        onKeyPress: this.onKeyPress,
        onBlur: this.onBlur
      }
    );
  }
};
__name(_TimeBox, "TimeBox");
let TimeBox = _TimeBox;
if (typeof window === "object") {
  window.TimeBox = TimeBox;
}


/***/ }),

/***/ "./src/frontend/common/widget/TimeBox/TimeBox2/TimeBox2.tsx":
/*!******************************************************************!*\
  !*** ./src/frontend/common/widget/TimeBox/TimeBox2/TimeBox2.tsx ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TimeBox2": () => (/* binding */ TimeBox2)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _TimeBox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../TimeBox */ "./src/frontend/common/widget/TimeBox/TimeBox.tsx");
/* harmony import */ var _icon_CloseIcon__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../icon/CloseIcon */ "./src/frontend/common/icon/CloseIcon.tsx");
/* harmony import */ var _icon_TimeIcon__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../icon/TimeIcon */ "./src/frontend/common/icon/TimeIcon.tsx");
/* harmony import */ var _TimeBox2_less__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./TimeBox2.less */ "./src/frontend/common/widget/TimeBox/TimeBox2/TimeBox2.less");
/* harmony import */ var _TimeBox2_less__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_TimeBox2_less__WEBPACK_IMPORTED_MODULE_5__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });






const _TimeBox2 = class _TimeBox2 extends _TimeBox__WEBPACK_IMPORTED_MODULE_2__.TimeBox {
  constructor(props) {
    super(props);
    this.onClear = /* @__PURE__ */ __name((e) => {
      this.setState({ value: "" }, () => {
        if (this.props.onClear) {
          this.props.onClear();
        }
      });
    }, "onClear");
    this.inputEl = react__WEBPACK_IMPORTED_MODULE_1___default().createRef();
  }
  isCloseVisible() {
    return !!this.state.value;
  }
  getInputElement() {
    return this.inputEl.current;
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { ref: this.el, className: this.getCssClassNames(), children: [
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        "input",
        {
          ref: this.inputEl,
          className: `${this.getCssBlockName()}__input`,
          type: "text",
          readOnly: this.props.readOnly,
          placeholder: this.props.placeholder,
          value: this.state.value,
          onChange: this.onChange,
          onKeyPress: this.onKeyPress,
          onBlur: this.onBlur
        }
      ),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        "div",
        {
          className: `${this.getCssBlockName()}__close-icon ${this.isCloseVisible() ? "visible" : ""}`,
          onMouseDown: this.onClear,
          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_icon_CloseIcon__WEBPACK_IMPORTED_MODULE_3__.CloseIcon, {})
        }
      ),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__time-icon`, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_icon_TimeIcon__WEBPACK_IMPORTED_MODULE_4__.TimeIcon, {}) })
    ] });
  }
};
__name(_TimeBox2, "TimeBox2");
let TimeBox2 = _TimeBox2;


/***/ }),

/***/ "./src/frontend/common/widget/Tooltip/Tooltip.tsx":
/*!********************************************************!*\
  !*** ./src/frontend/common/widget/Tooltip/Tooltip.tsx ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Tooltip": () => (/* binding */ Tooltip)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _ReactComponent__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../ReactComponent */ "./src/frontend/common/ReactComponent.tsx");
/* harmony import */ var _Tooltip_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Tooltip.less */ "./src/frontend/common/widget/Tooltip/Tooltip.less");
/* harmony import */ var _Tooltip_less__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_Tooltip_less__WEBPACK_IMPORTED_MODULE_2__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _Tooltip = class _Tooltip extends _ReactComponent__WEBPACK_IMPORTED_MODULE_1__.ReactComponent {
  // constructor(props) {
  //     console.debug('Tooltip.constructor', props);
  //     super(props);
  // }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `Tooltip ${this.props.type} ${this.props.hidden ? "hidden" : ""}`, children: [
      this.props.type !== "alert" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { children: "tooltip" }),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: this.props.position, children: this.props.tip || "tip" })
    ] });
  }
};
__name(_Tooltip, "Tooltip");
let Tooltip = _Tooltip;
if (typeof window === "object") {
  window.Tooltip = Tooltip;
}


/***/ }),

/***/ "./src/frontend/common/widget/index.ts":
/*!*********************************************!*\
  !*** ./src/frontend/common/widget/index.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Box": () => (/* reexport safe */ _Box_Box__WEBPACK_IMPORTED_MODULE_0__.Box),
/* harmony export */   "Button": () => (/* reexport safe */ _Button__WEBPACK_IMPORTED_MODULE_3__.Button),
/* harmony export */   "CheckBox": () => (/* reexport safe */ _CheckBox_CheckBox__WEBPACK_IMPORTED_MODULE_1__.CheckBox),
/* harmony export */   "CheckBoxList": () => (/* reexport safe */ _CheckBoxList__WEBPACK_IMPORTED_MODULE_24__.CheckBoxList),
/* harmony export */   "ComboBox": () => (/* reexport safe */ _ComboBox__WEBPACK_IMPORTED_MODULE_2__.ComboBox),
/* harmony export */   "DatePicker": () => (/* reexport safe */ _DatePicker_DatePicker__WEBPACK_IMPORTED_MODULE_16__.DatePicker),
/* harmony export */   "DropdownButton": () => (/* reexport safe */ _DropdownButton_DropdownButton__WEBPACK_IMPORTED_MODULE_5__.DropdownButton),
/* harmony export */   "DropdownDatePicker": () => (/* reexport safe */ _DropdownDatePicker_DropdownDatePicker__WEBPACK_IMPORTED_MODULE_15__.DropdownDatePicker),
/* harmony export */   "Expand": () => (/* reexport safe */ _Expand_Expand__WEBPACK_IMPORTED_MODULE_26__.Expand),
/* harmony export */   "Grid": () => (/* reexport safe */ _Grid_Grid__WEBPACK_IMPORTED_MODULE_7__.Grid),
/* harmony export */   "GridCell": () => (/* reexport safe */ _GridCell_GridCell__WEBPACK_IMPORTED_MODULE_9__.GridCell),
/* harmony export */   "GridRow": () => (/* reexport safe */ _GridRow_GridRow__WEBPACK_IMPORTED_MODULE_8__.GridRow),
/* harmony export */   "Image": () => (/* reexport safe */ _Image_Image__WEBPACK_IMPORTED_MODULE_23__.Image),
/* harmony export */   "Menu": () => (/* reexport safe */ _Menu_Menu__WEBPACK_IMPORTED_MODULE_12__.Menu),
/* harmony export */   "Modal": () => (/* reexport safe */ _Modal_Modal__WEBPACK_IMPORTED_MODULE_10__.Modal),
/* harmony export */   "Password": () => (/* reexport safe */ _Password_Password__WEBPACK_IMPORTED_MODULE_11__.Password),
/* harmony export */   "PhoneBox": () => (/* reexport safe */ _PhoneBox__WEBPACK_IMPORTED_MODULE_21__.PhoneBox),
/* harmony export */   "Radio": () => (/* reexport safe */ _Radio__WEBPACK_IMPORTED_MODULE_27__.Radio),
/* harmony export */   "Select": () => (/* reexport safe */ _Select_Select__WEBPACK_IMPORTED_MODULE_17__.Select),
/* harmony export */   "Slider": () => (/* reexport safe */ _Slider_Slider__WEBPACK_IMPORTED_MODULE_25__.Slider),
/* harmony export */   "Statusbar": () => (/* reexport safe */ _Statusbar_Statusbar__WEBPACK_IMPORTED_MODULE_13__.Statusbar),
/* harmony export */   "Tab": () => (/* reexport safe */ _Tab_Tab__WEBPACK_IMPORTED_MODULE_4__.Tab),
/* harmony export */   "Tab2": () => (/* reexport safe */ _Tab2_Tab2__WEBPACK_IMPORTED_MODULE_19__.Tab2),
/* harmony export */   "TextArea": () => (/* reexport safe */ _TextArea__WEBPACK_IMPORTED_MODULE_18__.TextArea),
/* harmony export */   "TextBox": () => (/* reexport safe */ _TextBox__WEBPACK_IMPORTED_MODULE_6__.TextBox),
/* harmony export */   "TimeBox": () => (/* reexport safe */ _TimeBox_TimeBox__WEBPACK_IMPORTED_MODULE_20__.TimeBox),
/* harmony export */   "TimeBox2": () => (/* reexport safe */ _TimeBox_TimeBox2_TimeBox2__WEBPACK_IMPORTED_MODULE_22__.TimeBox2),
/* harmony export */   "Tooltip": () => (/* reexport safe */ _Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_14__.Tooltip)
/* harmony export */ });
/* harmony import */ var _Box_Box__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Box/Box */ "./src/frontend/common/widget/Box/Box.tsx");
/* harmony import */ var _CheckBox_CheckBox__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./CheckBox/CheckBox */ "./src/frontend/common/widget/CheckBox/CheckBox.tsx");
/* harmony import */ var _ComboBox__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ComboBox */ "./src/frontend/common/widget/ComboBox.tsx");
/* harmony import */ var _Button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Button */ "./src/frontend/common/widget/Button.tsx");
/* harmony import */ var _Tab_Tab__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Tab/Tab */ "./src/frontend/common/widget/Tab/Tab.tsx");
/* harmony import */ var _DropdownButton_DropdownButton__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./DropdownButton/DropdownButton */ "./src/frontend/common/widget/DropdownButton/DropdownButton.tsx");
/* harmony import */ var _TextBox__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./TextBox */ "./src/frontend/common/widget/TextBox.tsx");
/* harmony import */ var _Grid_Grid__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Grid/Grid */ "./src/frontend/common/widget/Grid/Grid.tsx");
/* harmony import */ var _GridRow_GridRow__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./GridRow/GridRow */ "./src/frontend/common/widget/GridRow/GridRow.tsx");
/* harmony import */ var _GridCell_GridCell__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./GridCell/GridCell */ "./src/frontend/common/widget/GridCell/GridCell.tsx");
/* harmony import */ var _Modal_Modal__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./Modal/Modal */ "./src/frontend/common/widget/Modal/Modal.tsx");
/* harmony import */ var _Password_Password__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Password/Password */ "./src/frontend/common/widget/Password/Password.tsx");
/* harmony import */ var _Menu_Menu__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Menu/Menu */ "./src/frontend/common/widget/Menu/Menu.tsx");
/* harmony import */ var _Statusbar_Statusbar__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Statusbar/Statusbar */ "./src/frontend/common/widget/Statusbar/Statusbar.tsx");
/* harmony import */ var _Tooltip_Tooltip__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Tooltip/Tooltip */ "./src/frontend/common/widget/Tooltip/Tooltip.tsx");
/* harmony import */ var _DropdownDatePicker_DropdownDatePicker__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./DropdownDatePicker/DropdownDatePicker */ "./src/frontend/common/widget/DropdownDatePicker/DropdownDatePicker.tsx");
/* harmony import */ var _DatePicker_DatePicker__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./DatePicker/DatePicker */ "./src/frontend/common/widget/DatePicker/DatePicker.tsx");
/* harmony import */ var _Select_Select__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Select/Select */ "./src/frontend/common/widget/Select/Select.tsx");
/* harmony import */ var _TextArea__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./TextArea */ "./src/frontend/common/widget/TextArea.tsx");
/* harmony import */ var _Tab2_Tab2__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./Tab2/Tab2 */ "./src/frontend/common/widget/Tab2/Tab2.tsx");
/* harmony import */ var _TimeBox_TimeBox__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./TimeBox/TimeBox */ "./src/frontend/common/widget/TimeBox/TimeBox.tsx");
/* harmony import */ var _PhoneBox__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./PhoneBox */ "./src/frontend/common/widget/PhoneBox.tsx");
/* harmony import */ var _TimeBox_TimeBox2_TimeBox2__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./TimeBox/TimeBox2/TimeBox2 */ "./src/frontend/common/widget/TimeBox/TimeBox2/TimeBox2.tsx");
/* harmony import */ var _Image_Image__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./Image/Image */ "./src/frontend/common/widget/Image/Image.tsx");
/* harmony import */ var _CheckBoxList__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./CheckBoxList */ "./src/frontend/common/widget/CheckBoxList.tsx");
/* harmony import */ var _Slider_Slider__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./Slider/Slider */ "./src/frontend/common/widget/Slider/Slider.tsx");
/* harmony import */ var _Expand_Expand__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./Expand/Expand */ "./src/frontend/common/widget/Expand/Expand.tsx");
/* harmony import */ var _Radio__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./Radio */ "./src/frontend/common/widget/Radio.tsx");






























/***/ }),

/***/ "./src/frontend/index.ts":
/*!*******************************!*\
  !*** ./src/frontend/index.ts ***!
  \*******************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ApplicationController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.ApplicationController),
/* harmony export */   "ApplicationView": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.ApplicationView),
/* harmony export */   "ArrowIcon": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.ArrowIcon),
/* harmony export */   "Box": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.Box),
/* harmony export */   "Button": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.Button),
/* harmony export */   "CancelIcon": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.CancelIcon),
/* harmony export */   "CheckBox": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.CheckBox),
/* harmony export */   "CheckBoxField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.CheckBoxField),
/* harmony export */   "CheckBoxList": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.CheckBoxList),
/* harmony export */   "CheckBoxListField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.CheckBoxListField),
/* harmony export */   "CloseIcon": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.CloseIcon),
/* harmony export */   "CloseIcon2": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.CloseIcon2),
/* harmony export */   "Column": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.Column),
/* harmony export */   "ComboBox": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.ComboBox),
/* harmony export */   "ComboBoxField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.ComboBoxField),
/* harmony export */   "DataSource": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.DataSource),
/* harmony export */   "Database": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.Database),
/* harmony export */   "DateField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.DateField),
/* harmony export */   "DateIcon": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.DateIcon),
/* harmony export */   "DatePicker": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.DatePicker),
/* harmony export */   "DateTimeField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.DateTimeField),
/* harmony export */   "DeleteIcon": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.DeleteIcon),
/* harmony export */   "DoneIcon": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.DoneIcon),
/* harmony export */   "DownIcon": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.DownIcon),
/* harmony export */   "DropdownButton": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.DropdownButton),
/* harmony export */   "DropdownDatePicker": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.DropdownDatePicker),
/* harmony export */   "EditIcon": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.EditIcon),
/* harmony export */   "Expand": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.Expand),
/* harmony export */   "FileField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.FileField),
/* harmony export */   "Form": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.Form),
/* harmony export */   "FrontHostApp": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.FrontHostApp),
/* harmony export */   "Grid": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.Grid),
/* harmony export */   "GridCell": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.GridCell),
/* harmony export */   "GridRow": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.GridRow),
/* harmony export */   "Helper": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.Helper),
/* harmony export */   "Image": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.Image),
/* harmony export */   "LeftIcon": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.LeftIcon),
/* harmony export */   "LinkField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.LinkField),
/* harmony export */   "LocationIcon": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.LocationIcon),
/* harmony export */   "LoginController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.LoginController),
/* harmony export */   "LoginFrontHostApp": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.LoginFrontHostApp),
/* harmony export */   "LoginView": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.LoginView),
/* harmony export */   "Menu": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.Menu),
/* harmony export */   "Modal": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.Modal),
/* harmony export */   "MoreVertIcon": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.MoreVertIcon),
/* harmony export */   "NoSqlDataSource": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.NoSqlDataSource),
/* harmony export */   "OpenInNewIcon": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.OpenInNewIcon),
/* harmony export */   "Page": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.Page),
/* harmony export */   "PageController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.PageController),
/* harmony export */   "PageView": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.PageView),
/* harmony export */   "Password": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.Password),
/* harmony export */   "PasswordField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.PasswordField),
/* harmony export */   "PasswordIcon": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.PasswordIcon),
/* harmony export */   "PersistentDataSource": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.PersistentDataSource),
/* harmony export */   "PhoneBox": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.PhoneBox),
/* harmony export */   "PhoneField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.PhoneField),
/* harmony export */   "PhoneIcon": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.PhoneIcon),
/* harmony export */   "Radio": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.Radio),
/* harmony export */   "RadioField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RadioField),
/* harmony export */   "ReactComponent": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.ReactComponent),
/* harmony export */   "RightIcon": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.RightIcon),
/* harmony export */   "RowForm": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowForm),
/* harmony export */   "RowFormCheckBoxFieldController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormCheckBoxFieldController),
/* harmony export */   "RowFormCheckBoxListFieldController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormCheckBoxListFieldController),
/* harmony export */   "RowFormCheckBoxListFieldView": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormCheckBoxListFieldView),
/* harmony export */   "RowFormComboBoxFieldController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormComboBoxFieldController),
/* harmony export */   "RowFormComboBoxFieldView": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormComboBoxFieldView),
/* harmony export */   "RowFormController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormController),
/* harmony export */   "RowFormDateFieldController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormDateFieldController),
/* harmony export */   "RowFormDateFieldView": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormDateFieldView),
/* harmony export */   "RowFormDateTimeFieldController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormDateTimeFieldController),
/* harmony export */   "RowFormDateTimeFieldView": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormDateTimeFieldView),
/* harmony export */   "RowFormFieldController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormFieldController),
/* harmony export */   "RowFormFieldView": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormFieldView),
/* harmony export */   "RowFormFileFieldController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormFileFieldController),
/* harmony export */   "RowFormLinkFieldController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormLinkFieldController),
/* harmony export */   "RowFormPasswordFieldController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormPasswordFieldController),
/* harmony export */   "RowFormPhoneFieldController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormPhoneFieldController),
/* harmony export */   "RowFormPhoneFieldView": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormPhoneFieldView),
/* harmony export */   "RowFormRadioFieldController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormRadioFieldController),
/* harmony export */   "RowFormTextAreaFieldController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormTextAreaFieldController),
/* harmony export */   "RowFormTextAreaFieldView": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormTextAreaFieldView),
/* harmony export */   "RowFormTextBoxFieldController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormTextBoxFieldController),
/* harmony export */   "RowFormTextBoxFieldView": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormTextBoxFieldView),
/* harmony export */   "RowFormTimeFieldController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormTimeFieldController),
/* harmony export */   "RowFormView": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.RowFormView),
/* harmony export */   "Search": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.Search),
/* harmony export */   "Select": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.Select),
/* harmony export */   "SettingsIcon": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.SettingsIcon),
/* harmony export */   "Slider": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.Slider),
/* harmony export */   "SqlDataSource": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.SqlDataSource),
/* harmony export */   "Statusbar": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.Statusbar),
/* harmony export */   "Tab": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.Tab),
/* harmony export */   "Tab2": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.Tab2),
/* harmony export */   "Table": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.Table),
/* harmony export */   "TableForm": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.TableForm),
/* harmony export */   "TableFormCheckBoxFieldController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.TableFormCheckBoxFieldController),
/* harmony export */   "TableFormCheckBoxFieldView": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.TableFormCheckBoxFieldView),
/* harmony export */   "TableFormComboBoxFieldController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.TableFormComboBoxFieldController),
/* harmony export */   "TableFormComboBoxFieldView": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.TableFormComboBoxFieldView),
/* harmony export */   "TableFormController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.TableFormController),
/* harmony export */   "TableFormDateFieldController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.TableFormDateFieldController),
/* harmony export */   "TableFormDateFieldView": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.TableFormDateFieldView),
/* harmony export */   "TableFormDateTimeFieldController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.TableFormDateTimeFieldController),
/* harmony export */   "TableFormDateTimeFieldView": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.TableFormDateTimeFieldView),
/* harmony export */   "TableFormLinkFieldController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.TableFormLinkFieldController),
/* harmony export */   "TableFormPhoneFieldController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.TableFormPhoneFieldController),
/* harmony export */   "TableFormTextBoxFieldController": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.TableFormTextBoxFieldController),
/* harmony export */   "TableFormTextBoxFieldView": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.TableFormTextBoxFieldView),
/* harmony export */   "TableFormView": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.TableFormView),
/* harmony export */   "TextArea": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.TextArea),
/* harmony export */   "TextAreaField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.TextAreaField),
/* harmony export */   "TextBox": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.TextBox),
/* harmony export */   "TextBoxField": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.TextBoxField),
/* harmony export */   "TimeBox": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.TimeBox),
/* harmony export */   "TimeBox2": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.TimeBox2),
/* harmony export */   "TimeIcon": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.TimeIcon),
/* harmony export */   "Tooltip": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.Tooltip),
/* harmony export */   "ViewerFrontHostApp": () => (/* reexport safe */ _viewer__WEBPACK_IMPORTED_MODULE_1__.ViewerFrontHostApp),
/* harmony export */   "VisibilityIcon": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.VisibilityIcon),
/* harmony export */   "VisibilityOffIcon": () => (/* reexport safe */ _common__WEBPACK_IMPORTED_MODULE_0__.VisibilityOffIcon)
/* harmony export */ });
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./common */ "./src/frontend/common/index.ts");
/* harmony import */ var _viewer__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./viewer */ "./src/frontend/viewer/index.ts");




/***/ }),

/***/ "./src/frontend/viewer/Controller/AlertController/AlertController.ts":
/*!***************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/AlertController/AlertController.ts ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AlertController": () => (/* binding */ AlertController)
/* harmony export */ });
/* harmony import */ var _Controller__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Controller */ "./src/frontend/viewer/Controller/Controller.ts");
/* harmony import */ var _AlertView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./AlertView */ "./src/frontend/viewer/Controller/AlertController/AlertView.tsx");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};


const _AlertController = class _AlertController extends _Controller__WEBPACK_IMPORTED_MODULE_0__.Controller {
  constructor(options) {
    super();
    this.onOkButtonClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      this.close();
    }), "onOkButtonClick");
    this.onCloseClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      this.close();
    }), "onCloseClick");
    this.onKeyDown = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      if (e.key === "Escape") {
        this.close();
      }
    }), "onKeyDown");
    this.options = options;
    if (!options.message)
      throw new Error("no message");
    if (!options.onClose)
      throw new Error("no onClose");
  }
  getViewClass() {
    return _AlertView__WEBPACK_IMPORTED_MODULE_1__.AlertView;
  }
  close() {
    this.options.onClose();
  }
};
__name(_AlertController, "AlertController");
let AlertController = _AlertController;


/***/ }),

/***/ "./src/frontend/viewer/Controller/AlertController/AlertView.tsx":
/*!**********************************************************************!*\
  !*** ./src/frontend/viewer/Controller/AlertController/AlertView.tsx ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "AlertView": () => (/* binding */ AlertView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _View__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../View */ "./src/frontend/viewer/Controller/View.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _AlertView_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./AlertView.less */ "./src/frontend/viewer/Controller/AlertController/AlertView.less");
/* harmony import */ var _AlertView_less__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_AlertView_less__WEBPACK_IMPORTED_MODULE_4__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });





const _AlertView = class _AlertView extends _View__WEBPACK_IMPORTED_MODULE_2__.View {
  constructor(props) {
    super(props);
    this.el = react__WEBPACK_IMPORTED_MODULE_1___default().createRef();
  }
  getHeaderStyle() {
    return this.getCtrl().options.titleStyle;
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      "div",
      {
        className: this.getCssClassNames(),
        ref: this.el,
        tabIndex: 0,
        onKeyDown: this.getCtrl().onKeyDown,
        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__container`, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `${this.getCssBlockName()}__content flex-column`, children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `${this.getCssBlockName()}__header`, children: [
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
              "div",
              {
                className: `${this.getCssBlockName()}__title`,
                style: this.getHeaderStyle(),
                children: this.getCtrl().options.title || "Alert"
              }
            ),
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
              "div",
              {
                className: `${this.getCssBlockName()}__close`,
                onClick: this.getCtrl().onCloseClick,
                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common__WEBPACK_IMPORTED_MODULE_3__.CloseIcon2, {})
              }
            )
          ] }),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__main flex-max`, children: this.getCtrl().options.message }),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__footer`, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
            _common__WEBPACK_IMPORTED_MODULE_3__.Button,
            {
              classList: [`${this.getCssBlockName()}__ok-button`],
              title: "OK",
              onClick: this.getCtrl().onOkButtonClick
            }
          ) })
        ] }) })
      }
    );
  }
  componentDidMount() {
    this.getElement().focus();
  }
};
__name(_AlertView, "AlertView");
let AlertView = _AlertView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ConfirmController/ConfirmController.ts":
/*!*******************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ConfirmController/ConfirmController.ts ***!
  \*******************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ConfirmController": () => (/* binding */ ConfirmController)
/* harmony export */ });
/* harmony import */ var _Controller__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Controller */ "./src/frontend/viewer/Controller/Controller.ts");
/* harmony import */ var _ConfirmView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ConfirmView */ "./src/frontend/viewer/Controller/ConfirmController/ConfirmView.tsx");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};


const _ConfirmController = class _ConfirmController extends _Controller__WEBPACK_IMPORTED_MODULE_0__.Controller {
  constructor(options) {
    super();
    this.onYesClick = /* @__PURE__ */ __name((e) => {
      this.close(true);
    }, "onYesClick");
    this.onCloseClick = /* @__PURE__ */ __name((e) => {
      this.close(false);
    }, "onCloseClick");
    this.onKeyDown = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      if (e.key === "Escape") {
        this.close(false);
      }
    }), "onKeyDown");
    this.options = options;
    if (!options.message)
      throw new Error("no message");
    if (!options.onClose)
      throw new Error("no onClose");
  }
  getViewClass() {
    return _ConfirmView__WEBPACK_IMPORTED_MODULE_1__.ConfirmView;
  }
  close(result) {
    this.options.onClose(result);
  }
};
__name(_ConfirmController, "ConfirmController");
let ConfirmController = _ConfirmController;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ConfirmController/ConfirmView.tsx":
/*!**************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ConfirmController/ConfirmView.tsx ***!
  \**************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ConfirmView": () => (/* binding */ ConfirmView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _View__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../View */ "./src/frontend/viewer/Controller/View.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _ConfirmView_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ConfirmView.less */ "./src/frontend/viewer/Controller/ConfirmController/ConfirmView.less");
/* harmony import */ var _ConfirmView_less__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_ConfirmView_less__WEBPACK_IMPORTED_MODULE_4__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });





const _ConfirmView = class _ConfirmView extends _View__WEBPACK_IMPORTED_MODULE_2__.View {
  constructor(props) {
    super(props);
    this.el = react__WEBPACK_IMPORTED_MODULE_1___default().createRef();
  }
  render() {
    if (!this.getCtrl().options.yesButton)
      throw new Error("no yesButton option");
    if (!this.getCtrl().options.noButton)
      throw new Error("no noButton option");
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      "div",
      {
        className: this.getCssClassNames(),
        ref: this.el,
        tabIndex: 0,
        onKeyDown: this.getCtrl().onKeyDown,
        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__container`, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `${this.getCssBlockName()}__content flex-column`, children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `${this.getCssBlockName()}__header`, children: [
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
              "div",
              {
                className: `${this.getCssBlockName()}__title`,
                style: this.getCtrl().options.titleStyle,
                children: this.getCtrl().options.title || "Confirm"
              }
            ),
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
              "div",
              {
                className: `${this.getCssBlockName()}__close`,
                onClick: this.getCtrl().onCloseClick,
                children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common__WEBPACK_IMPORTED_MODULE_3__.CloseIcon2, {})
              }
            )
          ] }),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__main flex-max`, children: this.getCtrl().options.message }),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `${this.getCssBlockName()}__footer`, children: [
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
              _common__WEBPACK_IMPORTED_MODULE_3__.Button,
              {
                classList: [`${this.getCssBlockName()}__no-button`],
                title: this.getCtrl().options.noButton,
                onClick: this.getCtrl().onCloseClick
              }
            ),
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
              _common__WEBPACK_IMPORTED_MODULE_3__.Button,
              {
                classList: [`${this.getCssBlockName()}__yes-button`],
                title: this.getCtrl().options.yesButton,
                onClick: this.getCtrl().onYesClick
              }
            )
          ] })
        ] }) })
      }
    );
  }
  componentDidMount() {
    this.getElement().focus();
  }
};
__name(_ConfirmView, "ConfirmView");
let ConfirmView = _ConfirmView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/Controller.ts":
/*!******************************************************!*\
  !*** ./src/frontend/viewer/Controller/Controller.ts ***!
  \******************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Controller": () => (/* binding */ Controller)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _EventEmitter__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../EventEmitter */ "./src/frontend/viewer/EventEmitter.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};


const _Controller = class _Controller extends _EventEmitter__WEBPACK_IMPORTED_MODULE_1__.EventEmitter {
  constructor() {
    super(...arguments);
    this.view = null;
    /* constructor() {
        super();
    } */
    this.onViewCreate = /* @__PURE__ */ __name((view) => {
      this.view = view;
    }, "onViewCreate");
  }
  rerender() {
    return __async(this, null, function* () {
      if (this.view) {
        return yield this.view.rerender();
      }
      console.error(`${this.constructor.name}.rerender no view`);
    });
  }
  getView() {
    if (!this.view)
      throw new Error("no view");
    return this.view;
  }
  getViewClass() {
    throw new Error(`${this.constructor.name}.getViewClass not implemented`);
  }
  createElement() {
    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(this.getViewClass(), {
      ctrl: this,
      onCreate: this.onViewCreate
    });
  }
};
__name(_Controller, "Controller");
let Controller = _Controller;


/***/ }),

/***/ "./src/frontend/viewer/Controller/LoginController/LoginController.ts":
/*!***************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/LoginController/LoginController.ts ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LoginController": () => (/* binding */ LoginController)
/* harmony export */ });
/* harmony import */ var _Controller__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Controller */ "./src/frontend/viewer/Controller/Controller.ts");
/* harmony import */ var _LoginView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./LoginView */ "./src/frontend/viewer/Controller/LoginController/LoginView.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common */ "./src/frontend/common/index.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _LoginController = class _LoginController extends _Controller__WEBPACK_IMPORTED_MODULE_0__.Controller {
  constructor(frontHostApp) {
    super();
    console.debug(`${this.constructor.name}.constructor`);
    this.frontHostApp = frontHostApp;
  }
  static create(frontHostApp) {
    const data = frontHostApp.getData();
    if (!data.name)
      throw new Error("no app name");
    const CustomClass = _common__WEBPACK_IMPORTED_MODULE_2__.Helper.getGlobalClass(
      `${data.name}LoginController`
    );
    const Class = CustomClass || _LoginController;
    return new Class(frontHostApp);
  }
  getViewClass() {
    return _LoginView__WEBPACK_IMPORTED_MODULE_1__.LoginView;
  }
  getText() {
    return this.frontHostApp.getText();
  }
  getFrontHostApp() {
    return this.frontHostApp;
  }
  getViewClassCssBlockName() {
    return this.getViewClass().name;
  }
};
__name(_LoginController, "LoginController");
let LoginController = _LoginController;


/***/ }),

/***/ "./src/frontend/viewer/Controller/LoginController/LoginView.tsx":
/*!**********************************************************************!*\
  !*** ./src/frontend/viewer/Controller/LoginController/LoginView.tsx ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LoginView": () => (/* binding */ LoginView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _View__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../View */ "./src/frontend/viewer/Controller/View.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _LoginView_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./LoginView.less */ "./src/frontend/viewer/Controller/LoginController/LoginView.less");
/* harmony import */ var _LoginView_less__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_LoginView_less__WEBPACK_IMPORTED_MODULE_4__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });





const _LoginView = class _LoginView extends _View__WEBPACK_IMPORTED_MODULE_2__.View {
  constructor(props) {
    super(props);
    this.onLoginFormSubmit = /* @__PURE__ */ __name((e) => {
      document.querySelector(".LoginView__button").disabled = true;
    }, "onLoginFormSubmit");
    this.onChange = /* @__PURE__ */ __name((e) => {
      this.errMsgRef.current.innerHTML = "";
    }, "onChange");
    this.errMsgRef = react__WEBPACK_IMPORTED_MODULE_1___default().createRef();
  }
  renderLogo() {
    return null;
  }
  renderTitle() {
    return this.getCtrl().getFrontHostApp().getData().title;
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__container`, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "form",
      {
        className: `${this.getCssBlockName()}__form`,
        method: "post",
        onSubmit: this.onLoginFormSubmit,
        children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
            "input",
            {
              type: "hidden",
              name: "tzOffset",
              value: JSON.stringify((/* @__PURE__ */ new Date()).getTimezoneOffset())
            }
          ),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("input", { type: "hidden", name: "action", value: "login" }),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `${this.getCssBlockName()}__logo-title`, children: [
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__logo`, children: this.renderLogo() }),
            /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__title`, children: this.renderTitle() })
          ] }),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
            _common__WEBPACK_IMPORTED_MODULE_3__.TextBox,
            {
              classList: [`${this.getCssBlockName()}__field`],
              name: "username",
              placeholder: this.getCtrl().getText().login.username,
              required: true,
              autoFocus: true,
              spellCheck: false,
              value: this.getCtrl().getFrontHostApp().getData().username || "",
              onChange: this.onChange
            }
          ),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
            _common__WEBPACK_IMPORTED_MODULE_3__.Password,
            {
              classList: [`${this.getCssBlockName()}__field2`],
              name: "password",
              placeholder: this.getCtrl().getText().login.password,
              value: this.getCtrl().getFrontHostApp().getData().password || "",
              onChange: this.onChange
            }
          ),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("p", { className: `${this.getCssBlockName()}__err-msg`, ref: this.errMsgRef, children: this.getCtrl().getFrontHostApp().getData().errMsg }),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("button", { className: `${this.getCssBlockName()}__button`, type: "submit", children: this.getCtrl().getText().login.signIn })
        ]
      }
    ) });
  }
};
__name(_LoginView, "LoginView");
let LoginView = _LoginView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModalController/ImageDialogController/ImageDialogController.ts":
/*!*******************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModalController/ImageDialogController/ImageDialogController.ts ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ImageDialogController": () => (/* binding */ ImageDialogController)
/* harmony export */ });
/* harmony import */ var _ModalController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ModalController */ "./src/frontend/viewer/Controller/ModalController/ModalController.ts");
/* harmony import */ var _ImageDialogView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ImageDialogView */ "./src/frontend/viewer/Controller/ModalController/ImageDialogController/ImageDialogView.tsx");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};


const _ImageDialogController = class _ImageDialogController extends _ModalController__WEBPACK_IMPORTED_MODULE_0__.ModalController {
  constructor(options) {
    super(options);
    this.onCloseClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      yield this.close();
    }), "onCloseClick");
    this.onKeyDown = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      if (e.key === "Escape") {
        yield this.close();
      }
    }), "onKeyDown");
    this.onImageClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("ImageDialogController.onImageClick");
      yield this.close();
    }), "onImageClick");
    if (!options.src)
      throw new Error("no src");
  }
  getViewClass() {
    console.debug("ImageDialogController.getViewClass");
    return _ImageDialogView__WEBPACK_IMPORTED_MODULE_1__.ImageDialogView;
  }
  getSrc() {
    return this.options.src;
  }
};
__name(_ImageDialogController, "ImageDialogController");
let ImageDialogController = _ImageDialogController;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModalController/ImageDialogController/ImageDialogView.tsx":
/*!**************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModalController/ImageDialogController/ImageDialogView.tsx ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ImageDialogView": () => (/* binding */ ImageDialogView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _View__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../View */ "./src/frontend/viewer/Controller/View.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _ImageDialogView_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ImageDialogView.less */ "./src/frontend/viewer/Controller/ModalController/ImageDialogController/ImageDialogView.less");
/* harmony import */ var _ImageDialogView_less__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_ImageDialogView_less__WEBPACK_IMPORTED_MODULE_4__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });





const _ImageDialogView = class _ImageDialogView extends _View__WEBPACK_IMPORTED_MODULE_2__.View {
  constructor(props) {
    super(props);
    this.el = react__WEBPACK_IMPORTED_MODULE_1___default().createRef();
  }
  render() {
    console.debug("ImageDialogView.render");
    const { ctrl } = this.props;
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "div",
      {
        className: this.getCssClassNames(),
        ref: this.el,
        tabIndex: 0,
        onKeyDown: this.getCtrl().onKeyDown,
        children: [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
            "img",
            {
              className: `${this.getCssBlockName()}__image`,
              src: ctrl.getSrc(),
              onClick: ctrl.onImageClick
            }
          ),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__close`, onClick: ctrl.onCloseClick, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common__WEBPACK_IMPORTED_MODULE_3__.CloseIcon2, {}) })
        ]
      }
    );
  }
  componentDidMount() {
    this.getElement().focus();
  }
};
__name(_ImageDialogView, "ImageDialogView");
let ImageDialogView = _ImageDialogView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModalController/ModalController.ts":
/*!***************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModalController/ModalController.ts ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ModalController": () => (/* binding */ ModalController)
/* harmony export */ });
/* harmony import */ var _Controller__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Controller */ "./src/frontend/viewer/Controller/Controller.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

const _ModalController = class _ModalController extends _Controller__WEBPACK_IMPORTED_MODULE_0__.Controller {
  constructor(options = {}) {
    super();
    if (!options.app)
      throw new Error("no app");
    if (!options.id)
      throw new Error("no id");
    this.options = options;
  }
  getId() {
    return this.options.id;
  }
  getApp() {
    return this.options.app;
  }
  close() {
    return __async(this, null, function* () {
      yield this.getApp().closeModal(this);
      if (this.options.onClose) {
        this.options.onClose();
      }
    });
  }
};
__name(_ModalController, "ModalController");
let ModalController = _ModalController;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/ApplicationController/ApplicationController.ts":
/*!*******************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/ApplicationController/ApplicationController.ts ***!
  \*******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ApplicationController": () => (/* binding */ ApplicationController)
/* harmony export */ });
/* harmony import */ var _ModelController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ModelController */ "./src/frontend/viewer/Controller/ModelController/ModelController.ts");
/* harmony import */ var _Model_Page_Page__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../Model/Page/Page */ "./src/frontend/viewer/Model/Page/Page.ts");
/* harmony import */ var _ApplicationView__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ApplicationView */ "./src/frontend/viewer/Controller/ModelController/ApplicationController/ApplicationView.tsx");
/* harmony import */ var _WebSocketClient__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../WebSocketClient */ "./src/frontend/viewer/WebSocketClient.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _PageController_PageController__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../PageController/PageController */ "./src/frontend/viewer/Controller/ModelController/PageController/PageController.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};






const _ApplicationController = class _ApplicationController extends _ModelController__WEBPACK_IMPORTED_MODULE_0__.ModelController {
  constructor(model, frontHostApp) {
    super(model);
    this.frontHostApp = frontHostApp;
    this.lastId = 0;
    this.activePage = null;
    // active non modal page
    this.modals = [];
    this.statusbar = null;
    this.homePageName = null;
    this.webSocketClient = null;
    this.onRequest = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("onRequest", e);
      if (this.statusbar) {
        this.statusbar.setLastQueryTime(e.time);
      }
      if (this.getModel().getData().versions.app && this.getModel().getData().versions.app !== e.remoteAppVersion) {
        this.createVersionNotificationIfNotExists();
      }
    }), "onRequest");
    this.onStatusbarCreate = /* @__PURE__ */ __name((statusbar) => {
      this.statusbar = statusbar;
    }, "onStatusbarCreate");
    this.onLogout = /* @__PURE__ */ __name(() => __async(this, null, function* () {
      console.debug("ApplicationController.onLogout");
      const result = yield this.getModel().request("POST", { action: "logout" });
      location.href = this.getRootPath();
    }), "onLogout");
    this.onMenuItemClick = /* @__PURE__ */ __name((menu, type, name) => __async(this, null, function* () {
      console.debug("ApplicationController.onMenuItemClick", menu, type, name);
      if (type === "page") {
        yield this.openPage({ name, modal: false });
        history.pushState({ pageName: name }, "", this.getHostApp().createLink({ page: name }));
      } else if (type === "action") {
        try {
          const result = yield this.onActionClick(name);
          if (!result) {
            throw new Error(`no handler for action '${name}'`);
          }
        } catch (err) {
          console.error(err);
          yield this.alert({ message: err.message });
        }
      } else if (type === "custom" && name === "logout") {
        yield this.onLogout();
      } else {
        throw new Error(`unknown menu type/name: ${type}/${name}`);
      }
    }), "onMenuItemClick");
    if (typeof window === "object") {
      console.debug(`${this.constructor.name}.constructor`, model);
    }
  }
  static create(model, frontHostApp) {
    const { ctrlClass } = model.getData();
    if (ctrlClass) {
      const CustomClass = _common__WEBPACK_IMPORTED_MODULE_4__.Helper.getGlobalClass(ctrlClass);
      if (!CustomClass)
        throw new Error(`no class ${ctrlClass}`);
      return new CustomClass(model, frontHostApp);
    }
    return new _ApplicationController(model, frontHostApp);
  }
  init() {
    super.init();
    this.getModel().on("request", this.onRequest);
    const pageData = this.getModel().getData().pages[0];
    this.activePage = pageData ? this.createPage(pageData, {
      modal: false,
      params: this.getGlobalParams()
    }) : null;
    const activePageName = this.getActivePageName();
    this.homePageName = activePageName ? activePageName : this.frontHostApp.getDocumentTitle();
  }
  deinit() {
    this.getModel().off("request", this.onRequest);
    super.deinit();
  }
  getViewClass() {
    return super.getViewClass() || _ApplicationView__WEBPACK_IMPORTED_MODULE_2__.ApplicationView;
  }
  createView(rootElement) {
    this.view = _common__WEBPACK_IMPORTED_MODULE_4__.Helper.createReactComponent2(rootElement, this.getViewClass(), {
      ctrl: this,
      key: this.getModel().getName()
    });
    if (this.statusbar) {
      this.statusbar.setLastQueryTime(this.getModel().getAttr("time"));
    }
  }
  createVersionNotificationIfNotExists() {
    if (!document.querySelector(".version-notification")) {
      const div = document.createElement("div");
      div.innerHTML = this.getModel().getText().application.versionNotification;
      div.className = "version-notification";
      document.querySelector(`.${this.getView().getCssBlockName()}__body`).append(div);
    } else {
    }
  }
  getGlobalParams() {
    return {
      // foo: 'bar'
    };
  }
  createPage(pageData, options) {
    if (options.modal === void 0)
      throw new Error("no options.modal");
    const pageModel = new _Model_Page_Page__WEBPACK_IMPORTED_MODULE_1__.Page(pageData, this.getModel(), options);
    pageModel.init();
    const pc = _PageController_PageController__WEBPACK_IMPORTED_MODULE_5__.PageController.create(pageModel, this, `c${this.getNextId()}`);
    pc.init();
    return pc;
  }
  openPage(options) {
    return __async(this, null, function* () {
      console.debug("ApplicationController.openPage", options);
      if (!options.name)
        throw new Error("no name");
      const pageController = this.findPageControllerByPageNameAndKey(options.name, null);
      if (pageController) {
        this.onPageSelect(pageController);
        return pageController;
      }
      const { page: pageData } = yield this.getModel().request("POST", {
        action: "page",
        page: options.name,
        newMode: !!options.newMode,
        params: options.params || {}
      });
      if (options.modal === void 0) {
        options.modal = true;
      }
      if (!options.onClose) {
        const activeElement = document.activeElement;
        options.onClose = () => {
          if (activeElement)
            activeElement.focus();
        };
      }
      const pc = this.createPage(pageData, options);
      pc.isModal() ? this.addModal(pc) : this.addPage(pc);
      yield this.rerender();
      return pc;
    });
  }
  addModal(ctrl) {
    this.modals.push(ctrl);
  }
  removeModal(ctrl) {
    const i = this.modals.indexOf(ctrl);
    if (i === -1)
      throw new Error(`cannot find modal: ${ctrl.getId()}`);
    this.modals.splice(i, 1);
  }
  getNextId() {
    this.lastId++;
    return this.lastId;
  }
  getNewId() {
    return `c${this.getNextId()}`;
  }
  addPage(pc) {
    if (this.activePage) {
      this.closePage(this.activePage);
    }
    this.activePage = pc;
    this.frontHostApp.setDocumentTitle(this.getTitle());
  }
  findPageControllerByPageNameAndKey(pageName, key) {
    if (this.activePage && this.activePage.getModel().getName() === pageName && this.activePage.getModel().getKey() === key) {
      return this.activePage;
    }
    return null;
  }
  onPageSelect(pc) {
    console.debug("ApplicationController.onPageSelect", pc.getModel().getName());
  }
  closePage(pageController) {
    return __async(this, null, function* () {
      console.debug("ApplicationController.closePage", pageController.getModel().getFullName());
      if (this.modals.indexOf(pageController) > -1) {
        this.modals.splice(this.modals.indexOf(pageController), 1);
      } else if (this.activePage === pageController) {
        this.activePage = null;
        document.title = "";
      } else {
        throw new Error("page not found");
      }
      yield this.rerender();
      pageController.deinit();
      pageController.getModel().deinit();
    });
  }
  onActionClick(name) {
    return __async(this, null, function* () {
      console.debug("ApplicationController.onActionClick", name);
    });
  }
  getMenuItemsProp() {
    return [
      // pages & actions
      ...this.getModel().getData().menu ? Object.keys(this.getModel().getData().menu).map((key) => ({
        name: key,
        title: key,
        items: this.getModel().getData().menu[key].map((item) => ({
          type: item.type,
          name: item.page || item.action,
          title: item.caption
        }))
      })) : [],
      // user
      ...this.getModel().getUser() ? [
        {
          name: "user",
          title: `${this.getModel().getDomain()}/${this.getModel().getUser().login}`,
          items: [
            {
              type: "custom",
              name: "logout",
              title: "Logout"
            }
          ]
        }
      ] : []
    ];
  }
  /*getFocusCtrl() {
      if (this.modals.length > 0) {
          return this.modals[this.modals.length - 1];
      }
      return this.activePage;
  }*/
  getActivePageName() {
    if (this.activePage) {
      return this.activePage.getModel().getName();
    }
    return null;
  }
  onWindowPopState(e) {
    return __async(this, null, function* () {
      console.debug("ApplicationController.onWindowPopState", e.state);
      yield this.openPage({
        name: e.state ? e.state.pageName : this.homePageName,
        modal: false
      });
    });
  }
  getTitle() {
    if (this.activePage) {
      return `${this.activePage.getTitle()} - ${this.getModel().getCaption()}`;
    }
    return this.getModel().getCaption();
  }
  invalidate() {
    if (this.activePage)
      this.activePage.invalidate();
    this.modals.filter((ctrl) => ctrl instanceof _PageController_PageController__WEBPACK_IMPORTED_MODULE_5__.PageController).forEach((page) => page.invalidate());
  }
  alert(options) {
    return __async(this, null, function* () {
      if (!options.title) {
        options.title = this.getModel().getText().application.alert;
      }
      const activeElement = document.activeElement;
      try {
        return yield this.frontHostApp.alert(options);
      } finally {
        if (activeElement)
          activeElement.focus();
      }
    });
  }
  confirm(options) {
    return __async(this, null, function* () {
      if (!options.title) {
        options.title = this.getModel().getText().application.confirm;
      }
      if (!options.yesButton) {
        options.yesButton = this.getModel().getText().confirm.yes;
      }
      if (!options.noButton) {
        options.noButton = this.getModel().getText().confirm.no;
      }
      const activeElement = document.activeElement;
      try {
        return yield this.frontHostApp.confirm(options);
      } finally {
        if (activeElement)
          activeElement.focus();
      }
    });
  }
  getRootPath() {
    return "/";
  }
  openModal(ctrl) {
    return __async(this, null, function* () {
      this.addModal(ctrl);
      yield this.rerender();
    });
  }
  closeModal(ctrl) {
    return __async(this, null, function* () {
      this.removeModal(ctrl);
      yield this.rerender();
    });
  }
  getHostApp() {
    return this.frontHostApp;
  }
  connect() {
    return __async(this, null, function* () {
      const data = this.getModel().getData();
      this.webSocketClient = new _WebSocketClient__WEBPACK_IMPORTED_MODULE_3__.WebSocketClient({
        applicationController: this,
        protocol: window.location.protocol === "https:" ? "wss" : "ws",
        route: data.route,
        uuid: data.uuid,
        userId: data.user ? data.user.id : null
      });
      yield this.webSocketClient.connect();
    });
  }
  rpc(_0) {
    return __async(this, arguments, function* (name, params = {}) {
      const result = yield this.getModel().rpc(name, params);
      return result;
    });
  }
  getDomain() {
    return this.getModel().getDomain();
  }
  getBaseUrl() {
    return `/${this.getDomain()}`;
  }
};
__name(_ApplicationController, "ApplicationController");
let ApplicationController = _ApplicationController;
_common__WEBPACK_IMPORTED_MODULE_4__.Helper.registerGlobalClass(ApplicationController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/ApplicationController/ApplicationView.tsx":
/*!**************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/ApplicationController/ApplicationView.tsx ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ApplicationView": () => (/* binding */ ApplicationView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ModelView__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ModelView */ "./src/frontend/viewer/Controller/ModelController/ModelView.tsx");
/* harmony import */ var _PageController_PageController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../PageController/PageController */ "./src/frontend/viewer/Controller/ModelController/PageController/PageController.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../console */ "./src/console.ts");
/* harmony import */ var _ApplicationView_less__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ApplicationView.less */ "./src/frontend/viewer/Controller/ModelController/ApplicationController/ApplicationView.less");
/* harmony import */ var _ApplicationView_less__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_ApplicationView_less__WEBPACK_IMPORTED_MODULE_6__);
var __defProp = Object.defineProperty;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });







const _ApplicationView = class _ApplicationView extends _ModelView__WEBPACK_IMPORTED_MODULE_2__.ModelView {
  renderActivePage() {
    const { ctrl } = this.props;
    if (ctrl.activePage) {
      return this.renderView(ctrl.activePage);
    }
    return null;
  }
  renderView(ctrl, props = {}) {
    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement(ctrl.getViewClass(), __spreadValues({
      parent: this,
      ctrl,
      onCreate: ctrl.onViewCreate
    }, props));
  }
  renderModals() {
    return this.getCtrl().modals.map((ctrl) => {
      if (ctrl instanceof _PageController_PageController__WEBPACK_IMPORTED_MODULE_3__.PageController) {
        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common__WEBPACK_IMPORTED_MODULE_4__.Modal, { children: this.renderView(ctrl) }, ctrl.getId());
      }
      return this.renderView(ctrl, { key: ctrl.getId() });
    });
  }
  renderHeader() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("header", { className: `${this.getCssBlockName()}__header`, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      _common__WEBPACK_IMPORTED_MODULE_4__.Menu,
      {
        items: this.getCtrl().getMenuItemsProp(),
        onClick: this.getCtrl().onMenuItemClick
      }
    ) });
  }
  renderMain() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("main", { className: `${this.getCssBlockName()}__main`, children: this.renderActivePage() });
  }
  renderFooter() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("footer", { className: `${this.getCssBlockName()}__footer`, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common__WEBPACK_IMPORTED_MODULE_4__.Statusbar, { onCreate: this.getCtrl().onStatusbarCreate }) });
  }
  render() {
    (0,_console__WEBPACK_IMPORTED_MODULE_5__.debug)(`${this.constructor.name}.render`, this.getCtrl().getModel().getFullName());
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `${this.getCssBlockName()}__container`, style: this.getStyle(), children: [
      this.renderHeader(),
      this.renderMain(),
      this.renderFooter(),
      this.renderModals()
    ] });
  }
};
__name(_ApplicationView, "ApplicationView");
let ApplicationView = _ApplicationView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/FieldController.ts":
/*!*******************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/FieldController.ts ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FieldController": () => (/* binding */ FieldController)
/* harmony export */ });
/* harmony import */ var _ModelController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ModelController */ "./src/frontend/viewer/Controller/ModelController/ModelController.ts");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};


const _FieldController = class _FieldController extends _ModelController__WEBPACK_IMPORTED_MODULE_0__.ModelController {
  static create(model, parent) {
    const { ctrlClass } = model.getData();
    if (ctrlClass) {
      const CustomClass = _common_Helper__WEBPACK_IMPORTED_MODULE_1__.Helper.getGlobalClass(ctrlClass);
      if (!CustomClass)
        throw new Error(`no global class ${ctrlClass}`);
      return new CustomClass(model, parent);
    }
    const generalClassName = `${parent.getModel().getClassName()}${model.getClassName()}Controller`;
    const GeneralClass = _common_Helper__WEBPACK_IMPORTED_MODULE_1__.Helper.getGlobalClass(generalClassName);
    if (!GeneralClass)
      throw new Error(`no global class ${generalClassName}`);
    return new GeneralClass(model, parent);
  }
  valueToString(value) {
    switch (typeof value) {
      case "string":
        return value;
      case "object":
        if (value === null)
          return "";
        if (value instanceof Date)
          return value.toISOString();
        return JSON.stringify(value, null, 4);
      case "number":
      case "boolean":
        return value.toString();
      case "undefined":
        return "";
      default:
        throw new Error(
          `${this.getModel().getFullName()}: unknown value type: ${typeof value}, value: ${value}`
        );
    }
  }
  stringToValue(stringValue) {
    const fieldType = this.getModel().getType();
    if (stringValue.trim() === "")
      return null;
    if (fieldType === "object" || fieldType === "boolean") {
      return JSON.parse(stringValue);
    } else if (fieldType === "date") {
      const date = new Date(stringValue);
      if (date.toString() === "Invalid Date")
        throw new Error(
          `${this.getApp().getModel().getText().error.invalidDate}: ${stringValue}`
        );
      return date;
    } else if (fieldType === "number") {
      const num = Number(stringValue);
      if (isNaN(num))
        throw new Error(this.getApp().getModel().getText().error.notNumber);
      return num;
    }
    return stringValue;
  }
  getViewStyle(row) {
    return void 0;
  }
  openPage(options) {
    return __async(this, null, function* () {
      return yield this.getParent().openPage(options);
    });
  }
  /* getParent<TFormController extends FormController = FormController>(): TFormController {
      return super.getParent() as TFormController;
  } */
  getForm() {
    return this.getParent();
  }
  getPage() {
    return this.getParent().getParent();
  }
  getApp() {
    return this.getParent().getParent().getParent();
  }
  isVisible() {
    return this.getModel().getAttr("visible") === "true";
  }
  isAutoFocus() {
    return this.getModel().getAttr("autoFocus") === "true";
  }
  getAutocomplete() {
    return this.getModel().getAttr("autocomplete") || null;
  }
  getFormat() {
    return this.getModel().getAttr("format");
  }
};
__name(_FieldController, "FieldController");
let FieldController = _FieldController;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/FieldView.tsx":
/*!**************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/FieldView.tsx ***!
  \**************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FieldView": () => (/* binding */ FieldView)
/* harmony export */ });
/* harmony import */ var _ModelView__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ModelView */ "./src/frontend/viewer/Controller/ModelController/ModelView.tsx");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _FieldView = class _FieldView extends _ModelView__WEBPACK_IMPORTED_MODULE_0__.ModelView {
  getStyle(row) {
    return this.getCtrl().getViewStyle(row);
  }
};
__name(_FieldView, "FieldView");
let FieldView = _FieldView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormCheckBoxFieldController/RowFormCheckBoxFieldController.ts":
/*!****************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormCheckBoxFieldController/RowFormCheckBoxFieldController.ts ***!
  \****************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormCheckBoxFieldController": () => (/* binding */ RowFormCheckBoxFieldController)
/* harmony export */ });
/* harmony import */ var _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../RowFormFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldController.ts");
/* harmony import */ var _RowFormCheckBoxFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RowFormCheckBoxFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormCheckBoxFieldController/RowFormCheckBoxFieldView.tsx");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _RowFormCheckBoxFieldController = class _RowFormCheckBoxFieldController extends _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__.RowFormFieldController {
  getViewClass() {
    return super.getViewClass() || _RowFormCheckBoxFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormCheckBoxFieldView;
  }
  getValueForWidget() {
    return this.getValue();
  }
  setValueFromWidget(widgetValue) {
    this.setValue(widgetValue);
  }
};
__name(_RowFormCheckBoxFieldController, "RowFormCheckBoxFieldController");
let RowFormCheckBoxFieldController = _RowFormCheckBoxFieldController;
_common_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.registerGlobalClass(RowFormCheckBoxFieldController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormCheckBoxFieldController/RowFormCheckBoxFieldView.tsx":
/*!***********************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormCheckBoxFieldController/RowFormCheckBoxFieldView.tsx ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormCheckBoxFieldView": () => (/* binding */ RowFormCheckBoxFieldView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _RowFormFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../RowFormFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldView.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _RowFormCheckBoxFieldView_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RowFormCheckBoxFieldView.less */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormCheckBoxFieldController/RowFormCheckBoxFieldView.less");
/* harmony import */ var _RowFormCheckBoxFieldView_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_RowFormCheckBoxFieldView_less__WEBPACK_IMPORTED_MODULE_3__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });




const _RowFormCheckBoxFieldView = class _RowFormCheckBoxFieldView extends _RowFormFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormFieldView {
  constructor() {
    super(...arguments);
    this.onCheckBoxChange = /* @__PURE__ */ __name((checked, e) => {
      this.getCtrl().onChange(checked);
    }, "onCheckBoxChange");
  }
  render() {
    const ctrl = this.getCtrl();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: this.getCssClassNames(), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      _common__WEBPACK_IMPORTED_MODULE_2__.CheckBox,
      {
        onCreate: this.onWidgetCreate,
        checked: ctrl.getValueForWidget(),
        readOnly: !ctrl.isEditable(),
        disabled: !ctrl.isEditable(),
        onChange: this.onCheckBoxChange
      }
    ) });
  }
};
__name(_RowFormCheckBoxFieldView, "RowFormCheckBoxFieldView");
let RowFormCheckBoxFieldView = _RowFormCheckBoxFieldView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormCheckBoxListFieldController/RowFormCheckBoxListFieldController.ts":
/*!************************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormCheckBoxListFieldController/RowFormCheckBoxListFieldController.ts ***!
  \************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormCheckBoxListFieldController": () => (/* binding */ RowFormCheckBoxListFieldController)
/* harmony export */ });
/* harmony import */ var _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../RowFormFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldController.ts");
/* harmony import */ var _RowFormCheckBoxListFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RowFormCheckBoxListFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormCheckBoxListFieldController/RowFormCheckBoxListFieldView.tsx");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};



const _RowFormCheckBoxListFieldController = class _RowFormCheckBoxListFieldController extends _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__.RowFormFieldController {
  constructor() {
    super(...arguments);
    this.onListInsert = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("RowFormCheckBoxListFieldController.onListInsert");
      yield this.rerender();
    }), "onListInsert");
    this.onListUpdate = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      yield this.rerender();
    }), "onListUpdate");
    this.onListDelete = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      yield this.rerender();
    }), "onListDelete");
  }
  init() {
    super.init();
    const dataSource = this.getModel().getDataSource();
    dataSource.on("insert", this.onListInsert);
    dataSource.on("update", this.onListUpdate);
    dataSource.on("delete", this.onListDelete);
  }
  deinit() {
    const dataSource = this.getModel().getDataSource();
    dataSource.off("insert", this.onListInsert);
    dataSource.off("update", this.onListUpdate);
    dataSource.off("delete", this.onListDelete);
    super.deinit();
  }
  getViewClass() {
    return super.getViewClass() || _RowFormCheckBoxListFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormCheckBoxListFieldView;
  }
  getRows() {
    return this.getModel().getDataSource().getRows();
  }
  getValueForWidget() {
    const value = this.getValue();
    return value;
  }
  setValueFromWidget(widgetValue) {
    this.setValue(widgetValue);
  }
  getItemFromRow(row) {
    return {
      value: this.valueToString(this.getModel().getValueValue(row)),
      title: this.getModel().getDisplayValue(row)
    };
  }
};
__name(_RowFormCheckBoxListFieldController, "RowFormCheckBoxListFieldController");
let RowFormCheckBoxListFieldController = _RowFormCheckBoxListFieldController;
_common_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.registerGlobalClass(RowFormCheckBoxListFieldController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormCheckBoxListFieldController/RowFormCheckBoxListFieldView.tsx":
/*!*******************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormCheckBoxListFieldController/RowFormCheckBoxListFieldView.tsx ***!
  \*******************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormCheckBoxListFieldView": () => (/* binding */ RowFormCheckBoxListFieldView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _RowFormFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../RowFormFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldView.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _RowFormCheckBoxListFieldView_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RowFormCheckBoxListFieldView.less */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormCheckBoxListFieldController/RowFormCheckBoxListFieldView.less");
/* harmony import */ var _RowFormCheckBoxListFieldView_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_RowFormCheckBoxListFieldView_less__WEBPACK_IMPORTED_MODULE_3__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });




const _RowFormCheckBoxListFieldView = class _RowFormCheckBoxListFieldView extends _RowFormFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormFieldView {
  getItems() {
    const ctrl = this.getCtrl();
    try {
      return ctrl.getRows().map((row) => {
        return ctrl.getItemFromRow(row);
      });
    } catch (err) {
      err.message = `${ctrl.getModel().getFullName()}: ${err.message}`;
      throw err;
    }
  }
  renderCheckBoxList() {
    const ctrl = this.getCtrl();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      _common__WEBPACK_IMPORTED_MODULE_2__.CheckBoxList,
      {
        name: ctrl.getModel().getFullName(),
        classList: [`${this.getCssBlockName()}__checkboxlist`],
        onCreate: this.onWidgetCreate,
        value: ctrl.getValueForWidget(),
        readOnly: !ctrl.isEditable(),
        onChange: ctrl.onChange,
        items: this.getItems()
      }
    );
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: this.getCssClassNames(), children: this.renderCheckBoxList() });
  }
};
__name(_RowFormCheckBoxListFieldView, "RowFormCheckBoxListFieldView");
let RowFormCheckBoxListFieldView = _RowFormCheckBoxListFieldView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormComboBoxFieldController/RowFormComboBoxFieldController.ts":
/*!****************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormComboBoxFieldController/RowFormComboBoxFieldController.ts ***!
  \****************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormComboBoxFieldController": () => (/* binding */ RowFormComboBoxFieldController)
/* harmony export */ });
/* harmony import */ var _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../RowFormFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldController.ts");
/* harmony import */ var _RowFormComboBoxFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RowFormComboBoxFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormComboBoxFieldController/RowFormComboBoxFieldView.tsx");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common/Helper */ "./src/frontend/common/Helper.ts");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../../types */ "./src/types.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};




const _RowFormComboBoxFieldController = class _RowFormComboBoxFieldController extends _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__.RowFormFieldController {
  constructor() {
    super(...arguments);
    this.onEditButtonClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("RowFormComboBoxFieldController.onEditButtonClick");
      const itemEditPage = this.getModel().getAttr("itemEditPage");
      const value = this.getValue();
      if (itemEditPage && value) {
        yield this.openPage({
          name: itemEditPage,
          params: {
            key: value
          }
        });
      }
    }), "onEditButtonClick");
    this.onCreateButtonClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("RowFormComboBoxFieldController.onCreateButtonClick");
      const newRowMode = this.getModel().getAttr("newRowMode");
      const itemCreateForm = this.getModel().getAttr("itemCreateForm");
      if (!itemCreateForm)
        throw new Error("no itemCreateForm");
      let createPageName;
      if (newRowMode === "editPage") {
        createPageName = this.getModel().getAttr("itemEditPage");
      } else if (newRowMode === "createPage") {
        createPageName = this.getModel().getAttr("itemCreatePage");
      } else {
        throw new Error(`wrong newRowMode value: ${newRowMode}`);
      }
      const pc = yield this.openPage({
        name: createPageName,
        newMode: true
      });
      const form = pc.getModel().getForm(itemCreateForm);
      const onInsert = /* @__PURE__ */ __name((e2) => __async(this, null, function* () {
        form.off("insert", onInsert);
        const [key] = e2.inserts;
        const [id] = _common_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.decodeValue(key);
        yield this.onChange(id.toString());
      }), "onInsert");
      form.on("insert", onInsert);
    }), "onCreateButtonClick");
    this.onListInsert = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("RowFormComboBoxFieldController.onListInsert");
      yield this.rerender();
    }), "onListInsert");
    this.onListUpdate = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      yield this.rerender();
    }), "onListUpdate");
    this.onListDelete = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      yield this.rerender();
    }), "onListDelete");
    this.onItemSelect = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      if (e.button === 0) {
        e.preventDefault();
        const id = this.getValue();
        const selectedKey = id ? (0,_types__WEBPACK_IMPORTED_MODULE_3__.keyTupleToKey)([id]) : void 0;
        yield this.openPage({
          name: this.getModel().getAttr("itemSelectPage"),
          selectMode: true,
          selectedKey,
          onSelect: (key) => __async(this, null, function* () {
            if (key) {
              const [id2] = (0,_types__WEBPACK_IMPORTED_MODULE_3__.keyToKeyTuple)(key);
              if (this.getValue() !== id2) {
                yield this.getView().onChange(
                  id2.toString()
                );
              }
            } else {
              if (this.getValue() !== null) {
                yield this.getView().onChange("");
              }
            }
          })
        });
      }
    }), "onItemSelect");
  }
  init() {
    super.init();
    const dataSource = this.getModel().getComboBoxDataSource();
    dataSource.on("insert", this.onListInsert);
    dataSource.on("update", this.onListUpdate);
    dataSource.on("delete", this.onListDelete);
  }
  deinit() {
    const dataSource = this.getModel().getComboBoxDataSource();
    dataSource.off("insert", this.onListInsert);
    dataSource.off("update", this.onListUpdate);
    dataSource.off("delete", this.onListDelete);
    super.deinit();
  }
  getViewClass() {
    return super.getViewClass() || _RowFormComboBoxFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormComboBoxFieldView;
  }
  getItems() {
    try {
      return this.getRows().map((row) => ({
        value: this.valueToString(this.getModel().getValueValue(row)),
        title: this.getModel().getDisplayValue(row)
      }));
    } catch (err) {
      err.message = `${this.getModel().getFullName()}: ${err.message}`;
      throw err;
    }
  }
  getRows() {
    return this.getModel().getComboBoxDataSource().getRows();
  }
  getPlaceholder() {
    if (this.getModel().getAttr("placeholder"))
      return this.getModel().getAttr("placeholder");
    return this.getApp().getHostApp().isDebugMode() ? "[null]" : null;
  }
};
__name(_RowFormComboBoxFieldController, "RowFormComboBoxFieldController");
let RowFormComboBoxFieldController = _RowFormComboBoxFieldController;
_common_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.registerGlobalClass(RowFormComboBoxFieldController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormComboBoxFieldController/RowFormComboBoxFieldView.tsx":
/*!***********************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormComboBoxFieldController/RowFormComboBoxFieldView.tsx ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormComboBoxFieldView": () => (/* binding */ RowFormComboBoxFieldView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _RowFormFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../RowFormFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldView.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _RowFormComboBoxFieldView_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RowFormComboBoxFieldView.less */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormComboBoxFieldController/RowFormComboBoxFieldView.less");
/* harmony import */ var _RowFormComboBoxFieldView_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_RowFormComboBoxFieldView_less__WEBPACK_IMPORTED_MODULE_3__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};




const _RowFormComboBoxFieldView = class _RowFormComboBoxFieldView extends _RowFormFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormFieldView {
  constructor() {
    super(...arguments);
    this.onChange = /* @__PURE__ */ __name((widgetValue) => __async(this, null, function* () {
      this.rerender();
      yield this.getCtrl().onChange(widgetValue);
    }), "onChange");
  }
  isCreateButtonVisible() {
    if (this.getCtrl().getForm().getMode() !== "edit") {
      return false;
    }
    if (this.getCtrl().getModel().getAttr("newRowMode") === "disabled") {
      return false;
    }
    if (this.getCtrl().getModel().getAttr("newRowMode") === "editPage") {
      return !!this.getCtrl().getModel().getAttr("itemEditPage") && !!this.getCtrl().getModel().getAttr("itemCreateForm");
    }
    if (this.getCtrl().getModel().getAttr("newRowMode") === "createPage") {
      return !!this.getCtrl().getModel().getAttr("itemCreatePage") && !!this.getCtrl().getModel().getAttr("itemCreateForm");
    }
  }
  renderSelect() {
    const ctrl = this.getCtrl();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      _common__WEBPACK_IMPORTED_MODULE_2__.Select,
      {
        classList: [`${this.getCssBlockName()}__select`],
        onCreate: this.onWidgetCreate,
        value: ctrl.getValueForWidget(),
        readOnly: !ctrl.isEditable(),
        onChange: this.onChange,
        items: ctrl.getItems(),
        placeholder: ctrl.getPlaceholder(),
        onMouseDown: ctrl.getModel().getAttr("itemSelectPage") ? ctrl.onItemSelect : null
      }
    );
  }
  renderEditButton() {
    const ctrl = this.getCtrl();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      _common__WEBPACK_IMPORTED_MODULE_2__.Button,
      {
        classList: [`${this.getCssBlockName()}__edit-button`],
        onClick: ctrl.onEditButtonClick,
        enabled: !!ctrl.getValue(),
        children: "..."
      }
    );
  }
  renderCreateButton() {
    const ctrl = this.getCtrl();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      _common__WEBPACK_IMPORTED_MODULE_2__.Button,
      {
        classList: [`${this.getCssBlockName()}__create-button`],
        onClick: ctrl.onCreateButtonClick,
        children: "+"
      }
    );
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: this.getCssClassNames(), children: [
      this.renderSelect(),
      this.getCtrl().getModel().getAttr("itemEditPage") && !!this.getCtrl().getValue() && this.renderEditButton(),
      this.isCreateButtonVisible() && this.renderCreateButton()
    ] });
  }
};
__name(_RowFormComboBoxFieldView, "RowFormComboBoxFieldView");
let RowFormComboBoxFieldView = _RowFormComboBoxFieldView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormDateFieldController/RowFormDateFieldController.ts":
/*!********************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormDateFieldController/RowFormDateFieldController.ts ***!
  \********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormDateFieldController": () => (/* binding */ RowFormDateFieldController)
/* harmony export */ });
/* harmony import */ var _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../RowFormFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldController.ts");
/* harmony import */ var _RowFormDateFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RowFormDateFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormDateFieldController/RowFormDateFieldView.tsx");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _RowFormDateFieldController = class _RowFormDateFieldController extends _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__.RowFormFieldController {
  getViewClass() {
    return super.getViewClass() || _RowFormDateFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormDateFieldView;
  }
  getValueForWidget() {
    return this.getValue();
  }
  setValueFromWidget(widgetValue) {
    this.setValue(widgetValue);
  }
};
__name(_RowFormDateFieldController, "RowFormDateFieldController");
let RowFormDateFieldController = _RowFormDateFieldController;
_common_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.registerGlobalClass(RowFormDateFieldController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormDateFieldController/RowFormDateFieldView.tsx":
/*!***************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormDateFieldController/RowFormDateFieldView.tsx ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormDateFieldView": () => (/* binding */ RowFormDateFieldView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _RowFormFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../RowFormFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldView.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _RowFormDateFieldView_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RowFormDateFieldView.less */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormDateFieldController/RowFormDateFieldView.less");
/* harmony import */ var _RowFormDateFieldView_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_RowFormDateFieldView_less__WEBPACK_IMPORTED_MODULE_3__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });




const _RowFormDateFieldView = class _RowFormDateFieldView extends _RowFormFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormFieldView {
  render() {
    const ctrl = this.getCtrl();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: this.getCssClassNames(), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      _common__WEBPACK_IMPORTED_MODULE_2__.DropdownDatePicker,
      {
        classList: [`${this.getCssBlockName()}__date-picker`],
        onCreate: this.onWidgetCreate,
        value: ctrl.getValueForWidget(),
        readOnly: !ctrl.isEditable(),
        onChange: ctrl.onChange,
        placeholder: ctrl.getPlaceholder(),
        format: ctrl.getFormat(),
        oldDates: this.props.oldDates,
        minDate: this.props.minDate,
        debug: ctrl.getApp().getHostApp().isDebugMode()
      }
    ) });
  }
};
__name(_RowFormDateFieldView, "RowFormDateFieldView");
let RowFormDateFieldView = _RowFormDateFieldView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormDateTimeFieldController/RowFormDateTimeFieldController.ts":
/*!****************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormDateTimeFieldController/RowFormDateTimeFieldController.ts ***!
  \****************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormDateTimeFieldController": () => (/* binding */ RowFormDateTimeFieldController)
/* harmony export */ });
/* harmony import */ var _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../RowFormFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldController.ts");
/* harmony import */ var _RowFormDateTimeFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RowFormDateTimeFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormDateTimeFieldController/RowFormDateTimeFieldView.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });




const _RowFormDateTimeFieldController = class _RowFormDateTimeFieldController extends _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__.RowFormFieldController {
  constructor(model, parent) {
    super(model, parent);
    this.widget2 = null;
    this.defaultValue = 0;
    this.onView2Create = /* @__PURE__ */ __name((widget2) => {
      this.widget2 = widget2;
    }, "onView2Create");
    /*_onChange(widgetValue) {
        // console.debug('RowFormDateTimeFieldController._onChange', this.widget2);
        if (widgetValue !== null) {
            setTimeout(() => {
                const input = this.widget2.getInputElement();
                input.focus();
                input.setSelectionRange(0, input.value.length);
            }, 0);
        }
    }*/
    this.onChange2 = /* @__PURE__ */ __name((widgetValue, fireEvent = true) => {
      this.resetErrors();
      this.resetErrors2();
      this.rerender();
      if (!this.isValidateOnChange2())
        return;
      try {
        this.setValueFromView2(widgetValue);
      } catch (err) {
        console.debug(`${this.getModel().getFullName()}: cannot parse time: ${err.message}`);
        this.state.parseError2 = err.message;
      }
      if (!this.state.parseError2) {
        this.validate2();
        if (this.isValid()) {
          this.copyValueToModel();
        }
      }
      this.refreshChangedState();
      if (fireEvent) {
        try {
          this.emit("change", { value: widgetValue });
        } catch (err) {
          console.error("unhandled change event error:", this.getModel().getFullName(), err);
        }
        this.getParent().onFieldChange({ source: this });
      }
    }, "onChange2");
    this.onBlur2 = /* @__PURE__ */ __name((widgetValue, fireEvent = true) => {
      console.debug("RowFormDateTimeFieldController.onBlur2", widgetValue);
      if (!this.isEditable())
        return;
      this.resetErrors2();
      this.rerender();
      try {
        this.setValueFromView2(widgetValue);
      } catch (err) {
        console.debug(`${this.getModel().getFullName()}: cannot parse time: ${err.message}`);
        this.state.parseError2 = err.message;
      }
      if (!this.state.parseError2) {
        this.validate2();
        if (this.isValid()) {
          this.copyValueToModel();
        }
      }
      this.refreshChangedState();
      if (fireEvent) {
        try {
          this.emit("change", { value: widgetValue });
        } catch (err) {
          console.error("unhandled change event error:", this.getModel().getFullName(), err);
        }
        this.getParent().onFieldChange({ source: this });
      }
    }, "onBlur2");
    this.state.parseError2 = null;
    this.state.error2 = null;
  }
  getViewClass() {
    return super.getViewClass() || _RowFormDateTimeFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormDateTimeFieldView;
  }
  getValueForWidget() {
    return this.getValue();
  }
  getValueForTime() {
    const date = this.getValue();
    if (date) {
      const value = date.getHours() * 60 + date.getMinutes();
      if (value !== this.defaultValue) {
        return value;
      }
    }
    return null;
  }
  setValueFromWidget(widgetValue) {
    if (widgetValue === null) {
      this.state.parseError2 = null;
      this.resetErrors2();
      if (this.widget2)
        this.widget2.setValue(null);
    } else {
      const [h, m] = _common__WEBPACK_IMPORTED_MODULE_2__.TimeBox.splitTime(this.defaultValue);
      widgetValue.setHours(h, m);
    }
    this.setValue(widgetValue);
  }
  getPlaceholder2() {
    return _common__WEBPACK_IMPORTED_MODULE_2__.TimeBox.getStringValue(this.defaultValue);
  }
  getDefaultValue() {
    return this.defaultValue;
  }
  setDefaultValue2(defaultValue) {
    if (typeof defaultValue === "string") {
      this.defaultValue = _common__WEBPACK_IMPORTED_MODULE_2__.TimeBox.getIntegerValue(defaultValue);
    } else {
      if (defaultValue >= 24 * 60)
        throw new Error(`wrong default value: ${defaultValue}`);
      this.defaultValue = defaultValue;
    }
    if (this.widget2 && this.widget2.getValue() === null && this.state.value) {
      this.setValue2(null);
    }
  }
  setValueFromView2(widgetValue) {
    if (isNaN(widgetValue))
      throw new Error(this.getTimeErrorText());
    this.setValue2(widgetValue);
  }
  getTimeErrorText() {
    return this.getModel().getApp().getText().field.timeNotValid;
  }
  setValue2(widgetValue) {
    const value = widgetValue !== null ? widgetValue : this.defaultValue;
    const [h, m] = _common__WEBPACK_IMPORTED_MODULE_2__.TimeBox.splitTime(value);
    this.state.value.setHours(h, m);
  }
  validate2() {
    this.state.error2 = this.getError2();
  }
  getError2() {
    if (this.widget2) {
      try {
        const widgetValue = this.widget2.getValue();
      } catch (err) {
        return `can't parse time: ${err.message}`;
      }
    }
    return null;
  }
  isParseError2() {
    return this.state.parseError2 !== null;
  }
  resetErrors2() {
    this.setError2(null);
    this.state.parseError2 = null;
  }
  setError2(error2) {
    this.state.error2 = error2;
  }
  getErrorMessage2() {
    if (this.state.parseError2) {
      return this.state.parseError2;
    }
    return this.state.error2;
  }
  isValid2() {
    return this.state.parseError2 === null && this.state.error2 === null;
  }
  refill() {
    if (!this.widget2)
      return;
    super.refill();
    this.widget2.setValue(this.getValueForTime());
    this.resetErrors2();
    this.refreshChangedState();
  }
  isParseError() {
    return super.isParseError() || this.isParseError2();
  }
  isValid() {
    return super.isValid() && this.isValid2();
  }
  getErrorMessage() {
    if (super.getErrorMessage() === null && this.getErrorMessage2() === null)
      return null;
    return [
      ...super.getErrorMessage() ? [super.getErrorMessage()] : [],
      ...this.getErrorMessage2() ? [this.getErrorMessage2()] : []
    ].join(", ");
  }
  isValidateOnChange2() {
    return true;
  }
  isValidateOnBlur2() {
    return false;
  }
};
__name(_RowFormDateTimeFieldController, "RowFormDateTimeFieldController");
let RowFormDateTimeFieldController = _RowFormDateTimeFieldController;
_common_Helper__WEBPACK_IMPORTED_MODULE_3__.Helper.registerGlobalClass(RowFormDateTimeFieldController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormDateTimeFieldController/RowFormDateTimeFieldView.tsx":
/*!***********************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormDateTimeFieldController/RowFormDateTimeFieldView.tsx ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormDateTimeFieldView": () => (/* binding */ RowFormDateTimeFieldView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _RowFormFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../RowFormFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldView.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _RowFormDateTimeFieldView_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RowFormDateTimeFieldView.less */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormDateTimeFieldController/RowFormDateTimeFieldView.less");
/* harmony import */ var _RowFormDateTimeFieldView_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_RowFormDateTimeFieldView_less__WEBPACK_IMPORTED_MODULE_3__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};




const _RowFormDateTimeFieldView = class _RowFormDateTimeFieldView extends _RowFormFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormFieldView {
  constructor() {
    super(...arguments);
    this.onClear2 = /* @__PURE__ */ __name(() => __async(this, null, function* () {
      this.getCtrl().onChange2(null);
    }), "onClear2");
  }
  isCloseVisible() {
    if (this.props.readOnly)
      return false;
    const { ctrl } = this.props;
    if (!ctrl.widget2) {
      return this.props.value !== void 0;
    }
    return ctrl.widget2.state.value !== "";
  }
  renderDatePart() {
    const ctrl = this.getCtrl();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      _common__WEBPACK_IMPORTED_MODULE_2__.DropdownDatePicker,
      {
        classList: [`${this.getCssBlockName()}__dropdown-date-picker`],
        onCreate: this.onWidgetCreate,
        value: ctrl.getValueForWidget(),
        readOnly: !ctrl.isEditable(),
        onChange: ctrl.onChange,
        placeholder: ctrl.getPlaceholder(),
        format: ctrl.getFormat(),
        oldDates: this.props.oldDates,
        highlightedDate: ctrl.getHighlightedDate ? ctrl.getHighlightedDate() : null,
        selectToday: ctrl.getSelectToday ? ctrl.getSelectToday() : null,
        minDate: ctrl.getMinDate ? ctrl.getMinDate() : null,
        debug: ctrl.getApp().getHostApp().isDebugMode()
      }
    );
  }
  renderTimePart() {
    const ctrl = this.getCtrl();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      _common__WEBPACK_IMPORTED_MODULE_2__.TimeBox2,
      {
        classList: [`${this.getCssBlockName()}__time-box`],
        onCreate: ctrl.onView2Create,
        readOnly: !ctrl.isEditable(),
        value: ctrl.getValueForTime(),
        onChange: ctrl.onChange2,
        onBlur: ctrl.isValidateOnBlur2() ? ctrl.onBlur2 : null,
        placeholder: ctrl.getPlaceholder2(),
        onClear: this.onClear2
      }
    );
  }
  getMode() {
    return this.getCtrl().state.value ? "datetime" : "date";
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "div",
      {
        className: `${this.getCssClassNames()} ${this.getMode()}`,
        style: this.getStyle(this.getCtrl().getRow()),
        children: [
          this.renderDatePart(),
          this.renderTimePart()
        ]
      }
    );
  }
};
__name(_RowFormDateTimeFieldView, "RowFormDateTimeFieldView");
let RowFormDateTimeFieldView = _RowFormDateTimeFieldView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldController.ts":
/*!*************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldController.ts ***!
  \*************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormFieldController": () => (/* binding */ RowFormFieldController)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _FieldController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../FieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/FieldController.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};


const _RowFormFieldController = class _RowFormFieldController extends _FieldController__WEBPACK_IMPORTED_MODULE_1__.FieldController {
  constructor(model, parent) {
    super(model, parent);
    this.state = {
      value: null,
      parseError: null,
      error: null,
      changed: false
    };
    this.onChange = /* @__PURE__ */ __name((widgetValue, fireEvent = true) => __async(this, null, function* () {
      console.debug(
        "RowFormFieldController.onChange",
        JSON.stringify(
          typeof widgetValue === "string" ? widgetValue.substring(0, 100) : widgetValue
        )
      );
      this.resetErrors();
      this.rerender();
      try {
        this.setValueFromWidget(widgetValue);
      } catch (err) {
        console.error(
          `${this.getModel().getFullName()}: cannot parse view value: ${err.message}`
        );
        this.state.parseError = err.message;
      }
      if (!this.state.parseError && this.isValidateOnChange()) {
        this.validate();
        if (this.isValid()) {
          this.copyValueToModel();
        }
      }
      this.refreshChangedState();
      if (fireEvent) {
        try {
          this.emit("change", { value: widgetValue });
        } catch (err) {
          console.error("unhandled change event error:", this.getModel().getFullName(), err);
        }
        this.getParent().onFieldChange({ source: this });
      }
    }), "onChange");
    this.onBlur = /* @__PURE__ */ __name((widgetValue, fireEvent = true) => {
      console.debug(
        "RowFormFieldController.onBlur",
        this.getModel().getFullName(),
        JSON.stringify(widgetValue)
      );
      if (!this.isEditable())
        return;
      this.rerender();
      if (!this.isValidateOnBlur())
        return;
      try {
        this.setValueFromWidget(widgetValue);
      } catch (err) {
        console.error(
          `${this.getModel().getFullName()}: cannot parse view value: ${err.message}`
        );
        this.state.parseError = err.message;
      }
      if (!this.state.parseError && this.isValidateOnBlur()) {
        this.validate();
        if (this.isValid()) {
          this.copyValueToModel();
        }
      }
      this.refreshChangedState();
      if (fireEvent) {
        try {
          this.emit("change", { value: widgetValue });
        } catch (err) {
          console.error("unhandled change event error:", this.getModel().getFullName(), err);
        }
        this.getParent().onFieldChange({ source: this });
      }
    }, "onBlur");
    this.onChangePure = /* @__PURE__ */ __name((value, fireEvent = true) => __async(this, null, function* () {
      console.debug("RowFormFieldController.onChangePure", JSON.stringify(value));
      this.setValue(value);
      this.resetErrors();
      this.rerender();
      if (this.isValidateOnChange()) {
        this.validate();
        if (this.isValid()) {
          this.copyValueToModel();
        }
      }
      this.refreshChangedState();
      if (fireEvent) {
        try {
          this.emit("change", { value });
        } catch (err) {
          console.error("unhandled change event error:", this.getModel().getFullName(), err);
        }
        this.getParent().onFieldChange({ source: this });
      }
    }), "onChangePure");
  }
  init() {
    const row = this.getRow();
    const value = this.getModel().getValue(row);
    this.setValue(value);
  }
  refill() {
    if (!this.view)
      return;
    const value = this.getModel().getValue(this.getRow());
    this.setValue(value);
    this.resetErrors();
    this.refreshChangedState();
  }
  getRow() {
    const form = this.getModel().getForm();
    return form.getRow();
  }
  getForm() {
    return this.getParent();
  }
  copyValueToModel() {
    this.getModel().setValue(this.getRow(), this.getValue());
  }
  /*_onChange(widgetValue) {
  
      }*/
  putValue(widgetValue) {
    this.onChange(widgetValue, false);
  }
  getValueForWidget() {
    const value = this.getValue();
    return this.valueToString(value);
  }
  setValueFromWidget(widgetValue) {
    if (typeof widgetValue !== "string")
      throw new Error(
        `${this.getModel().getFullName()}: widgetValue must be string, but got ${typeof widgetValue}`
      );
    const value = this.stringToValue(widgetValue);
    this.setValue(value);
  }
  setValue(value) {
    this.state.value = value;
  }
  getValue() {
    return this.state.value;
  }
  isChanged() {
    return this.state.changed;
  }
  isValid() {
    return this.state.parseError === null && this.state.error === null;
  }
  validate() {
    if (this.isVisible()) {
      this.state.error = this.getError();
    }
  }
  refreshChangedState() {
    this.state.changed = this.calcChangedState(this.getRow());
  }
  getPlaceholder() {
    if (this.getModel().getAttr("placeholder"))
      return this.getModel().getAttr("placeholder");
    if (this.getApp().getHostApp().isDebugMode()) {
      const value = this.getValue();
      if (value === void 0)
        return "undefined";
      if (value === null)
        return "null";
      if (value === "")
        return "empty string";
    }
    return null;
  }
  getError() {
    if (this.view && this.view.getWidget()) {
      try {
        const widgetValue = this.view.getWidget().getValue();
      } catch (err) {
        return `can't parse value: ${err.message}`;
      }
    }
    const value = this.getValue();
    if (this.getModel().isNotNull() && (value === null || value === void 0)) {
      return this.getNullErrorText();
    }
    return null;
  }
  getNullErrorText() {
    return this.getModel().getApp().getText().form.required;
  }
  isEditable() {
    return this.getParent().getMode() === "edit" && !this.getModel().isReadOnly();
  }
  isParseError() {
    return this.state.parseError !== null;
  }
  calcChangedState(row) {
    if (!row)
      throw new Error("FieldController: no row");
    if (this.isParseError()) {
      console.debug(
        `FIELD CHANGED ${this.getModel().getFullName()}: parse error: ${this.getErrorMessage()}`
      );
      return true;
    }
    if (!this.isValid()) {
      console.debug(
        `FIELD CHANGED ${this.getModel().getFullName()}: not valid: ${this.getErrorMessage()}`
      );
      return true;
    }
    if (this.getModel().hasColumn()) {
      const fieldRawValue = this.getModel().valueToRaw(this.getValue());
      const dsRawValue = this.getModel().getRawValue(row);
      if (fieldRawValue !== dsRawValue) {
        console.debug(
          `FIELD CHANGED ${this.getModel().getFullName()}`,
          JSON.stringify(dsRawValue),
          JSON.stringify(fieldRawValue)
        );
        return true;
      }
      if (this.getModel().isChanged(row)) {
        let original = row[this.getModel().getAttr("column")];
        let modified = this.getModel().getDefaultDataSource().getRowWithChanges(row)[this.getModel().getAttr("column")];
        if (original)
          original = original.substr(0, 100);
        if (modified)
          modified = modified.substr(0, 100);
        console.debug(
          `MODEL CHANGED ${this.getModel().getFullName()}:`,
          original,
          modified
        );
        return true;
      }
    }
    return false;
  }
  setError(error) {
    this.state.error = error;
  }
  resetErrors() {
    this.setError(null);
    this.state.parseError = null;
  }
  getErrorMessage() {
    if (this.state.parseError) {
      return this.state.parseError;
    }
    return this.state.error;
  }
  renderView() {
    return react__WEBPACK_IMPORTED_MODULE_0___default().createElement(this.getViewClass(), {
      onCreate: this.onViewCreate,
      ctrl: this
    });
  }
  isValidateOnChange() {
    return this.getModel().validateOnChange();
  }
  isValidateOnBlur() {
    return this.getModel().validateOnBlur();
  }
};
__name(_RowFormFieldController, "RowFormFieldController");
let RowFormFieldController = _RowFormFieldController;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldView.tsx":
/*!********************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldView.tsx ***!
  \********************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormFieldView": () => (/* binding */ RowFormFieldView)
/* harmony export */ });
/* harmony import */ var _FieldView__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/FieldView.tsx");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _RowFormFieldView = class _RowFormFieldView extends _FieldView__WEBPACK_IMPORTED_MODULE_0__.FieldView {
  constructor(props) {
    super(props);
    this.onWidgetCreate = /* @__PURE__ */ __name((widget) => {
      this.widget = widget;
    }, "onWidgetCreate");
    this.widget = null;
  }
  getWidget() {
    return this.widget;
  }
  getClassList() {
    const ctrl = this.getCtrl();
    return [
      ...super.getClassList(),
      ...ctrl.isEditable() ? ["editable"] : [],
      ...ctrl.isChanged() ? ["changed"] : [],
      ...ctrl.getErrorMessage() !== null ? ["error"] : []
    ];
  }
};
__name(_RowFormFieldView, "RowFormFieldView");
let RowFormFieldView = _RowFormFieldView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFileFieldController/RowFormFileFieldController.ts":
/*!********************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFileFieldController/RowFormFileFieldController.ts ***!
  \********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormFileFieldController": () => (/* binding */ RowFormFileFieldController)
/* harmony export */ });
/* harmony import */ var _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../RowFormFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldController.ts");
/* harmony import */ var _RowFormFileFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RowFormFileFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFileFieldController/RowFormFileFieldView.tsx");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _RowFormFileFieldController = class _RowFormFileFieldController extends _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__.RowFormFieldController {
  getViewClass() {
    return super.getViewClass() || _RowFormFileFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormFileFieldView;
  }
};
__name(_RowFormFileFieldController, "RowFormFileFieldController");
let RowFormFileFieldController = _RowFormFileFieldController;
_common_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.registerGlobalClass(RowFormFileFieldController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFileFieldController/RowFormFileFieldView.tsx":
/*!***************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFileFieldController/RowFormFileFieldView.tsx ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormFileFieldView": () => (/* binding */ RowFormFileFieldView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _RowFormFieldView__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../RowFormFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldView.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _ModalController_ImageDialogController_ImageDialogController__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../ModalController/ImageDialogController/ImageDialogController */ "./src/frontend/viewer/Controller/ModalController/ImageDialogController/ImageDialogController.ts");
/* harmony import */ var _RowFormFileFieldView_less__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./RowFormFileFieldView.less */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFileFieldController/RowFormFileFieldView.less");
/* harmony import */ var _RowFormFileFieldView_less__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_RowFormFileFieldView_less__WEBPACK_IMPORTED_MODULE_5__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};






const _RowFormFileFieldView = class _RowFormFileFieldView extends _RowFormFieldView__WEBPACK_IMPORTED_MODULE_2__.RowFormFieldView {
  constructor() {
    super(...arguments);
    this.image = react__WEBPACK_IMPORTED_MODULE_1___default().createRef();
    this.div = react__WEBPACK_IMPORTED_MODULE_1___default().createRef();
    this.input = react__WEBPACK_IMPORTED_MODULE_1___default().createRef();
    this.onClearClick = /* @__PURE__ */ __name((e) => {
      this.getCtrl().onChange("");
    }, "onClearClick");
    this.onChange = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      const file = e.target.files[0];
      if (file) {
        const widgetValue = yield _common__WEBPACK_IMPORTED_MODULE_3__.Helper.readFileAsDataURL(file);
        this.getCtrl().onChange(widgetValue);
      }
    }), "onChange");
    this.onImageClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("RowFormFileFieldView.onImageClick");
      const ctrl = this.getCtrl();
      const app = ctrl.getApp();
      const src = ctrl.getValueForWidget();
      const imageDialogCtrl = new _ModalController_ImageDialogController_ImageDialogController__WEBPACK_IMPORTED_MODULE_4__.ImageDialogController({
        app,
        id: app.getNewId(),
        src,
        onClose: () => {
          console.debug("onClose");
          this.getCtrl().getPage().getView().getElement().focus();
        }
      });
      yield app.openModal(imageDialogCtrl);
    }), "onImageClick");
    this.onImageIconClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("RowFormFileFieldView.onImageIconClick");
      this.getInput().click();
    }), "onImageIconClick");
  }
  /* constructor(props) {
      super(props);
      // this.image = React.createRef();
      // this.div = React.createRef();
      // this.input = React.createRef();
  } */
  getImage() {
    return this.image.current;
  }
  getDiv() {
    return this.div.current;
  }
  getInput() {
    return this.input.current;
  }
  updateSize() {
    if (this.getImage()) {
      const ns = this.getImage().getNaturalSize();
      this.getDiv().innerText = `${ns[0]}\xD7${ns[1]}`;
    }
  }
  render() {
    const ctrl = this.getCtrl();
    const row = ctrl.getRow();
    const value = ctrl.getValueForWidget();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: this.getCssClassNames(), style: this.getStyle(row), children: [
      !!value ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `${this.getCssBlockName()}__image-block`, children: [
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
          _common__WEBPACK_IMPORTED_MODULE_3__.Image,
          {
            classList: [`${this.getCssBlockName()}__image`],
            ref: this.image,
            src: value,
            onClick: this.onImageClick
          }
        ),
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: `${this.getCssBlockName()}__size`, ref: this.div }),
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: `${this.getCssBlockName()}__length`, children: _common__WEBPACK_IMPORTED_MODULE_3__.Helper.formatNumber(value.length) })
      ] }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        "div",
        {
          className: `${this.getCssBlockName()}__image-icon`,
          onClick: this.onImageIconClick,
          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
            "svg",
            {
              xmlns: "http://www.w3.org/2000/svg",
              width: 48 * 2,
              height: 48 * 2,
              viewBox: "0 0 48 48",
              children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("path", { d: "M38.65 15.3V11h-4.3V8h4.3V3.65h3V8H46v3h-4.35v4.3ZM4.7 44q-1.2 0-2.1-.9-.9-.9-.9-2.1V15.35q0-1.15.9-2.075.9-.925 2.1-.925h7.35L15.7 8h14v3H17.1l-3.65 4.35H4.7V41h34V20h3v21q0 1.2-.925 2.1-.925.9-2.075.9Zm17-7.3q3.6 0 6.05-2.45 2.45-2.45 2.45-6.1 0-3.6-2.45-6.025Q25.3 19.7 21.7 19.7q-3.65 0-6.075 2.425Q13.2 24.55 13.2 28.15q0 3.65 2.425 6.1Q18.05 36.7 21.7 36.7Zm0-3q-2.4 0-3.95-1.575-1.55-1.575-1.55-3.975 0-2.35 1.55-3.9 1.55-1.55 3.95-1.55 2.35 0 3.925 1.55 1.575 1.55 1.575 3.9 0 2.4-1.575 3.975Q24.05 33.7 21.7 33.7Zm0-5.5Z" })
            }
          )
        }
      ),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `${this.getCssBlockName()}__toolbar`, children: [
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
          "input",
          {
            ref: this.input,
            type: "file",
            onChange: this.onChange,
            disabled: !ctrl.isEditable(),
            style: { display: !value ? "none" : void 0 }
          }
        ),
        !!value && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common__WEBPACK_IMPORTED_MODULE_3__.Button, { onClick: this.onClearClick, enabled: ctrl.isEditable(), children: this.getCtrl().getApp().getModel().getText().field.clear })
      ] })
    ] });
  }
  componentDidMount() {
    setTimeout(() => this.updateSize(), 0);
  }
  componentDidUpdate(prevProps, prevState, snapshot) {
    setTimeout(() => this.updateSize(), 0);
  }
};
__name(_RowFormFileFieldView, "RowFormFileFieldView");
let RowFormFileFieldView = _RowFormFileFieldView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormLinkFieldController/RowFormLinkFieldController.ts":
/*!********************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormLinkFieldController/RowFormLinkFieldController.ts ***!
  \********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormLinkFieldController": () => (/* binding */ RowFormLinkFieldController)
/* harmony export */ });
/* harmony import */ var _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../RowFormFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldController.ts");
/* harmony import */ var _RowFormLinkFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RowFormLinkFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormLinkFieldController/RowFormLinkFieldView.tsx");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _RowFormLinkFieldController = class _RowFormLinkFieldController extends _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__.RowFormFieldController {
  constructor() {
    super(...arguments);
    this.onClick = /* @__PURE__ */ __name((e) => {
      console.debug("RowFormLinkFieldController.onClick", e);
      const pageName = this.getModel().getAttr("page");
      if (pageName) {
        e.preventDefault();
        this.openPage({
          name: pageName,
          params: {
            key: this.getValue()
          }
        });
      }
      this.emit({ source: this });
    }, "onClick");
  }
  getViewClass() {
    return super.getViewClass() || _RowFormLinkFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormLinkFieldView;
  }
  getDisplayValue() {
    const displayColumn = this.getModel().getAttr("displayColumn");
    if (displayColumn) {
      const ds = this.getModel().getDefaultDataSource();
      const rawValue = ds.getValue(ds.getSingleRow(), displayColumn);
      return JSON.parse(rawValue);
    }
    return null;
  }
};
__name(_RowFormLinkFieldController, "RowFormLinkFieldController");
let RowFormLinkFieldController = _RowFormLinkFieldController;
_common_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.registerGlobalClass(RowFormLinkFieldController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormLinkFieldController/RowFormLinkFieldView.tsx":
/*!***************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormLinkFieldController/RowFormLinkFieldView.tsx ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormLinkFieldView": () => (/* binding */ RowFormLinkFieldView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../../types */ "./src/types.ts");
/* harmony import */ var _RowFormFieldView__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../RowFormFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldView.tsx");
/* harmony import */ var _RowFormLinkFieldView_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RowFormLinkFieldView.less */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormLinkFieldController/RowFormLinkFieldView.less");
/* harmony import */ var _RowFormLinkFieldView_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_RowFormLinkFieldView_less__WEBPACK_IMPORTED_MODULE_3__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });




const _RowFormLinkFieldView = class _RowFormLinkFieldView extends _RowFormFieldView__WEBPACK_IMPORTED_MODULE_2__.RowFormFieldView {
  render() {
    const ctrl = this.getCtrl();
    let href = ctrl.getValueForWidget();
    let displayValue = ctrl.getValueForWidget();
    const valueOfDisplayColumn = ctrl.getDisplayValue();
    if (valueOfDisplayColumn) {
      displayValue = valueOfDisplayColumn;
    }
    const pageName = ctrl.getModel().getAttr("page");
    if (pageName) {
      const value = ctrl.getValueForWidget();
      href = ctrl.getPage().createOpenInNewLink(pageName, (0,_types__WEBPACK_IMPORTED_MODULE_1__.keyTupleToKey)([value]));
    }
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: this.getCssClassNames(), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a", { href, onClick: ctrl.onClick, target: "_blank", children: displayValue }) });
  }
};
__name(_RowFormLinkFieldView, "RowFormLinkFieldView");
let RowFormLinkFieldView = _RowFormLinkFieldView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormPasswordFieldController/RowFormPasswordFieldController.ts":
/*!****************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormPasswordFieldController/RowFormPasswordFieldController.ts ***!
  \****************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormPasswordFieldController": () => (/* binding */ RowFormPasswordFieldController)
/* harmony export */ });
/* harmony import */ var _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../RowFormFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldController.ts");
/* harmony import */ var _RowFormPasswordFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RowFormPasswordFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormPasswordFieldController/RowFormPasswordFieldView.tsx");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _RowFormPasswordFieldController = class _RowFormPasswordFieldController extends _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__.RowFormFieldController {
  getViewClass() {
    return super.getViewClass() || _RowFormPasswordFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormPasswordFieldView;
  }
};
__name(_RowFormPasswordFieldController, "RowFormPasswordFieldController");
let RowFormPasswordFieldController = _RowFormPasswordFieldController;
_common_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.registerGlobalClass(RowFormPasswordFieldController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormPasswordFieldController/RowFormPasswordFieldView.tsx":
/*!***********************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormPasswordFieldController/RowFormPasswordFieldView.tsx ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormPasswordFieldView": () => (/* binding */ RowFormPasswordFieldView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _RowFormFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../RowFormFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldView.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _RowFormPasswordFieldView_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RowFormPasswordFieldView.less */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormPasswordFieldController/RowFormPasswordFieldView.less");
/* harmony import */ var _RowFormPasswordFieldView_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_RowFormPasswordFieldView_less__WEBPACK_IMPORTED_MODULE_3__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};




const _RowFormPasswordFieldView = class _RowFormPasswordFieldView extends _RowFormFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormFieldView {
  constructor(props) {
    super(props);
    this.onCloseClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      const ctrl = this.getCtrl();
      this.getWidget().state.value = "";
      this.getWidget().setState({ value: "" });
      ctrl.onChange("");
      this.getWidget().getElement().focus();
    }), "onCloseClick");
    this.onFocus = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      this.addCssClass("focus");
      yield this.rerender();
    }), "onFocus");
    this.onBlur = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      this.removeCssClass("focus");
      yield this.rerender();
    }), "onBlur");
    this.onIconClick = /* @__PURE__ */ __name((e) => {
      this.setState((prevState) => {
        return {
          type: prevState.type === "password" ? "text" : "password"
        };
      });
    }, "onIconClick");
    this.state = {
      classList: [],
      type: "password"
    };
  }
  isCloseVisible() {
    const ctrl = this.getCtrl();
    if (!ctrl.isEditable())
      return false;
    if (!this.getWidget()) {
      return this.props.value !== void 0;
    }
    return this.getWidget().state.value !== "";
  }
  render() {
    const ctrl = this.getCtrl();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: this.getCssClassNames(), children: [
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        _common__WEBPACK_IMPORTED_MODULE_2__.TextBox,
        {
          classList: [`${this.getCssBlockName()}__input`],
          type: this.state.type,
          value: ctrl.getValueForWidget(),
          readOnly: !ctrl.isEditable(),
          disabled: !ctrl.isEditable(),
          autoFocus: ctrl.isAutoFocus(),
          placeholder: ctrl.getPlaceholder() || null,
          autocomplete: ctrl.getAutocomplete(),
          onCreate: this.onWidgetCreate,
          onChange: ctrl.onChange,
          onFocus: this.onFocus,
          onBlur: this.onBlur
        }
      ),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        "div",
        {
          className: `${this.getCssBlockName()}__close ${this.isCloseVisible() ? "visible" : ""}`,
          onClick: this.onCloseClick,
          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common__WEBPACK_IMPORTED_MODULE_2__.CloseIcon, {})
        }
      ),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__icon`, onClick: this.onIconClick, children: this.state.type === "password" ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common__WEBPACK_IMPORTED_MODULE_2__.VisibilityIcon, {}) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common__WEBPACK_IMPORTED_MODULE_2__.VisibilityOffIcon, {}) })
    ] });
  }
};
__name(_RowFormPasswordFieldView, "RowFormPasswordFieldView");
let RowFormPasswordFieldView = _RowFormPasswordFieldView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormPhoneFieldController/RowFormPhoneFieldController.ts":
/*!**********************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormPhoneFieldController/RowFormPhoneFieldController.ts ***!
  \**********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormPhoneFieldController": () => (/* binding */ RowFormPhoneFieldController)
/* harmony export */ });
/* harmony import */ var _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../RowFormFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldController.ts");
/* harmony import */ var _RowFormPhoneFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RowFormPhoneFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormPhoneFieldController/RowFormPhoneFieldView.tsx");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _RowFormPhoneFieldController = class _RowFormPhoneFieldController extends _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__.RowFormFieldController {
  getViewClass() {
    return super.getViewClass() || _RowFormPhoneFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormPhoneFieldView;
  }
  getPhoneFormatErrorText() {
    return this.getModel().getApp().getText().form.phoneNumberFormatError;
  }
  getError() {
    const error = super.getError();
    if (error)
      return error;
    const value = this.getValue();
    if (value && value.substr(0, 2) === "+7" && value.length < 12) {
      return this.getPhoneFormatErrorText();
    }
    return null;
  }
};
__name(_RowFormPhoneFieldController, "RowFormPhoneFieldController");
let RowFormPhoneFieldController = _RowFormPhoneFieldController;
_common_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.registerGlobalClass(RowFormPhoneFieldController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormPhoneFieldController/RowFormPhoneFieldView.tsx":
/*!*****************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormPhoneFieldController/RowFormPhoneFieldView.tsx ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormPhoneFieldView": () => (/* binding */ RowFormPhoneFieldView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _RowFormFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../RowFormFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldView.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _RowFormPhoneFieldView_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RowFormPhoneFieldView.less */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormPhoneFieldController/RowFormPhoneFieldView.less");
/* harmony import */ var _RowFormPhoneFieldView_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_RowFormPhoneFieldView_less__WEBPACK_IMPORTED_MODULE_3__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};




const _RowFormPhoneFieldView = class _RowFormPhoneFieldView extends _RowFormFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormFieldView {
  constructor(props) {
    super(props);
    this.onClear = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      this.getCtrl().onChange("");
      setTimeout(() => {
        this.getWidget().getElement().focus();
      }, 0);
    }), "onClear");
    this.onFocus = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      this.addCssClass("focus");
      yield this.rerender();
    }), "onFocus");
    this.onBlur = /* @__PURE__ */ __name((value) => __async(this, null, function* () {
      this.removeCssClass("focus");
      this.getCtrl().onBlur(value);
    }), "onBlur");
    this.state = {
      classList: []
    };
  }
  isCloseVisible() {
    const ctrl = this.getCtrl();
    if (!ctrl.isEditable())
      return false;
    return ctrl.getValueForWidget() !== "";
  }
  renderPhoneBox() {
    const ctrl = this.getCtrl();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      _common__WEBPACK_IMPORTED_MODULE_2__.PhoneBox,
      {
        classList: [`${this.getCssBlockName()}__input`],
        value: ctrl.getValueForWidget(),
        readOnly: !ctrl.isEditable(),
        disabled: !ctrl.isEditable(),
        autoFocus: ctrl.isAutoFocus(),
        placeholder: ctrl.getPlaceholder() || null,
        autocomplete: ctrl.getAutocomplete(),
        onCreate: this.onWidgetCreate,
        onChange: ctrl.onChange,
        onFocus: this.onFocus,
        onBlur: this.onBlur
      }
    );
  }
  renderClearButton() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      "div",
      {
        className: `${this.getCssBlockName()}__close ${this.isCloseVisible() ? "visible" : ""}`,
        onMouseDown: this.onClear,
        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common__WEBPACK_IMPORTED_MODULE_2__.CloseIcon, {})
      }
    );
  }
  renderPhoneIcon() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__icon`, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common__WEBPACK_IMPORTED_MODULE_2__.PhoneIcon, {}) });
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: this.getCssClassNames(), children: [
      this.renderPhoneBox(),
      this.renderClearButton(),
      this.renderPhoneIcon()
    ] });
  }
};
__name(_RowFormPhoneFieldView, "RowFormPhoneFieldView");
let RowFormPhoneFieldView = _RowFormPhoneFieldView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormRadioFieldController/RowFormRadioFieldController.ts":
/*!**********************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormRadioFieldController/RowFormRadioFieldController.ts ***!
  \**********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormRadioFieldController": () => (/* binding */ RowFormRadioFieldController)
/* harmony export */ });
/* harmony import */ var _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../RowFormFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldController.ts");
/* harmony import */ var _RowFormRadioFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RowFormRadioFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormRadioFieldController/RowFormRadioFieldView.tsx");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _RowFormRadioFieldController = class _RowFormRadioFieldController extends _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__.RowFormFieldController {
  getViewClass() {
    return super.getViewClass() || _RowFormRadioFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormRadioFieldView;
  }
  getItems() {
    try {
      return this.getRows().map((row) => ({
        // value: this.valueToString(this.getModel().getValueValue(row)),
        value: this.getModel().getValueValue(row),
        title: this.getModel().getDisplayValue(row)
      }));
    } catch (err) {
      err.message = `${this.getModel().getFullName()}: ${err.message}`;
      throw err;
    }
  }
  getRows() {
    return this.getModel().getDataSource().getRows();
  }
};
__name(_RowFormRadioFieldController, "RowFormRadioFieldController");
let RowFormRadioFieldController = _RowFormRadioFieldController;
_common_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.registerGlobalClass(RowFormRadioFieldController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormRadioFieldController/RowFormRadioFieldView.tsx":
/*!*****************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormRadioFieldController/RowFormRadioFieldView.tsx ***!
  \*****************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormRadioFieldView": () => (/* binding */ RowFormRadioFieldView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _RowFormFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../RowFormFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldView.tsx");
/* harmony import */ var _RowFormRadioFieldView_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./RowFormRadioFieldView.less */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormRadioFieldController/RowFormRadioFieldView.less");
/* harmony import */ var _RowFormRadioFieldView_less__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_RowFormRadioFieldView_less__WEBPACK_IMPORTED_MODULE_2__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};



const _RowFormRadioFieldView = class _RowFormRadioFieldView extends _RowFormFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormFieldView {
  constructor() {
    super(...arguments);
    /*onChange = async widgetValue => {
        // console.debug('RowFormRadioFieldView.onChange', widgetValue);
        this.rerender();
        await this.getCtrl().onChange(widgetValue);
    }*/
    this.onClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("RowFormRadioFieldView.onClick", e.currentTarget.dataset.value);
      let value = JSON.parse(e.currentTarget.dataset.value);
      if (this.getCtrl().getValue() !== value) {
        yield this.getCtrl().onChangePure(value);
      }
    }), "onClick");
  }
  /*render() {
      return <div className={this.getCssClassNames()}>
          <Radio  classList={[
                      `${this.getCssBlockName()}__radio`,
                      ...(!this.getCtrl().isEditable() ? ['readOnly'] : [])
                  ]}
                  name={this.getCtrl().getModel().getFullName()}
                  items={this.getCtrl().getItems()}
                  value={this.getCtrl().getValueForWidget()}
                  readOnly={!this.getCtrl().isEditable()}
                  onChange={this.onChange}
          />
      </div>;
  }*/
  render() {
    const value = this.getCtrl().getValue();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: this.getCssClassNames(), children: this.getCtrl().getItems().map((item) => {
      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        "input",
        {
          className: `${this.getCssBlockName()}__toggle ${value === item.value ? "selected" : ""}`,
          type: "button",
          value: item.title || item.value,
          disabled: !this.getCtrl().isEditable(),
          "data-value": JSON.stringify(item.value),
          onClick: this.onClick
        },
        item.value
      );
    }) });
  }
};
__name(_RowFormRadioFieldView, "RowFormRadioFieldView");
let RowFormRadioFieldView = _RowFormRadioFieldView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTextAreaFieldController/RowFormTextAreaFieldController.ts":
/*!****************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTextAreaFieldController/RowFormTextAreaFieldController.ts ***!
  \****************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormTextAreaFieldController": () => (/* binding */ RowFormTextAreaFieldController)
/* harmony export */ });
/* harmony import */ var _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../RowFormFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldController.ts");
/* harmony import */ var _RowFormTextAreaFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RowFormTextAreaFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTextAreaFieldController/RowFormTextAreaFieldView.tsx");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _RowFormTextAreaFieldController = class _RowFormTextAreaFieldController extends _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__.RowFormFieldController {
  getViewClass() {
    return super.getViewClass() || _RowFormTextAreaFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormTextAreaFieldView;
  }
};
__name(_RowFormTextAreaFieldController, "RowFormTextAreaFieldController");
let RowFormTextAreaFieldController = _RowFormTextAreaFieldController;
_common_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.registerGlobalClass(RowFormTextAreaFieldController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTextAreaFieldController/RowFormTextAreaFieldView.tsx":
/*!***********************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTextAreaFieldController/RowFormTextAreaFieldView.tsx ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormTextAreaFieldView": () => (/* binding */ RowFormTextAreaFieldView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _RowFormFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../RowFormFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldView.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _RowFormTextAreaFieldView_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RowFormTextAreaFieldView.less */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTextAreaFieldController/RowFormTextAreaFieldView.less");
/* harmony import */ var _RowFormTextAreaFieldView_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_RowFormTextAreaFieldView_less__WEBPACK_IMPORTED_MODULE_3__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};




const _RowFormTextAreaFieldView = class _RowFormTextAreaFieldView extends _RowFormFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormFieldView {
  constructor(props) {
    super(props);
    this.onFocus = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      this.addCssClass("focus");
      yield this.rerender();
    }), "onFocus");
    this.onBlur = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      this.removeCssClass("focus");
      yield this.rerender();
    }), "onBlur");
    this.state = {
      classList: []
    };
  }
  render() {
    const ctrl = this.getCtrl();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: this.getCssClassNames(), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      _common__WEBPACK_IMPORTED_MODULE_2__.TextArea,
      {
        classList: [`${this.getCssBlockName()}__textarea`],
        onCreate: this.onWidgetCreate,
        value: ctrl.getValueForWidget(),
        readOnly: !ctrl.isEditable(),
        disabled: !ctrl.isEditable(),
        onChange: ctrl.onChange,
        placeholder: ctrl.getPlaceholder(),
        rows: ctrl.getModel().getRows(),
        cols: ctrl.getModel().getCols(),
        onFocus: this.onFocus,
        onBlur: this.onBlur
      }
    ) });
  }
};
__name(_RowFormTextAreaFieldView, "RowFormTextAreaFieldView");
let RowFormTextAreaFieldView = _RowFormTextAreaFieldView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTextBoxFieldController/RowFormTextBoxFieldController.ts":
/*!**************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTextBoxFieldController/RowFormTextBoxFieldController.ts ***!
  \**************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormTextBoxFieldController": () => (/* binding */ RowFormTextBoxFieldController)
/* harmony export */ });
/* harmony import */ var _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../RowFormFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldController.ts");
/* harmony import */ var _RowFormTextBoxFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RowFormTextBoxFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTextBoxFieldController/RowFormTextBoxFieldView.tsx");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _RowFormTextBoxFieldController = class _RowFormTextBoxFieldController extends _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__.RowFormFieldController {
  getViewClass() {
    return super.getViewClass() || _RowFormTextBoxFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormTextBoxFieldView;
  }
};
__name(_RowFormTextBoxFieldController, "RowFormTextBoxFieldController");
let RowFormTextBoxFieldController = _RowFormTextBoxFieldController;
_common_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.registerGlobalClass(RowFormTextBoxFieldController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTextBoxFieldController/RowFormTextBoxFieldView.tsx":
/*!*********************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTextBoxFieldController/RowFormTextBoxFieldView.tsx ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormTextBoxFieldView": () => (/* binding */ RowFormTextBoxFieldView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _RowFormFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../RowFormFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldView.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _RowFormTextBoxFieldView_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RowFormTextBoxFieldView.less */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTextBoxFieldController/RowFormTextBoxFieldView.less");
/* harmony import */ var _RowFormTextBoxFieldView_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_RowFormTextBoxFieldView_less__WEBPACK_IMPORTED_MODULE_3__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};




const _RowFormTextBoxFieldView = class _RowFormTextBoxFieldView extends _RowFormFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormFieldView {
  constructor(props) {
    super(props);
    this.onClear = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      this.getCtrl().onChange("");
      setTimeout(() => {
        this.getWidget().getElement().focus();
      }, 0);
    }), "onClear");
    this.onFocus = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      this.addCssClass("focus");
      yield this.rerender();
    }), "onFocus");
    this.onBlur = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      const value = e.target.value;
      this.removeCssClass("focus");
      this.getCtrl().onBlur(value);
    }), "onBlur");
    this.state = {
      classList: []
    };
  }
  isCloseVisible() {
    const ctrl = this.getCtrl();
    if (!ctrl.isEditable())
      return false;
    return ctrl.getValueForWidget() !== "";
  }
  renderTextBox() {
    const ctrl = this.getCtrl();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      _common__WEBPACK_IMPORTED_MODULE_2__.TextBox,
      {
        classList: [`${this.getCssBlockName()}__input`],
        value: ctrl.getValueForWidget(),
        readOnly: !ctrl.isEditable(),
        enabled: ctrl.isEditable(),
        autoFocus: ctrl.isAutoFocus(),
        placeholder: ctrl.getPlaceholder() || null,
        autocomplete: ctrl.getAutocomplete(),
        onCreate: this.onWidgetCreate,
        onChange: ctrl.onChange,
        onFocus: this.onFocus,
        onBlur: this.onBlur
      }
    );
  }
  renderCloseIcon() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      "div",
      {
        className: `${this.getCssBlockName()}__close ${this.isCloseVisible() ? "visible" : ""}`,
        onMouseDown: this.onClear,
        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common__WEBPACK_IMPORTED_MODULE_2__.CloseIcon, {})
      }
    );
  }
  render() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: this.getCssClassNames(), children: [
      this.renderTextBox(),
      this.renderCloseIcon()
    ] });
  }
};
__name(_RowFormTextBoxFieldView, "RowFormTextBoxFieldView");
let RowFormTextBoxFieldView = _RowFormTextBoxFieldView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTimeFieldController/RowFormTimeFieldController.ts":
/*!********************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTimeFieldController/RowFormTimeFieldController.ts ***!
  \********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormTimeFieldController": () => (/* binding */ RowFormTimeFieldController)
/* harmony export */ });
/* harmony import */ var _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../RowFormFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldController.ts");
/* harmony import */ var _RowFormTimeFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RowFormTimeFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTimeFieldController/RowFormTimeFieldView.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });




const _RowFormTimeFieldController = class _RowFormTimeFieldController extends _RowFormFieldController__WEBPACK_IMPORTED_MODULE_0__.RowFormFieldController {
  constructor() {
    super(...arguments);
    this.defaultValue = null;
  }
  /* constructor(...args) {
      super(...args);
      this.defaultValue = null;
  } */
  getViewClass() {
    return super.getViewClass() || _RowFormTimeFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormTimeFieldView;
  }
  getValueForWidget() {
    return this.getValue();
  }
  setValueFromWidget(widgetValue) {
    if (isNaN(widgetValue))
      throw new Error("wrong time");
    this.setValue(widgetValue);
  }
  getDefaultValue() {
    return this.defaultValue;
  }
  setDefaultValue2(defaultValue) {
    if (typeof defaultValue === "string") {
      this.defaultValue = _common__WEBPACK_IMPORTED_MODULE_2__.TimeBox.getIntegerValue(defaultValue);
    } else {
      if (defaultValue >= 24 * 60)
        throw new Error(`wrong default value: ${defaultValue}`);
      this.defaultValue = defaultValue;
    }
  }
  getPlaceholder() {
    if (this.defaultValue !== null)
      return _common__WEBPACK_IMPORTED_MODULE_2__.TimeBox.getStringValue(this.defaultValue);
    return super.getPlaceholder();
  }
};
__name(_RowFormTimeFieldController, "RowFormTimeFieldController");
let RowFormTimeFieldController = _RowFormTimeFieldController;
_common_Helper__WEBPACK_IMPORTED_MODULE_3__.Helper.registerGlobalClass(RowFormTimeFieldController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTimeFieldController/RowFormTimeFieldView.tsx":
/*!***************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTimeFieldController/RowFormTimeFieldView.tsx ***!
  \***************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormTimeFieldView": () => (/* binding */ RowFormTimeFieldView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _RowFormFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../RowFormFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldView.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _RowFormTimeFieldView_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./RowFormTimeFieldView.less */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTimeFieldController/RowFormTimeFieldView.less");
/* harmony import */ var _RowFormTimeFieldView_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_RowFormTimeFieldView_less__WEBPACK_IMPORTED_MODULE_3__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};




const _RowFormTimeFieldView = class _RowFormTimeFieldView extends _RowFormFieldView__WEBPACK_IMPORTED_MODULE_1__.RowFormFieldView {
  constructor() {
    super(...arguments);
    this.onCloseClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("RowFormTimeFieldView.onCloseClick");
    }), "onCloseClick");
  }
  isCloseVisible() {
    if (this.props.readOnly)
      return false;
    if (!this.getWidget()) {
      return this.props.value !== void 0;
    }
    return this.getWidget().state.value !== "";
  }
  render() {
    const ctrl = this.getCtrl();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: this.getCssClassNames(), children: [
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        _common__WEBPACK_IMPORTED_MODULE_2__.TimeBox,
        {
          onCreate: this.onWidgetCreate,
          value: ctrl.getValueForWidget(),
          readOnly: !ctrl.isEditable(),
          onChange: ctrl.onChange,
          onBlur: ctrl.onBlur,
          placeholder: ctrl.getPlaceholder()
        }
      ),
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        "div",
        {
          className: `close ${this.isCloseVisible() ? "visible" : ""}`,
          onClick: this.onCloseClick,
          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common__WEBPACK_IMPORTED_MODULE_2__.CloseIcon, {})
        }
      )
    ] });
  }
};
__name(_RowFormTimeFieldView, "RowFormTimeFieldView");
let RowFormTimeFieldView = _RowFormTimeFieldView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormCheckBoxFieldController/TableFormCheckBoxFieldController.ts":
/*!**********************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormCheckBoxFieldController/TableFormCheckBoxFieldController.ts ***!
  \**********************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableFormCheckBoxFieldController": () => (/* binding */ TableFormCheckBoxFieldController)
/* harmony export */ });
/* harmony import */ var _TableFormFieldController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../TableFormFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormFieldController.ts");
/* harmony import */ var _TableFormCheckBoxFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TableFormCheckBoxFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormCheckBoxFieldController/TableFormCheckBoxFieldView.tsx");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _TableFormCheckBoxFieldController = class _TableFormCheckBoxFieldController extends _TableFormFieldController__WEBPACK_IMPORTED_MODULE_0__.TableFormFieldController {
  getViewClass() {
    return super.getViewClass() || _TableFormCheckBoxFieldView__WEBPACK_IMPORTED_MODULE_1__.TableFormCheckBoxFieldView;
  }
  getValueForWidget(row) {
    return this.getModel().getValue(row);
  }
  getAlign() {
    return "center";
  }
};
__name(_TableFormCheckBoxFieldController, "TableFormCheckBoxFieldController");
let TableFormCheckBoxFieldController = _TableFormCheckBoxFieldController;
_common_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.registerGlobalClass(TableFormCheckBoxFieldController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormCheckBoxFieldController/TableFormCheckBoxFieldView.tsx":
/*!*****************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormCheckBoxFieldController/TableFormCheckBoxFieldView.tsx ***!
  \*****************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableFormCheckBoxFieldView": () => (/* binding */ TableFormCheckBoxFieldView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _TableFormFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../TableFormFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormFieldView.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _TableFormCheckBoxFieldView_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TableFormCheckBoxFieldView.less */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormCheckBoxFieldController/TableFormCheckBoxFieldView.less");
/* harmony import */ var _TableFormCheckBoxFieldView_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_TableFormCheckBoxFieldView_less__WEBPACK_IMPORTED_MODULE_3__);
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });




const _TableFormCheckBoxFieldView = class _TableFormCheckBoxFieldView extends _TableFormFieldView__WEBPACK_IMPORTED_MODULE_1__.TableFormFieldView {
  render() {
    const row = this.props.row;
    const ctrl = this.getCtrl();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      "div",
      {
        className: this.getCssClassNames(),
        style: __spreadProps(__spreadValues({}, this.getStyle(row)), { textAlign: ctrl.getAlign() }),
        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
          _common__WEBPACK_IMPORTED_MODULE_2__.CheckBox,
          {
            ref: this.span,
            checked: ctrl.getValueForWidget(row),
            readOnly: true,
            disabled: true
          }
        )
      }
    );
  }
};
__name(_TableFormCheckBoxFieldView, "TableFormCheckBoxFieldView");
let TableFormCheckBoxFieldView = _TableFormCheckBoxFieldView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormComboBoxFieldController/TableFormComboBoxFieldController.ts":
/*!**********************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormComboBoxFieldController/TableFormComboBoxFieldController.ts ***!
  \**********************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableFormComboBoxFieldController": () => (/* binding */ TableFormComboBoxFieldController)
/* harmony export */ });
/* harmony import */ var _TableFormFieldController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../TableFormFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormFieldController.ts");
/* harmony import */ var _TableFormComboBoxFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TableFormComboBoxFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormComboBoxFieldController/TableFormComboBoxFieldView.tsx");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};



const _TableFormComboBoxFieldController = class _TableFormComboBoxFieldController extends _TableFormFieldController__WEBPACK_IMPORTED_MODULE_0__.TableFormFieldController {
  constructor() {
    super(...arguments);
    this.onListUpdate = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      this.getForm().invalidate();
      yield this.getForm().rerender();
    }), "onListUpdate");
  }
  init() {
    super.init();
    const dataSource = this.getModel().getComboBoxDataSource();
    dataSource.on("insert", this.onListUpdate);
    dataSource.on("update", this.onListUpdate);
    dataSource.on("delete", this.onListUpdate);
  }
  deinit() {
    const dataSource = this.getModel().getComboBoxDataSource();
    dataSource.off("insert", this.onListUpdate);
    dataSource.off("update", this.onListUpdate);
    dataSource.off("delete", this.onListUpdate);
    super.deinit();
  }
  getViewClass() {
    return super.getViewClass() || _TableFormComboBoxFieldView__WEBPACK_IMPORTED_MODULE_1__.TableFormComboBoxFieldView;
  }
  getValueForWidget(row) {
    const value = this.getModel().getValue(row);
    const rawValue = this.getModel().valueToRaw(value);
    if (rawValue === void 0 || rawValue === "null")
      return "";
    const cbRow = this.getModel().findRowByRawValue(rawValue);
    if (cbRow) {
      return this.valueToString(this.getModel().getDisplayValue(cbRow));
    }
    return `[no row for id: ${rawValue}]`;
  }
};
__name(_TableFormComboBoxFieldController, "TableFormComboBoxFieldController");
let TableFormComboBoxFieldController = _TableFormComboBoxFieldController;
_common_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.registerGlobalClass(TableFormComboBoxFieldController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormComboBoxFieldController/TableFormComboBoxFieldView.tsx":
/*!*****************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormComboBoxFieldController/TableFormComboBoxFieldView.tsx ***!
  \*****************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableFormComboBoxFieldView": () => (/* binding */ TableFormComboBoxFieldView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _TableFormFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../TableFormFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormFieldView.tsx");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _TableFormComboBoxFieldView = class _TableFormComboBoxFieldView extends _TableFormFieldView__WEBPACK_IMPORTED_MODULE_1__.TableFormFieldView {
  render() {
    const row = this.props.row;
    const ctrl = this.getCtrl();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssClassNames()} ellipsis`, style: this.getStyle(row), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { ref: this.span, children: ctrl.getValueForWidget(row) }) });
  }
};
__name(_TableFormComboBoxFieldView, "TableFormComboBoxFieldView");
let TableFormComboBoxFieldView = _TableFormComboBoxFieldView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormDateFieldController/TableFormDateFieldController.ts":
/*!**************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormDateFieldController/TableFormDateFieldController.ts ***!
  \**************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableFormDateFieldController": () => (/* binding */ TableFormDateFieldController)
/* harmony export */ });
/* harmony import */ var _TableFormFieldController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../TableFormFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormFieldController.ts");
/* harmony import */ var _TableFormDateFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TableFormDateFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormDateFieldController/TableFormDateFieldView.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common */ "./src/frontend/common/index.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _TableFormDateFieldController = class _TableFormDateFieldController extends _TableFormFieldController__WEBPACK_IMPORTED_MODULE_0__.TableFormFieldController {
  getViewClass() {
    return super.getViewClass() || _TableFormDateFieldView__WEBPACK_IMPORTED_MODULE_1__.TableFormDateFieldView;
  }
  getValueForWidget(row) {
    const value = this.getModel().getValue(row);
    if (value)
      return _common__WEBPACK_IMPORTED_MODULE_2__.Helper.formatDate(value, this.getFormat() || "{DD}.{MM}.{YYYY} {hh}:{mm}:{ss}");
    return "";
  }
};
__name(_TableFormDateFieldController, "TableFormDateFieldController");
let TableFormDateFieldController = _TableFormDateFieldController;
_common__WEBPACK_IMPORTED_MODULE_2__.Helper.registerGlobalClass(TableFormDateFieldController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormDateFieldController/TableFormDateFieldView.tsx":
/*!*********************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormDateFieldController/TableFormDateFieldView.tsx ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableFormDateFieldView": () => (/* binding */ TableFormDateFieldView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _TableFormFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../TableFormFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormFieldView.tsx");
/* harmony import */ var _TableFormDateFieldView_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TableFormDateFieldView.less */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormDateFieldController/TableFormDateFieldView.less");
/* harmony import */ var _TableFormDateFieldView_less__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_TableFormDateFieldView_less__WEBPACK_IMPORTED_MODULE_2__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _TableFormDateFieldView = class _TableFormDateFieldView extends _TableFormFieldView__WEBPACK_IMPORTED_MODULE_1__.TableFormFieldView {
  render() {
    const row = this.props.row;
    const ctrl = this.getCtrl();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssClassNames()} ellipsis`, style: this.getStyle(row), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { ref: this.span, children: ctrl.getValueForWidget(row) }) });
  }
};
__name(_TableFormDateFieldView, "TableFormDateFieldView");
let TableFormDateFieldView = _TableFormDateFieldView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormDateTimeFieldController/TableFormDateTimeFieldController.ts":
/*!**********************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormDateTimeFieldController/TableFormDateTimeFieldController.ts ***!
  \**********************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableFormDateTimeFieldController": () => (/* binding */ TableFormDateTimeFieldController)
/* harmony export */ });
/* harmony import */ var _TableFormFieldController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../TableFormFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormFieldController.ts");
/* harmony import */ var _TableFormDateTimeFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TableFormDateTimeFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormDateTimeFieldController/TableFormDateTimeFieldView.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common */ "./src/frontend/common/index.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _TableFormDateTimeFieldController = class _TableFormDateTimeFieldController extends _TableFormFieldController__WEBPACK_IMPORTED_MODULE_0__.TableFormFieldController {
  getViewClass() {
    return super.getViewClass() || _TableFormDateTimeFieldView__WEBPACK_IMPORTED_MODULE_1__.TableFormDateTimeFieldView;
  }
  getValueForWidget(row) {
    const value = this.getModel().getValue(row);
    if (value)
      return _common__WEBPACK_IMPORTED_MODULE_2__.Helper.formatDate(value, this.getFormat() || "{DD}.{MM}.{YYYY} {hh}:{mm}:{ss}");
    return "";
  }
};
__name(_TableFormDateTimeFieldController, "TableFormDateTimeFieldController");
let TableFormDateTimeFieldController = _TableFormDateTimeFieldController;
_common__WEBPACK_IMPORTED_MODULE_2__.Helper.registerGlobalClass(TableFormDateTimeFieldController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormDateTimeFieldController/TableFormDateTimeFieldView.tsx":
/*!*****************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormDateTimeFieldController/TableFormDateTimeFieldView.tsx ***!
  \*****************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableFormDateTimeFieldView": () => (/* binding */ TableFormDateTimeFieldView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _TableFormFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../TableFormFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormFieldView.tsx");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _TableFormDateTimeFieldView = class _TableFormDateTimeFieldView extends _TableFormFieldView__WEBPACK_IMPORTED_MODULE_1__.TableFormFieldView {
  render() {
    const row = this.props.row;
    const ctrl = this.getCtrl();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssClassNames()} ellipsis`, style: this.getStyle(row), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { ref: this.span, children: ctrl.getValueForWidget(row) }) });
  }
};
__name(_TableFormDateTimeFieldView, "TableFormDateTimeFieldView");
let TableFormDateTimeFieldView = _TableFormDateTimeFieldView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormFieldController.ts":
/*!*****************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormFieldController.ts ***!
  \*****************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableFormFieldController": () => (/* binding */ TableFormFieldController)
/* harmony export */ });
/* harmony import */ var _FieldController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/FieldController.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _TableFormFieldController = class _TableFormFieldController extends _FieldController__WEBPACK_IMPORTED_MODULE_0__.FieldController {
  getValueForWidget(row) {
    return this.valueToString(this.getModel().getValue(row));
  }
  getForm() {
    return this.getParent();
  }
  getAlign() {
    return null;
  }
};
__name(_TableFormFieldController, "TableFormFieldController");
let TableFormFieldController = _TableFormFieldController;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormFieldView.tsx":
/*!************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormFieldView.tsx ***!
  \************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableFormFieldView": () => (/* binding */ TableFormFieldView)
/* harmony export */ });
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _FieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../FieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/FieldView.tsx");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _TableFormFieldView = class _TableFormFieldView extends _FieldView__WEBPACK_IMPORTED_MODULE_1__.FieldView {
  constructor(props) {
    super(props);
    this.span = react__WEBPACK_IMPORTED_MODULE_0___default().createRef();
  }
  getSpanOffsetWidth() {
    if (!this.span.current)
      return 0;
    return this.span.current.offsetWidth;
  }
};
__name(_TableFormFieldView, "TableFormFieldView");
let TableFormFieldView = _TableFormFieldView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormLinkFieldController/TableFormLinkFieldController.ts":
/*!**************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormLinkFieldController/TableFormLinkFieldController.ts ***!
  \**************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableFormLinkFieldController": () => (/* binding */ TableFormLinkFieldController)
/* harmony export */ });
/* harmony import */ var _TableFormFieldController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../TableFormFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormFieldController.ts");
/* harmony import */ var _TableFormLinkFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TableFormLinkFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormLinkFieldController/TableFormLinkFieldView.tsx");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _TableFormLinkFieldController = class _TableFormLinkFieldController extends _TableFormFieldController__WEBPACK_IMPORTED_MODULE_0__.TableFormFieldController {
  constructor() {
    super(...arguments);
    this.onClick = /* @__PURE__ */ __name((e) => {
      console.debug("TableFormLinkFieldController.onClick", e);
      e.preventDefault();
      this.emit("click", { source: this });
    }, "onClick");
  }
  getViewClass() {
    return super.getViewClass() || _TableFormLinkFieldView__WEBPACK_IMPORTED_MODULE_1__.TableFormLinkFieldView;
  }
};
__name(_TableFormLinkFieldController, "TableFormLinkFieldController");
let TableFormLinkFieldController = _TableFormLinkFieldController;
_common_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.registerGlobalClass(TableFormLinkFieldController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormLinkFieldController/TableFormLinkFieldView.tsx":
/*!*********************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormLinkFieldController/TableFormLinkFieldView.tsx ***!
  \*********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableFormLinkFieldView": () => (/* binding */ TableFormLinkFieldView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _TableFormFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../TableFormFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormFieldView.tsx");
/* harmony import */ var _TableFormLinkFieldView_less__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./TableFormLinkFieldView.less */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormLinkFieldController/TableFormLinkFieldView.less");
/* harmony import */ var _TableFormLinkFieldView_less__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_TableFormLinkFieldView_less__WEBPACK_IMPORTED_MODULE_2__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _TableFormLinkFieldView = class _TableFormLinkFieldView extends _TableFormFieldView__WEBPACK_IMPORTED_MODULE_1__.TableFormFieldView {
  render() {
    const row = this.props.row;
    const ctrl = this.getCtrl();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssClassNames()} ellipsis`, style: this.getStyle(row), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("a", { href: "#", onClick: ctrl.onClick, children: ctrl.getValueForWidget(row) }) });
  }
};
__name(_TableFormLinkFieldView, "TableFormLinkFieldView");
let TableFormLinkFieldView = _TableFormLinkFieldView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormPhoneFieldController/TableFormPhoneFieldController.ts":
/*!****************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormPhoneFieldController/TableFormPhoneFieldController.ts ***!
  \****************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableFormPhoneFieldController": () => (/* binding */ TableFormPhoneFieldController)
/* harmony export */ });
/* harmony import */ var _TableFormFieldController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../TableFormFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormFieldController.ts");
/* harmony import */ var _TableFormPhoneFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TableFormPhoneFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormPhoneFieldController/TableFormPhoneFieldView.tsx");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _TableFormPhoneFieldController = class _TableFormPhoneFieldController extends _TableFormFieldController__WEBPACK_IMPORTED_MODULE_0__.TableFormFieldController {
  getViewClass() {
    return super.getViewClass() || _TableFormPhoneFieldView__WEBPACK_IMPORTED_MODULE_1__.TableFormPhoneFieldView;
  }
};
__name(_TableFormPhoneFieldController, "TableFormPhoneFieldController");
let TableFormPhoneFieldController = _TableFormPhoneFieldController;
_common_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.registerGlobalClass(TableFormPhoneFieldController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormPhoneFieldController/TableFormPhoneFieldView.tsx":
/*!***********************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormPhoneFieldController/TableFormPhoneFieldView.tsx ***!
  \***********************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableFormPhoneFieldView": () => (/* binding */ TableFormPhoneFieldView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _TableFormFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../TableFormFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormFieldView.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common */ "./src/frontend/common/index.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _TableFormPhoneFieldView = class _TableFormPhoneFieldView extends _TableFormFieldView__WEBPACK_IMPORTED_MODULE_1__.TableFormFieldView {
  render() {
    const row = this.props.row;
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssClassNames()} ellipsis`, style: this.getStyle(row), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { ref: this.span, children: _common__WEBPACK_IMPORTED_MODULE_2__.PhoneBox.formatPhoneNumber(this.getCtrl().getValueForWidget(row)) }) });
  }
};
__name(_TableFormPhoneFieldView, "TableFormPhoneFieldView");
let TableFormPhoneFieldView = _TableFormPhoneFieldView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormTextBoxFieldController/TableFormTextBoxFieldController.ts":
/*!********************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormTextBoxFieldController/TableFormTextBoxFieldController.ts ***!
  \********************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableFormTextBoxFieldController": () => (/* binding */ TableFormTextBoxFieldController)
/* harmony export */ });
/* harmony import */ var _TableFormFieldController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../TableFormFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormFieldController.ts");
/* harmony import */ var _TableFormTextBoxFieldView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TableFormTextBoxFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormTextBoxFieldController/TableFormTextBoxFieldView.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../../common */ "./src/frontend/common/index.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _TableFormTextBoxFieldController = class _TableFormTextBoxFieldController extends _TableFormFieldController__WEBPACK_IMPORTED_MODULE_0__.TableFormFieldController {
  getViewClass() {
    return super.getViewClass() || _TableFormTextBoxFieldView__WEBPACK_IMPORTED_MODULE_1__.TableFormTextBoxFieldView;
  }
  /*beginEdit(view) {
      view.firstElementChild.style.MozUserSelect = 'text';
      view.firstElementChild.contentEditable = true;
      const range = document.createRange();
      range.selectNodeContents(view.firstElementChild);
      window.getSelection().removeAllRanges();
      window.getSelection().addRange(range);
      view.firstElementChild.focus();
      return true;
  }*/
  /*endEdit(view) {
      view.firstElementChild.style.MozUserSelect = 'none';
      view.firstElementChild.contentEditable = false;
  }*/
};
__name(_TableFormTextBoxFieldController, "TableFormTextBoxFieldController");
let TableFormTextBoxFieldController = _TableFormTextBoxFieldController;
_common__WEBPACK_IMPORTED_MODULE_2__.Helper.registerGlobalClass(TableFormTextBoxFieldController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormTextBoxFieldController/TableFormTextBoxFieldView.tsx":
/*!***************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormTextBoxFieldController/TableFormTextBoxFieldView.tsx ***!
  \***************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableFormTextBoxFieldView": () => (/* binding */ TableFormTextBoxFieldView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _TableFormFieldView__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../TableFormFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormFieldView.tsx");
/* harmony import */ var _TableFormTextBoxFieldView_less__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./TableFormTextBoxFieldView.less */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormTextBoxFieldController/TableFormTextBoxFieldView.less");
/* harmony import */ var _TableFormTextBoxFieldView_less__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_TableFormTextBoxFieldView_less__WEBPACK_IMPORTED_MODULE_3__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });




const _TableFormTextBoxFieldView = class _TableFormTextBoxFieldView extends _TableFormFieldView__WEBPACK_IMPORTED_MODULE_2__.TableFormFieldView {
  render() {
    const row = this.props.row;
    const ctrl = this.getCtrl();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssClassNames()} ellipsis`, style: this.getStyle(row), children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { ref: this.span, children: ctrl.getValueForWidget(row) }) });
  }
};
__name(_TableFormTextBoxFieldView, "TableFormTextBoxFieldView");
let TableFormTextBoxFieldView = _TableFormTextBoxFieldView;
_common__WEBPACK_IMPORTED_MODULE_1__.Helper.registerGlobalClass(TableFormTextBoxFieldView);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FormController/FormController.ts":
/*!*****************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FormController/FormController.ts ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FormController": () => (/* binding */ FormController)
/* harmony export */ });
/* harmony import */ var _ModelController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ModelController */ "./src/frontend/viewer/Controller/ModelController/ModelController.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _FieldController_FieldController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../FieldController/FieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/FieldController.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};



const _FormController = class _FormController extends _ModelController__WEBPACK_IMPORTED_MODULE_0__.ModelController {
  constructor(model, parent) {
    super(model, parent);
    this.fields = {};
    if (typeof window === "object") {
      console.debug(`${this.constructor.name}.constructor`, model);
    }
  }
  static create(model, parent) {
    const { ctrlClass } = model.getData();
    if (ctrlClass) {
      const CustomClass = _common__WEBPACK_IMPORTED_MODULE_1__.Helper.getGlobalClass(ctrlClass);
      if (!CustomClass)
        throw new Error(`no class ${ctrlClass}`);
      return new CustomClass(model, parent);
    }
    const GeneralClass = _common__WEBPACK_IMPORTED_MODULE_1__.Helper.getGlobalClass(`${model.getClassName()}Controller`);
    return new GeneralClass(model, parent);
  }
  init() {
    for (const field of this.getModel().fields) {
      const ctrl = this.fields[field.getName()] = _FieldController_FieldController__WEBPACK_IMPORTED_MODULE_2__.FieldController.create(field, this);
      ctrl.init();
    }
  }
  deinit() {
    for (const name in this.fields) {
      this.fields[name].deinit();
    }
    super.deinit();
  }
  isValid() {
    return true;
  }
  openPage(options) {
    return __async(this, null, function* () {
      return yield this.getPage().openPage(options);
    });
  }
  getPage() {
    return this.getParent();
  }
  isChanged() {
    return false;
  }
  onFieldChange(e) {
    return __async(this, null, function* () {
      yield this.getPage().onFormChange(e);
    });
  }
  getUpdated() {
    return this.state.updated;
  }
  invalidate() {
    this.state.updated = Date.now();
  }
  onActionClick(name, row) {
    return __async(this, null, function* () {
      console.debug("FormController.onActionClick", name, row);
    });
  }
  getField(name) {
    return this.fields[name];
  }
  getApp() {
    return this.getParent().getParent();
  }
  getSelectedRowKey() {
    return null;
  }
  isAutoFocus() {
    for (const name in this.fields) {
      if (this.fields[name].isAutoFocus()) {
        return true;
      }
    }
    return false;
  }
  isVisible() {
    return this.getModel().getAttr("visible") === "true";
  }
  getActiveRow() {
    throw new Error("FormController.getActiveRow not implemented");
  }
  getRow() {
    throw new Error("FormController.getRow not implemented");
  }
};
__name(_FormController, "FormController");
let FormController = _FormController;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FormController/FormView.tsx":
/*!************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FormController/FormView.tsx ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FormView": () => (/* binding */ FormView)
/* harmony export */ });
/* harmony import */ var _ModelView__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../ModelView */ "./src/frontend/viewer/Controller/ModelController/ModelView.tsx");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};

const _FormView = class _FormView extends _ModelView__WEBPACK_IMPORTED_MODULE_0__.ModelView {
  constructor(props) {
    super(props);
    this.onActionsClick = /* @__PURE__ */ __name((li) => __async(this, null, function* () {
      const ctrl = this.getCtrl();
      const name = li.dataset.action;
      try {
        const result = yield ctrl.onActionClick(name, ctrl.getActiveRow());
        if (!result) {
          throw new Error(`no handler for action '${name}'`);
        }
      } catch (err) {
        console.error(err);
        yield this.getCtrl().getApp().alert({ message: err.message });
      }
    }), "onActionsClick");
    this.checkParent();
  }
  shouldComponentUpdate(nextProps, nextState) {
    console.debug(
      "FormView.shouldComponentUpdate",
      this.getCtrl().getModel().getFullName(),
      nextProps.updated - this.props.updated
    );
    if (nextProps.updated - this.props.updated)
      return true;
    return false;
  }
};
__name(_FormView, "FormView");
let FormView = _FormView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FormController/RowFormController/RowFormController.ts":
/*!**************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FormController/RowFormController/RowFormController.ts ***!
  \**************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormController": () => (/* binding */ RowFormController)
/* harmony export */ });
/* harmony import */ var _FormController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FormController */ "./src/frontend/viewer/Controller/ModelController/FormController/FormController.ts");
/* harmony import */ var _RowFormView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./RowFormView */ "./src/frontend/viewer/Controller/ModelController/FormController/RowFormController/RowFormView.tsx");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __getProtoOf = Object.getPrototypeOf;
var __reflectGet = Reflect.get;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __superGet = (cls, obj, key) => __reflectGet(__getProtoOf(cls), key, obj);
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};



const _RowFormController = class _RowFormController extends _FormController__WEBPACK_IMPORTED_MODULE_0__.FormController {
  constructor() {
    super(...arguments);
    this.fields = {};
    this.state = {
      updated: Date.now(),
      mode: "edit",
      hasNew: false,
      changed: false,
      valid: true
    };
    this.onModelRefresh = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("RowFormController.onModelRefresh", this.getModel().getFullName());
      if (!this.view)
        return;
      this.refill();
      this.invalidate();
      this.rerender();
    }), "onModelRefresh");
    this.onModelInsert = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("RowFormController.onModelInsert", this.getModel().getFullName());
      this.refill();
      this.invalidate();
      this.calcState();
      this.getParent().onFormInsert(e);
    }), "onModelInsert");
    this.onModelUpdate = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("RowFormController.onModelUpdate", this.getModel().getFullName(), e);
      this.refill();
      this.invalidate();
      this.calcState();
      this.getParent().onFormUpdate(e);
    }), "onModelUpdate");
    this.onSaveClick = /* @__PURE__ */ __name(() => __async(this, null, function* () {
      console.debug("RowFormController.onSaveClick");
      this.validate();
      this.calcState();
      if (this.isValid()) {
        try {
          this.getApp().getView().disableRerender();
          yield this.getModel().update();
          this.state.mode = "view";
          console.debug("form model updated", this.getModel().getFullName());
        } finally {
          this.getApp().getView().enableRerender();
          yield this.getApp().getView().rerender();
        }
      } else {
        console.error(`cannot update invalid row form: ${this.getModel().getFullName()}`);
        yield this.rerender();
      }
    }), "onSaveClick");
    this.onDiscardClick = /* @__PURE__ */ __name(() => {
      console.debug("RowFormController.onDiscardClick", this.getModel().getFullName());
      const changedFields = [];
      for (const name in this.fields) {
        const field = this.fields[name];
        if (field.isChanged() || !field.isValid()) {
          changedFields.push(name);
        }
      }
      this.getModel().discard(changedFields);
      changedFields.forEach((name) => {
        this.fields[name].refill();
      });
      this.calcState();
      if (this.getModel().hasDefaultPersistentDataSource()) {
        this.state.mode = "view";
      }
      this.rerender();
      this.getParent().onFormDiscard(this);
    }, "onDiscardClick");
    this.onRefreshClick = /* @__PURE__ */ __name(() => __async(this, null, function* () {
      yield this.getModel().refresh();
    }), "onRefreshClick");
    this.onEditClick = /* @__PURE__ */ __name((e) => {
      console.debug("RowFormController.onEditClick");
      this.state.mode = "edit";
      this.rerender();
    }, "onEditClick");
    this.onCancelClick = /* @__PURE__ */ __name((e) => {
      console.debug("RowFormController.onCancelClick");
      this.state.mode = "view";
      this.rerender();
    }, "onCancelClick");
  }
  init() {
    super.init();
    this.getModel().on("refresh", this.onModelRefresh);
    this.getModel().on("insert", this.onModelInsert);
    this.getModel().on("update", this.onModelUpdate);
    if (this.getModel().getDefaultDataSource().isPersistent()) {
      this.state.mode = "view";
    }
    this.calcState();
    if (this.state.hasNew) {
      this.state.mode = "edit";
    }
  }
  deinit() {
    this.getModel().off("refresh", this.onModelRefresh);
    this.getModel().off("insert", this.onModelInsert);
    this.getModel().off("update", this.onModelUpdate);
    super.deinit();
  }
  calcState() {
    this.state.hasNew = this.getModel().hasNew();
    this.state.changed = this.isChanged();
    this.state.valid = this.isValid();
  }
  refill() {
    console.debug("RowFormController.refill", this.getModel().getFullName());
    for (const name in this.fields) {
      this.fields[name].refill();
    }
  }
  isValid() {
    for (const name in this.fields) {
      const field = this.fields[name];
      if (!field.isValid())
        return false;
    }
    return true;
  }
  validate() {
    for (const name in this.fields) {
      this.fields[name].validate();
    }
    this.invalidate();
  }
  clearFieldsError() {
    for (const name in this.fields) {
      this.fields[name].setError(null);
    }
  }
  isChanged() {
    if (this.getModel().isChanged())
      return true;
    for (const name in this.fields) {
      const field = this.fields[name];
      if (field.isChanged())
        return true;
    }
    return false;
  }
  onFieldChange(e) {
    return __async(this, null, function* () {
      this.calcState();
      this.invalidate();
      yield __superGet(_RowFormController.prototype, this, "onFieldChange").call(this, e);
    });
  }
  getViewClass() {
    return super.getViewClass() || _RowFormView__WEBPACK_IMPORTED_MODULE_1__.RowFormView;
  }
  getActiveRow() {
    return this.getModel().getRow(true);
  }
  getRow() {
    return this.getModel().getRow(true);
  }
  getMode() {
    return this.state.mode;
  }
  isActionEnabled(name) {
    return this.isViewMode();
  }
  isEditMode() {
    return this.getMode() === "edit";
  }
  isViewMode() {
    return this.getMode() === "view";
  }
  getField(name) {
    return this.fields[name];
  }
};
__name(_RowFormController, "RowFormController");
let RowFormController = _RowFormController;
_common_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.registerGlobalClass(RowFormController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FormController/RowFormController/RowFormView.tsx":
/*!*********************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FormController/RowFormController/RowFormView.tsx ***!
  \*********************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowFormView": () => (/* binding */ RowFormView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _FormView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../FormView */ "./src/frontend/viewer/Controller/ModelController/FormController/FormView.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../../console */ "./src/console.ts");
/* harmony import */ var _RowFormView_less__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./RowFormView.less */ "./src/frontend/viewer/Controller/ModelController/FormController/RowFormController/RowFormView.less");
/* harmony import */ var _RowFormView_less__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(_RowFormView_less__WEBPACK_IMPORTED_MODULE_4__);
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });





const _RowFormView = class _RowFormView extends _FormView__WEBPACK_IMPORTED_MODULE_1__.FormView {
  renderToolbar() {
    const { ctrl } = this.props;
    const text = ctrl.getModel().getApp().getText();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `${this.getCssBlockName()}__toolbar flex grid-gap-5`, children: [
      ctrl.getModel().hasDefaultPersistentDataSource() && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        _common__WEBPACK_IMPORTED_MODULE_2__.Button,
        {
          classList: ["toolbar-button"],
          onClick: ctrl.onEditClick,
          visible: ctrl.getMode() === "view",
          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { children: text.form.edit })
        },
        "edit"
      ),
      ctrl.getModel().hasDefaultPersistentDataSource() && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        _common__WEBPACK_IMPORTED_MODULE_2__.Button,
        {
          classList: ["toolbar-button"],
          enabled: (ctrl.state.changed || ctrl.state.hasNew) && ctrl.state.valid,
          onClick: ctrl.onSaveClick,
          visible: ctrl.getMode() === "edit",
          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { children: text.form.save })
        },
        "save"
      ),
      ctrl.getModel().hasDefaultPersistentDataSource() && ctrl.getModel().getKey() && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        _common__WEBPACK_IMPORTED_MODULE_2__.Button,
        {
          classList: ["toolbar-button"],
          visible: ctrl.getMode() === "edit" && !ctrl.state.changed && ctrl.state.valid,
          onClick: ctrl.onCancelClick,
          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { children: text.form.cancel })
        },
        "cancel"
      ),
      ctrl.getModel().hasDefaultPersistentDataSource() && ctrl.getModel().getKey() && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        _common__WEBPACK_IMPORTED_MODULE_2__.Button,
        {
          classList: ["toolbar-button"],
          enabled: ctrl.state.changed || !ctrl.isValid(),
          onClick: ctrl.onDiscardClick,
          visible: ctrl.getMode() === "edit" && (ctrl.state.changed || !ctrl.state.valid),
          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { children: text.form.discard })
        },
        "discard"
      ),
      ctrl.getModel().hasDefaultPersistentDataSource() && ctrl.getModel().getAttr("refreshButton") === "true" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        _common__WEBPACK_IMPORTED_MODULE_2__.Button,
        {
          classList: ["toolbar-button"],
          enabled: !ctrl.state.changed && !ctrl.state.hasNew,
          onClick: ctrl.onRefreshClick,
          visible: ctrl.getMode() === "view",
          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { children: text.form.refresh })
        },
        "refresh"
      ),
      this.isActionsVisible() && ctrl.getModel().hasActions() && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        _common__WEBPACK_IMPORTED_MODULE_2__.DropdownButton,
        {
          classList: ["toolbar-dropdown-button"],
          actions: this.getActionsForDropdownButton(),
          onClick: this.onActionsClick,
          enabled: this.isActionsEnabled(),
          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common__WEBPACK_IMPORTED_MODULE_2__.MoreVertIcon, {})
        }
      )
    ] });
  }
  isActionsEnabled() {
    return true;
  }
  isActionsVisible() {
    if (this.getCtrl().getModel().hasDefaultPersistentDataSource()) {
      return !!this.getCtrl().getModel().getKey();
    }
    return true;
  }
  renderLabel(fieldCtrl) {
    const model = fieldCtrl.getModel();
    const name = model.getName();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `${this.getCssBlockName()}__label`, children: [
      model.getCaption(),
      ":",
      model.isNotNull() && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { style: { color: "red" }, children: "*" })
    ] }, `label.${name}`);
  }
  renderField(fieldCtrl) {
    const name = fieldCtrl.getModel().getName();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__field`, children: this.renderFieldView(fieldCtrl) }, `field.${name}`);
  }
  renderFieldView(fieldCtrl) {
    return _RowFormView.renderFieldView(fieldCtrl);
  }
  static renderFieldView(fieldCtrl) {
    return fieldCtrl.renderView();
  }
  renderError(fieldCtrl) {
    const name = fieldCtrl.getModel().getName();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__error`, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      _common__WEBPACK_IMPORTED_MODULE_2__.Tooltip,
      {
        position: "left",
        type: "alert",
        hidden: fieldCtrl.getErrorMessage() === null,
        tip: fieldCtrl.getErrorMessage()
      }
    ) }, `tooltip.${name}`);
  }
  renderGroup(fieldCtrl) {
    return [
      this.renderLabel(fieldCtrl),
      this.renderField(fieldCtrl),
      this.renderError(fieldCtrl)
    ];
  }
  renderGroups() {
    const ctrl = this.getCtrl();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__groups`, children: Object.keys(ctrl.fields).filter((name) => ctrl.getField(name).isVisible()).map((name) => {
      return this.renderGroup(ctrl.getField(name));
    }) });
  }
  render() {
    (0,_console__WEBPACK_IMPORTED_MODULE_3__.debug)("RowFormView.render", this.getCtrl().getModel().getFullName());
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "div",
      {
        className: `${this.getCssClassNames()} flex-column grid-gap-5`,
        style: this.getStyle(),
        children: [
          (this.getCtrl().getModel().hasDefaultPersistentDataSource() || this.getCtrl().getModel().hasActions()) && this.renderToolbar(),
          this.renderGroups()
        ]
      }
    );
  }
  /*renderActionIcon() {
      return <CancelIcon/>;
  }*/
};
__name(_RowFormView, "RowFormView");
let RowFormView = _RowFormView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FormController/TableFormController/TableFormController.ts":
/*!******************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FormController/TableFormController/TableFormController.ts ***!
  \******************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableFormController": () => (/* binding */ TableFormController)
/* harmony export */ });
/* harmony import */ var _FormController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../FormController */ "./src/frontend/viewer/Controller/ModelController/FormController/FormController.ts");
/* harmony import */ var _TableFormView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./TableFormView */ "./src/frontend/viewer/Controller/ModelController/FormController/TableFormController/TableFormView.tsx");
/* harmony import */ var _Model_DataSource_DataSource__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../Model/DataSource/DataSource */ "./src/frontend/viewer/Model/DataSource/DataSource.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../../common */ "./src/frontend/common/index.ts");
var __defProp = Object.defineProperty;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};




const _TableFormController = class _TableFormController extends _FormController__WEBPACK_IMPORTED_MODULE_0__.FormController {
  constructor() {
    super(...arguments);
    this.fields = {};
    this.state = {
      updated: Date.now()
    };
    this.grid = null;
    this.onGridCreate = /* @__PURE__ */ __name((grid) => {
      this.grid = grid;
    }, "onGridCreate");
    this.onNewClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("TableFormController.onNewClick");
      yield this.new();
    }), "onNewClick");
    this.onRefreshClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("TableFormController.onRefreshClick", this.getModel().getFullName());
      yield this.getModel().refresh();
    }), "onRefreshClick");
    this.onDeleteClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug(
        "TableFormController.onDeleteClick",
        this.getModel().getFullName(),
        this.grid.getActiveRowKey()
      );
      const result = yield this.getApp().confirm({
        message: this.getModel().getApp().getText().form.areYouSure
      });
      if (result) {
        yield this.getModel().getDefaultDataSource().delete(this.grid.getActiveRowKey());
      }
    }), "onDeleteClick");
    this.onGridCellDblClick = /* @__PURE__ */ __name((row, key) => __async(this, null, function* () {
      switch (this.getModel().getAttr("editMethod")) {
        case "form":
          if (this.getPage().getModel().isSelectMode()) {
            yield this.getPage().selectRow(key);
          } else {
            yield this.edit(key);
          }
          break;
      }
    }), "onGridCellDblClick");
    this.onGridLinkClick = /* @__PURE__ */ __name((key) => __async(this, null, function* () {
      console.debug("TableFormController.onGridLinkClick", key);
      yield this.edit(key);
    }), "onGridLinkClick");
    this.onGridDeleteKeyDown = /* @__PURE__ */ __name((row, key) => __async(this, null, function* () {
      console.debug("TableFormController.onGridDeleteKeyDown", row, key);
      if (this.getModel().getAttr("deleteRowMode") !== "disabled") {
        const result = yield this.getApp().confirm({
          message: this.getModel().getApp().getText().form.areYouSure
        });
        if (result) {
          yield this.getModel().getDefaultDataSource().delete(key);
        }
      }
    }), "onGridDeleteKeyDown");
    this.onModelRefresh = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("TableFormController.onModelRefresh", this.getModel().getFullName(), e);
      if (!this.view)
        return;
      this.invalidate();
      yield this.rerender();
    }), "onModelRefresh");
    this.onModelInsert = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("TableFormController.onModelInsert", this.getModel().getFullName(), e);
      if (!this.view)
        return;
      if (this.grid && e.source) {
        for (const key of e.inserts) {
          this.grid.setActiveRowKey(key);
        }
      }
      this.invalidate();
      yield this.rerender();
    }), "onModelInsert");
    this.onModelUpdate = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug(
        "TableFormController.onModelUpdate",
        this.getModel().getFullName(),
        e,
        this.view
      );
      if (!this.view)
        return;
      if (this.grid) {
        for (const key in e.updates) {
          if (this.grid.getActiveRowKey() === key) {
            const newKey = e.updates[key];
            if (key !== newKey) {
              this.grid.setActiveRowKey(newKey);
            }
          }
        }
      }
      this.invalidate();
      yield this.rerender();
    }), "onModelUpdate");
    this.onModelDelete = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("TableFormController.onModelDelete", this.getModel().getFullName(), e);
      if (!this.view)
        return;
      if (this.grid) {
        for (const key of e.deletes) {
          if (this.grid.getActiveRowKey() === key) {
            this.grid.setActiveRowKey(null);
          }
        }
      }
      this.invalidate();
      yield this.rerender();
    }), "onModelDelete");
    this.onGridSelectionChange = /* @__PURE__ */ __name((key) => __async(this, null, function* () {
      this.invalidate();
      yield this.getPage().rerender();
    }), "onGridSelectionChange");
    this.isRowSelected = /* @__PURE__ */ __name(() => {
      return !!this.grid && !!this.grid.getActiveRowKey();
    }, "isRowSelected");
    this.onFrameChanged = /* @__PURE__ */ __name((value) => __async(this, null, function* () {
      console.debug("TableFormController.onFrameChanged", value);
      let frame = parseInt(value);
      console.debug("frame:", frame);
      const frameCount = this.getModel().getDefaultDataSource().getFramesCount();
      if (frame < 1)
        frame = 1;
      if (frame > frameCount)
        frame = frameCount;
      this.getModel().getDefaultDataSource().setFrame(frame);
      this.getModel().getDefaultDataSource().refresh();
      yield this.rerender();
    }), "onFrameChanged");
    this.onNextClick = /* @__PURE__ */ __name(() => __async(this, null, function* () {
      console.debug("TableFormController.onNextClick");
      const frame = this.getModel().getDefaultDataSource().getFrame() + 1;
      this.getModel().getDefaultDataSource().setFrame(frame);
      this.getModel().getDefaultDataSource().refresh();
      yield this.rerender();
    }), "onNextClick");
    this.onPreviousClick = /* @__PURE__ */ __name(() => __async(this, null, function* () {
      console.debug("TableFormController.onPreviousClick");
      const frame = this.getModel().getDefaultDataSource().getFrame() - 1;
      this.getModel().getDefaultDataSource().setFrame(frame);
      this.getModel().getDefaultDataSource().refresh();
      this.rerender();
    }), "onPreviousClick");
  }
  getViewClass() {
    return super.getViewClass() || _TableFormView__WEBPACK_IMPORTED_MODULE_1__.TableFormView;
  }
  init() {
    super.init();
    this.getModel().on("refresh", this.onModelRefresh);
    this.getModel().on("update", this.onModelUpdate);
    this.getModel().on("delete", this.onModelDelete);
    this.getModel().on("insert", this.onModelInsert);
  }
  deinit() {
    this.getModel().off("refresh", this.onModelRefresh);
    this.getModel().off("update", this.onModelUpdate);
    this.getModel().off("delete", this.onModelDelete);
    this.getModel().off("insert", this.onModelInsert);
    super.deinit();
  }
  /*onHidePage = async () => {
      this.grid.saveScroll();
  }*/
  /*onShowPage = async () => {
      console.debug('TableFormController.onShowPage', this.getModel().getFullName());
      if (!this.grid.isHidden()) {
          this.grid.restoreScroll();
          this.grid.focus();
          // console.debug('document.activeElement:', document.activeElement);
      }
  }*/
  new() {
    return __async(this, null, function* () {
      if (this.getModel().getAttr("newRowMode") === "oneclick") {
        const row = {};
        this.getModel().fillDefaultValues(row);
        yield this.getModel().getDefaultDataSource().insert(row);
      } else if (this.getModel().getAttr("newRowMode") === "editform") {
        if (!this.getModel().getAttr("itemEditPage")) {
          throw new Error(`[${this.getModel().getFullName()}] itemEditPage is empty`);
        }
        yield this.openPage({
          name: this.getModel().getAttr("itemEditPage"),
          newMode: true,
          modal: true
        });
      } else if (this.getModel().getAttr("newRowMode") === "createform") {
        if (!this.getModel().getAttr("itemCreatePage")) {
          throw new Error(`[${this.getModel().getFullName()}] itemCreatePage is empty`);
        }
        yield this.openPage({
          name: this.getModel().getAttr("itemCreatePage"),
          newMode: true,
          modal: true
        });
      } else if (this.getModel().getAttr("newRowMode") === "oneclick editform") {
        if (!this.getModel().getAttr("itemEditPage")) {
          throw new Error(`[${this.getModel().getFullName()}] itemEditPage is empty`);
        }
        const row = {};
        this.getModel().fillDefaultValues(row);
        const result = yield this.getModel().getDefaultDataSource().insert(row);
        const database = this.getModel().getDefaultDataSource().getAttr("database");
        const table = this.getModel().getDefaultDataSource().getAttr("table");
        const [key] = result[database][table].insert;
        yield this.openPage({
          name: this.getModel().getAttr("itemEditPage"),
          // key  : key,
          modal: true,
          params: __spreadValues({}, _Model_DataSource_DataSource__WEBPACK_IMPORTED_MODULE_2__.DataSource.keyToParams(key))
        });
      } else if (this.getModel().getAttr("newRowMode") === "oneclick createform") {
        if (!this.getModel().getAttr("itemCreatePage")) {
          throw new Error(`[${this.getModel().getFullName()}] itemCreatePage is empty`);
        }
        const row = {};
        this.getModel().fillDefaultValues(row);
        const result = yield this.getModel().getDefaultDataSource().insert(row);
        const database = this.getModel().getDefaultDataSource().getAttr("database");
        const table = this.getModel().getDefaultDataSource().getAttr("table");
        const [key] = result[database][table].insert;
        yield this.openPage({
          name: this.getModel().getAttr("itemCreatePage"),
          // key  : key,
          modal: true,
          params: __spreadValues({}, _Model_DataSource_DataSource__WEBPACK_IMPORTED_MODULE_2__.DataSource.keyToParams(key))
        });
      }
    });
  }
  edit(key) {
    return __async(this, null, function* () {
      if (!this.getModel().getAttr("itemEditPage")) {
        throw new Error(`${this.getModel().getFullName()}: itemEditPage is empty`);
      }
      try {
        yield this.openPage({
          name: this.getModel().getAttr("itemEditPage"),
          modal: true,
          params: __spreadValues({}, _Model_DataSource_DataSource__WEBPACK_IMPORTED_MODULE_2__.DataSource.keyToParams(key))
        });
      } catch (err) {
        err.message = `${this.getModel().getFullName()} edit: ${err.message}`;
        throw err;
      }
    });
  }
  getActiveRow() {
    const key = this.grid.getActiveRowKey();
    if (!key)
      throw new Error(`${this.getModel().getFullName()}: no active row key`);
    return this.getModel().getDefaultDataSource().getRow(key);
  }
  canPrev() {
    return this.getModel().getDefaultDataSource().getFrame() > 1;
  }
  canNext() {
    const ds = this.getModel().getDefaultDataSource();
    return ds.getFrame() < ds.getFramesCount();
  }
  getSelectedRowKey() {
    return this.grid ? this.grid.getActiveRowKey() : null;
  }
  isActionEnabled(name) {
    return this.isRowSelected();
  }
  getField(name) {
    return this.fields[name];
  }
};
__name(_TableFormController, "TableFormController");
let TableFormController = _TableFormController;
_common__WEBPACK_IMPORTED_MODULE_3__.Helper.registerGlobalClass(TableFormController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FormController/TableFormController/TableFormView.tsx":
/*!*************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FormController/TableFormController/TableFormView.tsx ***!
  \*************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableFormView": () => (/* binding */ TableFormView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _FormView__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../FormView */ "./src/frontend/viewer/Controller/ModelController/FormController/FormView.tsx");
/* harmony import */ var _Model_DataSource_DataSource__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../Model/DataSource/DataSource */ "./src/frontend/viewer/Model/DataSource/DataSource.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../../common/Helper */ "./src/frontend/common/Helper.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../../../../../../console */ "./src/console.ts");
/* harmony import */ var _TableFormView_less__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./TableFormView.less */ "./src/frontend/viewer/Controller/ModelController/FormController/TableFormController/TableFormView.less");
/* harmony import */ var _TableFormView_less__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_TableFormView_less__WEBPACK_IMPORTED_MODULE_7__);
var __defProp = Object.defineProperty;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });








const _TableFormView = class _TableFormView extends _FormView__WEBPACK_IMPORTED_MODULE_2__.FormView {
  constructor() {
    super(...arguments);
    this.renderGridCellView = /* @__PURE__ */ __name((row, column, onCreate, onUnmount) => {
      const ctrl = this.getCtrl().getField(column.name);
      if (!ctrl)
        throw new Error(`no field: ${column.name}`);
      return react__WEBPACK_IMPORTED_MODULE_1___default().createElement(ctrl.getViewClass(), { row, column, onCreate, onUnmount, ctrl });
    }, "renderGridCellView");
    this.createLinkCallback = /* @__PURE__ */ __name((key) => {
      return this.getCtrl().getApp().getHostApp().createLink(__spreadValues({
        page: this.getCtrl().getModel().getAttr("itemEditPage")
      }, _Model_DataSource_DataSource__WEBPACK_IMPORTED_MODULE_3__.DataSource.keyToParams(key)));
    }, "createLinkCallback");
  }
  renderToolbar() {
    const ctrl = this.getCtrl();
    const model = ctrl.getModel();
    const dataSource = model.getDefaultDataSource();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `${this.getCssBlockName()}__toolbar flex grid-gap-5`, children: [
      model.getData().newRowMode !== "disabled" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        _common__WEBPACK_IMPORTED_MODULE_4__.Button,
        {
          classList: ["toolbar-button", "default"],
          onClick: ctrl.onNewClick,
          enabled: !ctrl.getParent().getModel().hasNew(),
          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { children: model.getApp().getText().form.new })
        },
        "new"
      ),
      model.getData().refreshButton === "true" && dataSource.isPersistent() && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        _common__WEBPACK_IMPORTED_MODULE_4__.Button,
        {
          classList: ["toolbar-button"],
          onClick: ctrl.onRefreshClick,
          enabled: !ctrl.getParent().getModel().hasNew(),
          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { children: model.getApp().getText().form.refresh })
        },
        "refresh"
      ),
      model.getData().deleteRowMode !== "disabled" && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        _common__WEBPACK_IMPORTED_MODULE_4__.Button,
        {
          classList: ["toolbar-button"],
          onClick: ctrl.onDeleteClick,
          enabled: ctrl.isRowSelected(),
          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { children: model.getApp().getText().form.delete })
        },
        "delete"
      ),
      ctrl.getModel().hasActions() && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        _common__WEBPACK_IMPORTED_MODULE_4__.DropdownButton,
        {
          classList: ["toolbar-dropdown-button"],
          actions: this.getActionsForDropdownButton(),
          onClick: this.onActionsClick,
          children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common__WEBPACK_IMPORTED_MODULE_4__.MoreVertIcon, {})
        }
      )
    ] });
  }
  renderPaging() {
    const ctrl = this.getCtrl();
    const model = this.getCtrl().getModel();
    const dataSource = model.getDefaultDataSource();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "paging", children: [
      /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "paging__countBlock", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("span", { className: "count", children: [
        dataSource.getRowsLength(),
        " ",
        dataSource.getLimit() && `of ${_common_Helper__WEBPACK_IMPORTED_MODULE_5__.Helper.formatNumber(dataSource.getCount())}`
      ] }) }),
      dataSource.getLimit() && /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "paging__gotoBlock", children: [
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common__WEBPACK_IMPORTED_MODULE_4__.Button, { enabled: ctrl.canPrev(), onClick: ctrl.onPreviousClick, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common__WEBPACK_IMPORTED_MODULE_4__.LeftIcon, { size: 18 }) }),
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
          _common__WEBPACK_IMPORTED_MODULE_4__.TextBox,
          {
            value: ctrl.getModel().getDefaultDataSource().getFrame().toString(),
            onChange: ctrl.onFrameChanged
          }
        ),
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "paging__framesCount", children: [
          " ",
          "/ ",
          _common_Helper__WEBPACK_IMPORTED_MODULE_5__.Helper.formatNumber(dataSource.getFramesCount()),
          " "
        ] }),
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common__WEBPACK_IMPORTED_MODULE_4__.Button, { enabled: ctrl.canNext(), onClick: ctrl.onNextClick, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common__WEBPACK_IMPORTED_MODULE_4__.RightIcon, { size: 18 }) })
      ] })
    ] });
  }
  getGridColumns() {
    const ctrl = this.getCtrl();
    return Object.keys(ctrl.fields).filter((name) => ctrl.getField(name).isVisible()).map((name) => {
      const field = ctrl.getField(name);
      return {
        name: field.getModel().getName(),
        title: field.getModel().getCaption(),
        width: field.getModel().getWidth(),
        align: field.getAlign()
      };
    });
  }
  getRows() {
    const ctrl = this.getCtrl();
    return ctrl.getModel().getDefaultDataSource().getRows();
  }
  getGridExtraColumn() {
    return true;
  }
  getGridClass() {
    return _common__WEBPACK_IMPORTED_MODULE_4__.Grid;
  }
  renderGrid() {
    const ctrl = this.getCtrl();
    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement(this.getGridClass(), {
      classList: ["flex-max"],
      onCreate: ctrl.onGridCreate,
      name: ctrl.getModel().getFullName(),
      columns: this.getGridColumns(),
      rows: this.getRows(),
      getRowKey: (row) => ctrl.getModel().getDefaultDataSource().getRowKey(row),
      onDoubleClick: ctrl.onGridCellDblClick,
      onDeleteKeyDown: ctrl.onGridDeleteKeyDown,
      onSelectionChange: ctrl.onGridSelectionChange,
      onLinkClick: ctrl.onGridLinkClick,
      renderGridCellView: this.renderGridCellView,
      updated: ctrl.getUpdated(),
      extraColumn: this.getGridExtraColumn(),
      selectedKey: ctrl.getPage().getModel().getOptions().selectedKey,
      createLinkCallback: this.createLinkCallback
    });
  }
  render() {
    (0,_console__WEBPACK_IMPORTED_MODULE_6__.debug)("TableFormView.render", this.getCtrl().getModel().getFullName());
    const ctrl = this.getCtrl();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "div",
      {
        className: `${this.getCssClassNames()} full flex-column grid-gap-5`,
        style: this.getStyle(),
        children: [
          this.renderToolbar(),
          this.renderGrid(),
          ctrl.getModel().hasDefaultPersistentDataSource() && this.renderPaging()
        ]
      }
    );
  }
};
__name(_TableFormView, "TableFormView");
let TableFormView = _TableFormView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/ModelController.ts":
/*!***************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/ModelController.ts ***!
  \***************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ModelController": () => (/* binding */ ModelController)
/* harmony export */ });
/* harmony import */ var _Controller__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Controller */ "./src/frontend/viewer/Controller/Controller.ts");
/* harmony import */ var _ModelView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ModelView */ "./src/frontend/viewer/Controller/ModelController/ModelView.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common */ "./src/frontend/common/index.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _ModelController = class _ModelController extends _Controller__WEBPACK_IMPORTED_MODULE_0__.Controller {
  constructor(model, parent) {
    super();
    this.model = model;
    this.parent = parent;
    this.deinited = false;
  }
  init() {
  }
  deinit() {
    if (this.deinited)
      throw new Error(`${this.getModel().getFullName()}: controller already deinited`);
    this.deinited = true;
  }
  getModel() {
    return this.model;
  }
  getParent() {
    if (!this.parent)
      throw new Error(`${this.getModel().getFullName()}: no controller parent`);
    return this.parent;
  }
  getTitle() {
    return this.getModel().getCaption();
  }
  getViewClass() {
    const model = this.getModel();
    if (!model.isAttr("viewClass")) {
      throw new Error(`${this.constructor.name} not supports view`);
    }
    const viewClassName = model.getAttr("viewClass");
    if (viewClassName) {
      const viewClass = _common__WEBPACK_IMPORTED_MODULE_2__.Helper.getGlobalClass(viewClassName);
      if (!viewClass)
        throw new Error(`no class ${viewClassName}`);
      if (!(viewClass.prototype instanceof _ModelView__WEBPACK_IMPORTED_MODULE_1__.ModelView)) {
        throw new Error(`view class ${viewClassName} is not inherited from ModelView`);
      }
      return viewClass;
    }
    return null;
  }
  isActionEnabled(name) {
    return false;
  }
};
__name(_ModelController, "ModelController");
let ModelController = _ModelController;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/ModelView.tsx":
/*!**********************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/ModelView.tsx ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ModelView": () => (/* binding */ ModelView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _View__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../View */ "./src/frontend/viewer/Controller/View.tsx");
/* harmony import */ var _Model_Model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../Model/Model */ "./src/frontend/viewer/Model/Model.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _ModelView = class _ModelView extends _View__WEBPACK_IMPORTED_MODULE_1__.View {
  constructor() {
    super(...arguments);
    this.renderActionIcon = void 0;
  }
  getActionsForDropdownButton() {
    return this.getCtrl().getModel().getCol("actions").map((data) => {
      const actionName = _Model_Model__WEBPACK_IMPORTED_MODULE_2__.Model.getName(data);
      return {
        name: actionName,
        title: this.renderActionIcon ? [
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { children: this.renderActionIcon(actionName) }, "icon"),
          /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { children: _Model_Model__WEBPACK_IMPORTED_MODULE_2__.Model.getAttr(data, "caption") }, "title")
        ] : _Model_Model__WEBPACK_IMPORTED_MODULE_2__.Model.getAttr(data, "caption"),
        enabled: this.getCtrl().isActionEnabled(actionName)
      };
    });
  }
  getCssBlockName() {
    const model = this.getCtrl().getModel();
    if (model.isAttr("cssBlock") && model.getAttr("cssBlock")) {
      return model.getAttr("cssBlock");
    }
    return super.getCssBlockName();
  }
  getStyle(row) {
  }
};
__name(_ModelView, "ModelView");
let ModelView = _ModelView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/PageController/PageController.ts":
/*!*****************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/PageController/PageController.ts ***!
  \*****************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PageController": () => (/* binding */ PageController)
/* harmony export */ });
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../../../types */ "./src/types.ts");
/* harmony import */ var _ModelController__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../ModelController */ "./src/frontend/viewer/Controller/ModelController/ModelController.ts");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../../common/Helper */ "./src/frontend/common/Helper.ts");
/* harmony import */ var _FormController_FormController__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../FormController/FormController */ "./src/frontend/viewer/Controller/ModelController/FormController/FormController.ts");
/* harmony import */ var _Model_DataSource_DataSource__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../Model/DataSource/DataSource */ "./src/frontend/viewer/Model/DataSource/DataSource.ts");
/* harmony import */ var _FormController_RowFormController_RowFormController__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../FormController/RowFormController/RowFormController */ "./src/frontend/viewer/Controller/ModelController/FormController/RowFormController/RowFormController.ts");
/* harmony import */ var _PageView__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./PageView */ "./src/frontend/viewer/Controller/ModelController/PageController/PageView.tsx");
var __defProp = Object.defineProperty;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};







const _PageController = class _PageController extends _ModelController__WEBPACK_IMPORTED_MODULE_1__.ModelController {
  constructor(model, parent, id) {
    super(model, parent);
    this.forms = [];
    this.onSaveAndCloseClick = /* @__PURE__ */ __name(() => __async(this, null, function* () {
      console.debug("PageController.onSaveAndCloseClick");
      this.validate();
      if (this.isValid()) {
        try {
          this.getApp().getView().disableRerender();
          yield this.getModel().update();
          console.debug("page model updated", this.getModel().getFullName());
        } finally {
          this.getApp().getView().enableRerender();
        }
        yield this.getApp().closePage(this);
        if (this.getModel().getOptions().onClose) {
          this.getModel().getOptions().onClose();
        }
      } else {
        yield this.rerender();
      }
    }), "onSaveAndCloseClick");
    this.onClosePageClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("PageController.onClosePageClick", this.getModel().getFullName());
      yield this.close();
    }), "onClosePageClick");
    this.onOpenPageClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      const name = this.getModel().getName();
      const key = this.getModel().getKey();
      const link = this.createOpenInNewLink(name, key);
      window.open(link, "_blank");
    }), "onOpenPageClick");
    this.onKeyDown = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      if (e.key === "Escape") {
        if (this.isModal()) {
          yield this.close();
        }
      }
    }), "onKeyDown");
    this.onSelectClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("PageController.onSelectClick");
      yield this.selectRow(this.getSelectedRowKey());
    }), "onSelectClick");
    this.onResetClick = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("PageController.onResetClick");
      yield this.selectRow(null);
    }), "onResetClick");
    if (typeof window === "object") {
      console.debug(`${this.constructor.name}.constructor`, model, id);
    }
    if (!id) {
      throw new Error("no id");
    }
    this.id = id;
  }
  static create(model, parent, id, options = null) {
    const { ctrlClass } = model.getData();
    if (ctrlClass) {
      const CustomClass = _common_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.getGlobalClass(ctrlClass);
      if (!CustomClass)
        throw new Error(`no class ${ctrlClass}`);
      return new CustomClass(model, parent, id, options);
    }
    return new _PageController(model, parent, id, options);
  }
  init() {
    for (const form of this.getModel().forms) {
      const ctrl = _FormController_FormController__WEBPACK_IMPORTED_MODULE_3__.FormController.create(form, this);
      ctrl.init();
      this.forms.push(ctrl);
    }
  }
  deinit() {
    console.debug("PageController.deinit: " + this.getModel().getFullName());
    for (const form of this.forms) {
      form.deinit();
    }
    super.deinit();
  }
  createOpenInNewLink(pageName, key) {
    return this.getApp().getHostApp().createLink(__spreadValues({
      page: pageName
    }, _Model_DataSource_DataSource__WEBPACK_IMPORTED_MODULE_4__.DataSource.keyToParams(key)));
  }
  close() {
    return __async(this, null, function* () {
      const changed = this.isChanged();
      if (this.getModel().hasRowFormWithDefaultSqlDataSource() && changed) {
        const result = yield this.getApp().confirm({
          message: this.getModel().getApp().getText().form.areYouSure
        });
        if (!result)
          return;
      }
      yield this.getApp().closePage(this);
      if (this.getModel().getOptions().onClose) {
        this.getModel().getOptions().onClose();
      }
    });
  }
  validate() {
    for (const form of this.forms) {
      if (form instanceof _FormController_RowFormController_RowFormController__WEBPACK_IMPORTED_MODULE_5__.RowFormController) {
        form.validate();
      }
    }
  }
  isValid() {
    for (const form of this.forms) {
      if (!form.isValid()) {
        return false;
      }
    }
    return true;
  }
  onFormChange(e) {
    return __async(this, null, function* () {
      this.rerender();
    });
  }
  onFormDiscard(formController) {
    console.debug("PageController.onFormDiscard", this.getModel().getFullName());
    this.rerender();
  }
  onFormUpdate(e) {
    console.debug("PageController.onFormUpdate:", this.getModel().getFullName(), e);
    this.rerender();
  }
  onFormInsert(e) {
    console.debug("PageController.onFormInsert:", this.getModel().getFullName());
    for (const form of this.forms) {
      form.invalidate();
    }
    this.rerender();
  }
  openPage(options) {
    return __async(this, null, function* () {
      if (!options.params) {
        options.params = {};
      }
      const params = this.getModel().getParams();
      for (const name in params) {
        if (!options.params[name]) {
          options.params[name] = params[name];
        }
      }
      return yield this.getApp().openPage(options);
    });
  }
  isChanged() {
    for (const form of this.forms) {
      if (form.isChanged()) {
        return true;
      }
    }
    return false;
  }
  getApp() {
    return this.getParent();
  }
  getViewClass() {
    return super.getViewClass() || _PageView__WEBPACK_IMPORTED_MODULE_6__.PageView;
  }
  findForm(name) {
    return this.forms.find((form) => form.getModel().getName() === name);
  }
  getForm(name) {
    const form = this.findForm(name);
    if (!form)
      throw new Error(`${this.getModel().getFullName()}: no form controller ${name}`);
    return form;
  }
  onActionClick(name) {
    return __async(this, null, function* () {
      console.debug("PageController.onActionClick", name);
    });
  }
  getKeyPart(key) {
    const arr = (0,_types__WEBPACK_IMPORTED_MODULE_0__.keyToKeyTuple)(key);
    if (arr.length === 1 && typeof arr[0] === "number") {
      return `#${arr[0]}`;
    }
    return `${key}`;
  }
  getTitle() {
    const model = this.getModel();
    const key = model.getKey();
    const keyPart = key ? this.getKeyPart(key) : null;
    return [
      model.getCaption(),
      ...this.getApp().getHostApp().isDebugMode() ? [`(${this.getId()})`] : [],
      ...keyPart ? [keyPart] : []
    ].join(" ");
  }
  getSelectedRowKey() {
    for (const form of this.forms) {
      const selectedRowKey = form.getSelectedRowKey();
      if (selectedRowKey)
        return selectedRowKey;
    }
    return null;
  }
  selectRow(key) {
    return __async(this, null, function* () {
      console.debug("PageController.selectRow", key);
      yield this.close();
      yield this.getModel().getOptions().onSelect(key);
    });
  }
  invalidate() {
    this.forms.forEach((form) => form.invalidate());
  }
  getId() {
    return this.id;
  }
  isModal() {
    return this.getModel().isModal();
  }
  isAutoFocus() {
    for (const form of this.forms) {
      if (form.isAutoFocus()) {
        return true;
      }
    }
    return false;
  }
};
__name(_PageController, "PageController");
let PageController = _PageController;
_common_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.registerGlobalClass(PageController);


/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/PageController/PageView.tsx":
/*!************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/PageController/PageView.tsx ***!
  \************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PageView": () => (/* binding */ PageView)
/* harmony export */ });
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-runtime */ "react/jsx-runtime");
/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "react");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _ModelView__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../ModelView */ "./src/frontend/viewer/Controller/ModelController/ModelView.tsx");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../../console */ "./src/console.ts");
/* harmony import */ var _PageView_less__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./PageView.less */ "./src/frontend/viewer/Controller/ModelController/PageController/PageView.less");
/* harmony import */ var _PageView_less__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(_PageView_less__WEBPACK_IMPORTED_MODULE_5__);
var __defProp = Object.defineProperty;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};






const _PageView = class _PageView extends _ModelView__WEBPACK_IMPORTED_MODULE_2__.ModelView {
  constructor(props) {
    super(props);
    this.onActionsClick = /* @__PURE__ */ __name((li) => __async(this, null, function* () {
      const ctrl = this.getCtrl();
      const name = li.dataset.action;
      try {
        const result = yield ctrl.onActionClick(name);
        if (!result) {
          throw new Error(`no handler for action '${name}'`);
        }
      } catch (err) {
        console.error(err);
        yield this.getCtrl().getApp().alert({ message: err.message });
      }
    }), "onActionsClick");
    this.checkParent();
    this.el = react__WEBPACK_IMPORTED_MODULE_1___default().createRef();
  }
  isToolbar() {
    const model = this.getCtrl().getModel();
    return model.hasActions();
  }
  getFormTabs(forms) {
    return forms.map((form) => {
      return {
        name: form.getModel().getName(),
        title: form.getTitle(),
        content: this.renderForm(form)
      };
    });
  }
  getRowForms() {
    return this.getCtrl().forms.filter((form) => form.getModel().getClassName() === "RowForm").filter((form) => form.isVisible());
  }
  getTableForms() {
    return this.getCtrl().forms.filter((form) => form.getModel().getClassName() === "TableForm").filter((form) => form.isVisible());
  }
  renderForm(formCtrl, props = {}) {
    return react__WEBPACK_IMPORTED_MODULE_1___default().createElement(formCtrl.getViewClass(), __spreadValues({
      parent: this,
      key: formCtrl.getModel().getName(),
      ctrl: formCtrl,
      onCreate: formCtrl.onViewCreate,
      updated: formCtrl.getUpdated()
    }, props));
  }
  renderRowForms() {
    return this.getRowForms().map((form) => this.renderForm(form));
  }
  renderTitle() {
    const ctrl = this.getCtrl();
    const model = ctrl.getModel();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("h1", { className: `${this.getCssBlockName()}__title`, children: [
      ctrl.getTitle(),
      model.hasRowFormWithDefaultSqlDataSource() && (ctrl.isChanged() || model.hasNew()) && [
        " ",
        /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("span", { className: `${this.getCssBlockName()}__star`, children: "*" }, "star")
      ]
    ] });
  }
  renderSelectButton() {
    const ctrl = this.getCtrl();
    const model = ctrl.getModel();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      _common__WEBPACK_IMPORTED_MODULE_3__.Button,
      {
        classList: ["toolbar-button", "default"],
        onClick: ctrl.onSelectClick,
        enabled: !!ctrl.getSelectedRowKey(),
        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { children: model.getApp().getText().page.select })
      }
    );
  }
  renderSaveAndCloseButton() {
    const ctrl = this.getCtrl();
    const model = ctrl.getModel();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      _common__WEBPACK_IMPORTED_MODULE_3__.Button,
      {
        classList: ["toolbar-button", "default"],
        onClick: ctrl.onSaveAndCloseClick,
        enabled: ctrl.isValid() && (model.hasNew() || ctrl.isChanged()),
        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { children: model.getApp().getText().page.saveAndClose })
      }
    );
  }
  renderCloseButton() {
    const ctrl = this.getCtrl();
    const model = ctrl.getModel();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common__WEBPACK_IMPORTED_MODULE_3__.Button, { classList: ["toolbar-button"], onClick: ctrl.onClosePageClick, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { children: model.getApp().getText().page.close }) });
  }
  renderActionsDropdownButton() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      _common__WEBPACK_IMPORTED_MODULE_3__.DropdownButton,
      {
        classList: ["toolbar-dropdown-button"],
        actions: this.getActionsForDropdownButton(),
        onClick: this.onActionsClick,
        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common__WEBPACK_IMPORTED_MODULE_3__.MoreVertIcon, {})
      }
    );
  }
  renderToolbar() {
    const ctrl = this.getCtrl();
    const model = ctrl.getModel();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__toolbar`, children: model.hasActions() && this.renderActionsDropdownButton() });
  }
  /* shouldComponentUpdate(nextProps, nextState) {
      return false;
  } */
  renderTableForms() {
    const tableForms = this.getTableForms();
    if (tableForms.length === 1) {
      return this.renderForm(tableForms[0]);
    } else {
      return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__table-forms flex-max frame`, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: "frame__container", children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
        _common__WEBPACK_IMPORTED_MODULE_3__.Tab2,
        {
          tabs: this.getFormTabs(tableForms),
          classList: ["Tab-blue", "full"]
        }
      ) }) });
    }
  }
  renderOpenPageHeaderButton() {
    const ctrl = this.getCtrl();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      "div",
      {
        className: `${this.getCssBlockName()}__open`,
        onClick: ctrl.onOpenPageClick,
        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common__WEBPACK_IMPORTED_MODULE_3__.OpenInNewIcon, {})
      },
      "open"
    );
  }
  renderClosePageHeaderButton() {
    const ctrl = this.getCtrl();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      "div",
      {
        className: `${this.getCssBlockName()}__close`,
        onClick: ctrl.onClosePageClick,
        children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(_common__WEBPACK_IMPORTED_MODULE_3__.CloseIcon2, {})
      },
      "close"
    );
  }
  renderHeader() {
    const model = this.getCtrl().getModel();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `${this.getCssBlockName()}__header`, children: [
      this.renderTitle(),
      model.isModal() && [
        ...model.getKey() ? [this.renderOpenPageHeaderButton()] : [],
        this.renderClosePageHeaderButton()
      ]
    ] });
  }
  renderMain() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)("div", { className: `${this.getCssBlockName()}__main flex-max frame`, children: /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: "frame__container flex-column grid-gap-10", children: [
      this.isToolbar() && this.renderToolbar(),
      this.getCtrl().getModel().isFormInTab() ? this.renderForms2() : this.renderForms()
    ] }) });
  }
  renderForms() {
    const model = this.getCtrl().getModel();
    return [
      ...model.hasRowForm() ? [this.renderRowForms()] : [],
      ...model.hasTableForm() ? [this.renderTableForms()] : []
    ];
  }
  renderForms2() {
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsx)(
      _common__WEBPACK_IMPORTED_MODULE_3__.Tab2,
      {
        tabs: this.getFormTabs(this.getCtrl().forms.filter((form) => form.isVisible())),
        classList: ["Tab-blue", "full"]
      }
    );
  }
  renderFooter() {
    const model = this.getCtrl().getModel();
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)("div", { className: `${this.getCssBlockName()}__footer`, children: [
      this.renderCloseButton(),
      model.isModal() && model.hasRowFormWithDefaultSqlDataSource() && this.renderSaveAndCloseButton(),
      model.isSelectMode() && this.renderSelectButton()
    ] });
  }
  render() {
    (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("PageView.render", this.getCtrl().getModel().getFullName());
    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxs)(
      "div",
      {
        className: `${this.getCssClassNames()} ${this.getCtrl().isModal() ? "" : "full"} flex-column`,
        style: this.getStyle(),
        ref: this.el,
        tabIndex: 0,
        onKeyDown: this.getCtrl().onKeyDown,
        children: [
          this.renderHeader(),
          this.renderMain(),
          this.getCtrl().isModal() && this.renderFooter()
        ]
      }
    );
  }
  getStyle() {
    if (this.getCtrl().isModal()) {
      return {
        width: 1e3,
        height: 750
      };
    }
  }
  componentDidMount() {
    if (this.getCtrl().isAutoFocus() && !this.getCtrl().getModel().getKey()) {
    } else {
      this.focus();
    }
  }
  focus() {
    if (this.getElement()) {
      this.getElement().focus();
    } else {
      console.error(`${this.getCtrl().getModel().getFullName()}: el is null (ref={this.el})`);
    }
  }
};
__name(_PageView, "PageView");
let PageView = _PageView;


/***/ }),

/***/ "./src/frontend/viewer/Controller/View.tsx":
/*!*************************************************!*\
  !*** ./src/frontend/viewer/Controller/View.tsx ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "View": () => (/* binding */ View)
/* harmony export */ });
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../common */ "./src/frontend/common/index.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });

const _View = class _View extends _common__WEBPACK_IMPORTED_MODULE_0__.ReactComponent {
  constructor(props) {
    super(props);
    if (!props.ctrl)
      throw new Error(`${this.constructor.name}: no ctrl`);
  }
  getCtrl() {
    return this.props.ctrl;
  }
};
__name(_View, "View");
let View = _View;


/***/ }),

/***/ "./src/frontend/viewer/Controller/index.ts":
/*!*************************************************!*\
  !*** ./src/frontend/viewer/Controller/index.ts ***!
  \*************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ApplicationController": () => (/* reexport safe */ _ModelController_ApplicationController_ApplicationController__WEBPACK_IMPORTED_MODULE_28__.ApplicationController),
/* harmony export */   "ApplicationView": () => (/* reexport safe */ _ModelController_ApplicationController_ApplicationView__WEBPACK_IMPORTED_MODULE_0__.ApplicationView),
/* harmony export */   "LoginController": () => (/* reexport safe */ _LoginController_LoginController__WEBPACK_IMPORTED_MODULE_16__.LoginController),
/* harmony export */   "LoginView": () => (/* reexport safe */ _LoginController_LoginView__WEBPACK_IMPORTED_MODULE_34__.LoginView),
/* harmony export */   "PageController": () => (/* reexport safe */ _ModelController_PageController_PageController__WEBPACK_IMPORTED_MODULE_5__.PageController),
/* harmony export */   "PageView": () => (/* reexport safe */ _ModelController_PageController_PageView__WEBPACK_IMPORTED_MODULE_1__.PageView),
/* harmony export */   "RowFormCheckBoxFieldController": () => (/* reexport safe */ _ModelController_FieldController_RowFormFieldController_RowFormCheckBoxFieldController_RowFormCheckBoxFieldController__WEBPACK_IMPORTED_MODULE_22__.RowFormCheckBoxFieldController),
/* harmony export */   "RowFormCheckBoxListFieldController": () => (/* reexport safe */ _ModelController_FieldController_RowFormFieldController_RowFormCheckBoxListFieldController_RowFormCheckBoxListFieldController__WEBPACK_IMPORTED_MODULE_27__.RowFormCheckBoxListFieldController),
/* harmony export */   "RowFormCheckBoxListFieldView": () => (/* reexport safe */ _ModelController_FieldController_RowFormFieldController_RowFormCheckBoxListFieldController_RowFormCheckBoxListFieldView__WEBPACK_IMPORTED_MODULE_26__.RowFormCheckBoxListFieldView),
/* harmony export */   "RowFormComboBoxFieldController": () => (/* reexport safe */ _ModelController_FieldController_RowFormFieldController_RowFormComboBoxFieldController_RowFormComboBoxFieldController__WEBPACK_IMPORTED_MODULE_7__.RowFormComboBoxFieldController),
/* harmony export */   "RowFormComboBoxFieldView": () => (/* reexport safe */ _ModelController_FieldController_RowFormFieldController_RowFormComboBoxFieldController_RowFormComboBoxFieldView__WEBPACK_IMPORTED_MODULE_40__.RowFormComboBoxFieldView),
/* harmony export */   "RowFormController": () => (/* reexport safe */ _ModelController_FormController_RowFormController_RowFormController__WEBPACK_IMPORTED_MODULE_2__.RowFormController),
/* harmony export */   "RowFormDateFieldController": () => (/* reexport safe */ _ModelController_FieldController_RowFormFieldController_RowFormDateFieldController_RowFormDateFieldController__WEBPACK_IMPORTED_MODULE_6__.RowFormDateFieldController),
/* harmony export */   "RowFormDateFieldView": () => (/* reexport safe */ _ModelController_FieldController_RowFormFieldController_RowFormDateFieldController_RowFormDateFieldView__WEBPACK_IMPORTED_MODULE_36__.RowFormDateFieldView),
/* harmony export */   "RowFormDateTimeFieldController": () => (/* reexport safe */ _ModelController_FieldController_RowFormFieldController_RowFormDateTimeFieldController_RowFormDateTimeFieldController__WEBPACK_IMPORTED_MODULE_18__.RowFormDateTimeFieldController),
/* harmony export */   "RowFormDateTimeFieldView": () => (/* reexport safe */ _ModelController_FieldController_RowFormFieldController_RowFormDateTimeFieldController_RowFormDateTimeFieldView__WEBPACK_IMPORTED_MODULE_39__.RowFormDateTimeFieldView),
/* harmony export */   "RowFormFieldController": () => (/* reexport safe */ _ModelController_FieldController_RowFormFieldController_RowFormFieldController__WEBPACK_IMPORTED_MODULE_33__.RowFormFieldController),
/* harmony export */   "RowFormFieldView": () => (/* reexport safe */ _ModelController_FieldController_RowFormFieldController_RowFormFieldView__WEBPACK_IMPORTED_MODULE_30__.RowFormFieldView),
/* harmony export */   "RowFormFileFieldController": () => (/* reexport safe */ _ModelController_FieldController_RowFormFieldController_RowFormFileFieldController_RowFormFileFieldController__WEBPACK_IMPORTED_MODULE_23__.RowFormFileFieldController),
/* harmony export */   "RowFormLinkFieldController": () => (/* reexport safe */ _ModelController_FieldController_RowFormFieldController_RowFormLinkFieldController_RowFormLinkFieldController__WEBPACK_IMPORTED_MODULE_35__.RowFormLinkFieldController),
/* harmony export */   "RowFormPasswordFieldController": () => (/* reexport safe */ _ModelController_FieldController_RowFormFieldController_RowFormPasswordFieldController_RowFormPasswordFieldController__WEBPACK_IMPORTED_MODULE_12__.RowFormPasswordFieldController),
/* harmony export */   "RowFormPhoneFieldController": () => (/* reexport safe */ _ModelController_FieldController_RowFormFieldController_RowFormPhoneFieldController_RowFormPhoneFieldController__WEBPACK_IMPORTED_MODULE_24__.RowFormPhoneFieldController),
/* harmony export */   "RowFormPhoneFieldView": () => (/* reexport safe */ _ModelController_FieldController_RowFormFieldController_RowFormPhoneFieldController_RowFormPhoneFieldView__WEBPACK_IMPORTED_MODULE_41__.RowFormPhoneFieldView),
/* harmony export */   "RowFormRadioFieldController": () => (/* reexport safe */ _ModelController_FieldController_RowFormFieldController_RowFormRadioFieldController_RowFormRadioFieldController__WEBPACK_IMPORTED_MODULE_21__.RowFormRadioFieldController),
/* harmony export */   "RowFormTextAreaFieldController": () => (/* reexport safe */ _ModelController_FieldController_RowFormFieldController_RowFormTextAreaFieldController_RowFormTextAreaFieldController__WEBPACK_IMPORTED_MODULE_11__.RowFormTextAreaFieldController),
/* harmony export */   "RowFormTextAreaFieldView": () => (/* reexport safe */ _ModelController_FieldController_RowFormFieldController_RowFormTextAreaFieldController_RowFormTextAreaFieldView__WEBPACK_IMPORTED_MODULE_37__.RowFormTextAreaFieldView),
/* harmony export */   "RowFormTextBoxFieldController": () => (/* reexport safe */ _ModelController_FieldController_RowFormFieldController_RowFormTextBoxFieldController_RowFormTextBoxFieldController__WEBPACK_IMPORTED_MODULE_8__.RowFormTextBoxFieldController),
/* harmony export */   "RowFormTextBoxFieldView": () => (/* reexport safe */ _ModelController_FieldController_RowFormFieldController_RowFormTextBoxFieldController_RowFormTextBoxFieldView__WEBPACK_IMPORTED_MODULE_38__.RowFormTextBoxFieldView),
/* harmony export */   "RowFormTimeFieldController": () => (/* reexport safe */ _ModelController_FieldController_RowFormFieldController_RowFormTimeFieldController_RowFormTimeFieldController__WEBPACK_IMPORTED_MODULE_43__.RowFormTimeFieldController),
/* harmony export */   "RowFormView": () => (/* reexport safe */ _ModelController_FormController_RowFormController_RowFormView__WEBPACK_IMPORTED_MODULE_3__.RowFormView),
/* harmony export */   "TableFormCheckBoxFieldController": () => (/* reexport safe */ _ModelController_FieldController_TableFormFieldController_TableFormCheckBoxFieldController_TableFormCheckBoxFieldController__WEBPACK_IMPORTED_MODULE_20__.TableFormCheckBoxFieldController),
/* harmony export */   "TableFormCheckBoxFieldView": () => (/* reexport safe */ _ModelController_FieldController_TableFormFieldController_TableFormCheckBoxFieldController_TableFormCheckBoxFieldView__WEBPACK_IMPORTED_MODULE_13__.TableFormCheckBoxFieldView),
/* harmony export */   "TableFormComboBoxFieldController": () => (/* reexport safe */ _ModelController_FieldController_TableFormFieldController_TableFormComboBoxFieldController_TableFormComboBoxFieldController__WEBPACK_IMPORTED_MODULE_19__.TableFormComboBoxFieldController),
/* harmony export */   "TableFormComboBoxFieldView": () => (/* reexport safe */ _ModelController_FieldController_TableFormFieldController_TableFormComboBoxFieldController_TableFormComboBoxFieldView__WEBPACK_IMPORTED_MODULE_14__.TableFormComboBoxFieldView),
/* harmony export */   "TableFormController": () => (/* reexport safe */ _ModelController_FormController_TableFormController_TableFormController__WEBPACK_IMPORTED_MODULE_9__.TableFormController),
/* harmony export */   "TableFormDateFieldController": () => (/* reexport safe */ _ModelController_FieldController_TableFormFieldController_TableFormDateFieldController_TableFormDateFieldController__WEBPACK_IMPORTED_MODULE_10__.TableFormDateFieldController),
/* harmony export */   "TableFormDateFieldView": () => (/* reexport safe */ _ModelController_FieldController_TableFormFieldController_TableFormDateFieldController_TableFormDateFieldView__WEBPACK_IMPORTED_MODULE_32__.TableFormDateFieldView),
/* harmony export */   "TableFormDateTimeFieldController": () => (/* reexport safe */ _ModelController_FieldController_TableFormFieldController_TableFormDateTimeFieldController_TableFormDateTimeFieldController__WEBPACK_IMPORTED_MODULE_17__.TableFormDateTimeFieldController),
/* harmony export */   "TableFormDateTimeFieldView": () => (/* reexport safe */ _ModelController_FieldController_TableFormFieldController_TableFormDateTimeFieldController_TableFormDateTimeFieldView__WEBPACK_IMPORTED_MODULE_15__.TableFormDateTimeFieldView),
/* harmony export */   "TableFormLinkFieldController": () => (/* reexport safe */ _ModelController_FieldController_TableFormFieldController_TableFormLinkFieldController_TableFormLinkFieldController__WEBPACK_IMPORTED_MODULE_42__.TableFormLinkFieldController),
/* harmony export */   "TableFormPhoneFieldController": () => (/* reexport safe */ _ModelController_FieldController_TableFormFieldController_TableFormPhoneFieldController_TableFormPhoneFieldController__WEBPACK_IMPORTED_MODULE_25__.TableFormPhoneFieldController),
/* harmony export */   "TableFormTextBoxFieldController": () => (/* reexport safe */ _ModelController_FieldController_TableFormFieldController_TableFormTextBoxFieldController_TableFormTextBoxFieldController__WEBPACK_IMPORTED_MODULE_4__.TableFormTextBoxFieldController),
/* harmony export */   "TableFormTextBoxFieldView": () => (/* reexport safe */ _ModelController_FieldController_TableFormFieldController_TableFormTextBoxFieldController_TableFormTextBoxFieldView__WEBPACK_IMPORTED_MODULE_31__.TableFormTextBoxFieldView),
/* harmony export */   "TableFormView": () => (/* reexport safe */ _ModelController_FormController_TableFormController_TableFormView__WEBPACK_IMPORTED_MODULE_29__.TableFormView)
/* harmony export */ });
/* harmony import */ var _ModelController_ApplicationController_ApplicationView__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./ModelController/ApplicationController/ApplicationView */ "./src/frontend/viewer/Controller/ModelController/ApplicationController/ApplicationView.tsx");
/* harmony import */ var _ModelController_PageController_PageView__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ModelController/PageController/PageView */ "./src/frontend/viewer/Controller/ModelController/PageController/PageView.tsx");
/* harmony import */ var _ModelController_FormController_RowFormController_RowFormController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./ModelController/FormController/RowFormController/RowFormController */ "./src/frontend/viewer/Controller/ModelController/FormController/RowFormController/RowFormController.ts");
/* harmony import */ var _ModelController_FormController_RowFormController_RowFormView__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./ModelController/FormController/RowFormController/RowFormView */ "./src/frontend/viewer/Controller/ModelController/FormController/RowFormController/RowFormView.tsx");
/* harmony import */ var _ModelController_FieldController_TableFormFieldController_TableFormTextBoxFieldController_TableFormTextBoxFieldController__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./ModelController/FieldController/TableFormFieldController/TableFormTextBoxFieldController/TableFormTextBoxFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormTextBoxFieldController/TableFormTextBoxFieldController.ts");
/* harmony import */ var _ModelController_PageController_PageController__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./ModelController/PageController/PageController */ "./src/frontend/viewer/Controller/ModelController/PageController/PageController.ts");
/* harmony import */ var _ModelController_FieldController_RowFormFieldController_RowFormDateFieldController_RowFormDateFieldController__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./ModelController/FieldController/RowFormFieldController/RowFormDateFieldController/RowFormDateFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormDateFieldController/RowFormDateFieldController.ts");
/* harmony import */ var _ModelController_FieldController_RowFormFieldController_RowFormComboBoxFieldController_RowFormComboBoxFieldController__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./ModelController/FieldController/RowFormFieldController/RowFormComboBoxFieldController/RowFormComboBoxFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormComboBoxFieldController/RowFormComboBoxFieldController.ts");
/* harmony import */ var _ModelController_FieldController_RowFormFieldController_RowFormTextBoxFieldController_RowFormTextBoxFieldController__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./ModelController/FieldController/RowFormFieldController/RowFormTextBoxFieldController/RowFormTextBoxFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTextBoxFieldController/RowFormTextBoxFieldController.ts");
/* harmony import */ var _ModelController_FormController_TableFormController_TableFormController__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./ModelController/FormController/TableFormController/TableFormController */ "./src/frontend/viewer/Controller/ModelController/FormController/TableFormController/TableFormController.ts");
/* harmony import */ var _ModelController_FieldController_TableFormFieldController_TableFormDateFieldController_TableFormDateFieldController__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./ModelController/FieldController/TableFormFieldController/TableFormDateFieldController/TableFormDateFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormDateFieldController/TableFormDateFieldController.ts");
/* harmony import */ var _ModelController_FieldController_RowFormFieldController_RowFormTextAreaFieldController_RowFormTextAreaFieldController__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./ModelController/FieldController/RowFormFieldController/RowFormTextAreaFieldController/RowFormTextAreaFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTextAreaFieldController/RowFormTextAreaFieldController.ts");
/* harmony import */ var _ModelController_FieldController_RowFormFieldController_RowFormPasswordFieldController_RowFormPasswordFieldController__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./ModelController/FieldController/RowFormFieldController/RowFormPasswordFieldController/RowFormPasswordFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormPasswordFieldController/RowFormPasswordFieldController.ts");
/* harmony import */ var _ModelController_FieldController_TableFormFieldController_TableFormCheckBoxFieldController_TableFormCheckBoxFieldView__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./ModelController/FieldController/TableFormFieldController/TableFormCheckBoxFieldController/TableFormCheckBoxFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormCheckBoxFieldController/TableFormCheckBoxFieldView.tsx");
/* harmony import */ var _ModelController_FieldController_TableFormFieldController_TableFormComboBoxFieldController_TableFormComboBoxFieldView__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./ModelController/FieldController/TableFormFieldController/TableFormComboBoxFieldController/TableFormComboBoxFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormComboBoxFieldController/TableFormComboBoxFieldView.tsx");
/* harmony import */ var _ModelController_FieldController_TableFormFieldController_TableFormDateTimeFieldController_TableFormDateTimeFieldView__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./ModelController/FieldController/TableFormFieldController/TableFormDateTimeFieldController/TableFormDateTimeFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormDateTimeFieldController/TableFormDateTimeFieldView.tsx");
/* harmony import */ var _LoginController_LoginController__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./LoginController/LoginController */ "./src/frontend/viewer/Controller/LoginController/LoginController.ts");
/* harmony import */ var _ModelController_FieldController_TableFormFieldController_TableFormDateTimeFieldController_TableFormDateTimeFieldController__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./ModelController/FieldController/TableFormFieldController/TableFormDateTimeFieldController/TableFormDateTimeFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormDateTimeFieldController/TableFormDateTimeFieldController.ts");
/* harmony import */ var _ModelController_FieldController_RowFormFieldController_RowFormDateTimeFieldController_RowFormDateTimeFieldController__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./ModelController/FieldController/RowFormFieldController/RowFormDateTimeFieldController/RowFormDateTimeFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormDateTimeFieldController/RowFormDateTimeFieldController.ts");
/* harmony import */ var _ModelController_FieldController_TableFormFieldController_TableFormComboBoxFieldController_TableFormComboBoxFieldController__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./ModelController/FieldController/TableFormFieldController/TableFormComboBoxFieldController/TableFormComboBoxFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormComboBoxFieldController/TableFormComboBoxFieldController.ts");
/* harmony import */ var _ModelController_FieldController_TableFormFieldController_TableFormCheckBoxFieldController_TableFormCheckBoxFieldController__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./ModelController/FieldController/TableFormFieldController/TableFormCheckBoxFieldController/TableFormCheckBoxFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormCheckBoxFieldController/TableFormCheckBoxFieldController.ts");
/* harmony import */ var _ModelController_FieldController_RowFormFieldController_RowFormRadioFieldController_RowFormRadioFieldController__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./ModelController/FieldController/RowFormFieldController/RowFormRadioFieldController/RowFormRadioFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormRadioFieldController/RowFormRadioFieldController.ts");
/* harmony import */ var _ModelController_FieldController_RowFormFieldController_RowFormCheckBoxFieldController_RowFormCheckBoxFieldController__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./ModelController/FieldController/RowFormFieldController/RowFormCheckBoxFieldController/RowFormCheckBoxFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormCheckBoxFieldController/RowFormCheckBoxFieldController.ts");
/* harmony import */ var _ModelController_FieldController_RowFormFieldController_RowFormFileFieldController_RowFormFileFieldController__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ./ModelController/FieldController/RowFormFieldController/RowFormFileFieldController/RowFormFileFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFileFieldController/RowFormFileFieldController.ts");
/* harmony import */ var _ModelController_FieldController_RowFormFieldController_RowFormPhoneFieldController_RowFormPhoneFieldController__WEBPACK_IMPORTED_MODULE_24__ = __webpack_require__(/*! ./ModelController/FieldController/RowFormFieldController/RowFormPhoneFieldController/RowFormPhoneFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormPhoneFieldController/RowFormPhoneFieldController.ts");
/* harmony import */ var _ModelController_FieldController_TableFormFieldController_TableFormPhoneFieldController_TableFormPhoneFieldController__WEBPACK_IMPORTED_MODULE_25__ = __webpack_require__(/*! ./ModelController/FieldController/TableFormFieldController/TableFormPhoneFieldController/TableFormPhoneFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormPhoneFieldController/TableFormPhoneFieldController.ts");
/* harmony import */ var _ModelController_FieldController_RowFormFieldController_RowFormCheckBoxListFieldController_RowFormCheckBoxListFieldView__WEBPACK_IMPORTED_MODULE_26__ = __webpack_require__(/*! ./ModelController/FieldController/RowFormFieldController/RowFormCheckBoxListFieldController/RowFormCheckBoxListFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormCheckBoxListFieldController/RowFormCheckBoxListFieldView.tsx");
/* harmony import */ var _ModelController_FieldController_RowFormFieldController_RowFormCheckBoxListFieldController_RowFormCheckBoxListFieldController__WEBPACK_IMPORTED_MODULE_27__ = __webpack_require__(/*! ./ModelController/FieldController/RowFormFieldController/RowFormCheckBoxListFieldController/RowFormCheckBoxListFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormCheckBoxListFieldController/RowFormCheckBoxListFieldController.ts");
/* harmony import */ var _ModelController_ApplicationController_ApplicationController__WEBPACK_IMPORTED_MODULE_28__ = __webpack_require__(/*! ./ModelController/ApplicationController/ApplicationController */ "./src/frontend/viewer/Controller/ModelController/ApplicationController/ApplicationController.ts");
/* harmony import */ var _ModelController_FormController_TableFormController_TableFormView__WEBPACK_IMPORTED_MODULE_29__ = __webpack_require__(/*! ./ModelController/FormController/TableFormController/TableFormView */ "./src/frontend/viewer/Controller/ModelController/FormController/TableFormController/TableFormView.tsx");
/* harmony import */ var _ModelController_FieldController_RowFormFieldController_RowFormFieldView__WEBPACK_IMPORTED_MODULE_30__ = __webpack_require__(/*! ./ModelController/FieldController/RowFormFieldController/RowFormFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldView.tsx");
/* harmony import */ var _ModelController_FieldController_TableFormFieldController_TableFormTextBoxFieldController_TableFormTextBoxFieldView__WEBPACK_IMPORTED_MODULE_31__ = __webpack_require__(/*! ./ModelController/FieldController/TableFormFieldController/TableFormTextBoxFieldController/TableFormTextBoxFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormTextBoxFieldController/TableFormTextBoxFieldView.tsx");
/* harmony import */ var _ModelController_FieldController_TableFormFieldController_TableFormDateFieldController_TableFormDateFieldView__WEBPACK_IMPORTED_MODULE_32__ = __webpack_require__(/*! ./ModelController/FieldController/TableFormFieldController/TableFormDateFieldController/TableFormDateFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormDateFieldController/TableFormDateFieldView.tsx");
/* harmony import */ var _ModelController_FieldController_RowFormFieldController_RowFormFieldController__WEBPACK_IMPORTED_MODULE_33__ = __webpack_require__(/*! ./ModelController/FieldController/RowFormFieldController/RowFormFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFieldController.ts");
/* harmony import */ var _LoginController_LoginView__WEBPACK_IMPORTED_MODULE_34__ = __webpack_require__(/*! ./LoginController/LoginView */ "./src/frontend/viewer/Controller/LoginController/LoginView.tsx");
/* harmony import */ var _ModelController_FieldController_RowFormFieldController_RowFormLinkFieldController_RowFormLinkFieldController__WEBPACK_IMPORTED_MODULE_35__ = __webpack_require__(/*! ./ModelController/FieldController/RowFormFieldController/RowFormLinkFieldController/RowFormLinkFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormLinkFieldController/RowFormLinkFieldController.ts");
/* harmony import */ var _ModelController_FieldController_RowFormFieldController_RowFormDateFieldController_RowFormDateFieldView__WEBPACK_IMPORTED_MODULE_36__ = __webpack_require__(/*! ./ModelController/FieldController/RowFormFieldController/RowFormDateFieldController/RowFormDateFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormDateFieldController/RowFormDateFieldView.tsx");
/* harmony import */ var _ModelController_FieldController_RowFormFieldController_RowFormTextAreaFieldController_RowFormTextAreaFieldView__WEBPACK_IMPORTED_MODULE_37__ = __webpack_require__(/*! ./ModelController/FieldController/RowFormFieldController/RowFormTextAreaFieldController/RowFormTextAreaFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTextAreaFieldController/RowFormTextAreaFieldView.tsx");
/* harmony import */ var _ModelController_FieldController_RowFormFieldController_RowFormTextBoxFieldController_RowFormTextBoxFieldView__WEBPACK_IMPORTED_MODULE_38__ = __webpack_require__(/*! ./ModelController/FieldController/RowFormFieldController/RowFormTextBoxFieldController/RowFormTextBoxFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTextBoxFieldController/RowFormTextBoxFieldView.tsx");
/* harmony import */ var _ModelController_FieldController_RowFormFieldController_RowFormDateTimeFieldController_RowFormDateTimeFieldView__WEBPACK_IMPORTED_MODULE_39__ = __webpack_require__(/*! ./ModelController/FieldController/RowFormFieldController/RowFormDateTimeFieldController/RowFormDateTimeFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormDateTimeFieldController/RowFormDateTimeFieldView.tsx");
/* harmony import */ var _ModelController_FieldController_RowFormFieldController_RowFormComboBoxFieldController_RowFormComboBoxFieldView__WEBPACK_IMPORTED_MODULE_40__ = __webpack_require__(/*! ./ModelController/FieldController/RowFormFieldController/RowFormComboBoxFieldController/RowFormComboBoxFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormComboBoxFieldController/RowFormComboBoxFieldView.tsx");
/* harmony import */ var _ModelController_FieldController_RowFormFieldController_RowFormPhoneFieldController_RowFormPhoneFieldView__WEBPACK_IMPORTED_MODULE_41__ = __webpack_require__(/*! ./ModelController/FieldController/RowFormFieldController/RowFormPhoneFieldController/RowFormPhoneFieldView */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormPhoneFieldController/RowFormPhoneFieldView.tsx");
/* harmony import */ var _ModelController_FieldController_TableFormFieldController_TableFormLinkFieldController_TableFormLinkFieldController__WEBPACK_IMPORTED_MODULE_42__ = __webpack_require__(/*! ./ModelController/FieldController/TableFormFieldController/TableFormLinkFieldController/TableFormLinkFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormLinkFieldController/TableFormLinkFieldController.ts");
/* harmony import */ var _ModelController_FieldController_RowFormFieldController_RowFormTimeFieldController_RowFormTimeFieldController__WEBPACK_IMPORTED_MODULE_43__ = __webpack_require__(/*! ./ModelController/FieldController/RowFormFieldController/RowFormTimeFieldController/RowFormTimeFieldController */ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTimeFieldController/RowFormTimeFieldController.ts");














































/***/ }),

/***/ "./src/frontend/viewer/EventEmitter.ts":
/*!*********************************************!*\
  !*** ./src/frontend/viewer/EventEmitter.ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "EventEmitter": () => (/* binding */ EventEmitter)
/* harmony export */ });
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};
const _EventEmitter = class _EventEmitter {
  constructor() {
    this.list = {};
  }
  on(name, cb) {
    if (!this.list[name]) {
      this.list[name] = [];
    }
    this.list[name].push(cb);
  }
  off(name, cb) {
    const i = this.list[name].indexOf(cb);
    if (i === -1) {
      throw new Error(`cannot find cb for ${name}`);
    }
    this.list[name].splice(i, 1);
  }
  emit(name, e) {
    return __async(this, null, function* () {
      if (this.list[name] && this.list[name].length) {
        const results = yield Promise.allSettled(this.list[name].map((cb) => cb(e)));
        for (const result of results) {
          if (result.status === "rejected") {
            throw result.reason;
          }
        }
      }
    });
  }
};
__name(_EventEmitter, "EventEmitter");
let EventEmitter = _EventEmitter;


/***/ }),

/***/ "./src/frontend/viewer/LoginFrontHostApp.ts":
/*!**************************************************!*\
  !*** ./src/frontend/viewer/LoginFrontHostApp.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LoginFrontHostApp": () => (/* binding */ LoginFrontHostApp)
/* harmony export */ });
/* harmony import */ var _Controller_LoginController_LoginController__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./Controller/LoginController/LoginController */ "./src/frontend/viewer/Controller/LoginController/LoginController.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../common */ "./src/frontend/common/index.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};


const _LoginFrontHostApp = class _LoginFrontHostApp extends _common__WEBPACK_IMPORTED_MODULE_1__.FrontHostApp {
  constructor(data) {
    console.debug("LoginFrontHostApp.constructor", data);
    super();
    this.data = data;
  }
  run() {
    return __async(this, null, function* () {
      console.debug("LoginFrontHostApp.run");
      const loginController = _Controller_LoginController_LoginController__WEBPACK_IMPORTED_MODULE_0__.LoginController.create(this);
      const rootElement = document.querySelector(
        `.${loginController.getViewClassCssBlockName()}__root`
      );
      if (!rootElement)
        throw new Error("no root element");
      const loginView = _common__WEBPACK_IMPORTED_MODULE_1__.Helper.createReactComponent(rootElement, loginController.getViewClass(), {
        ctrl: loginController
      });
    });
  }
  getText() {
    return this.data.text;
  }
  getData() {
    return this.data;
  }
};
__name(_LoginFrontHostApp, "LoginFrontHostApp");
let LoginFrontHostApp = _LoginFrontHostApp;
_common__WEBPACK_IMPORTED_MODULE_1__.Helper.registerGlobalClass(LoginFrontHostApp);


/***/ }),

/***/ "./src/frontend/viewer/Model/Application/Application.ts":
/*!**************************************************************!*\
  !*** ./src/frontend/viewer/Model/Application/Application.ts ***!
  \**************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Application": () => (/* binding */ Application)
/* harmony export */ });
/* harmony import */ var _Model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Model */ "./src/frontend/viewer/Model/Model.ts");
/* harmony import */ var _Database_Database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Database/Database */ "./src/frontend/viewer/Model/Database/Database.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};




const _Application = class _Application extends _Model__WEBPACK_IMPORTED_MODULE_0__.Model {
  constructor(data) {
    super(data);
    this.databases = [];
    this.dataSources = [];
  }
  init() {
    if (!this.getData().theme)
      throw new Error("no theme attr");
    this.createDatabases();
    this.createDataSources();
  }
  createDatabases() {
    for (const data of this.getData().databases) {
      const database = new _Database_Database__WEBPACK_IMPORTED_MODULE_1__.Database(data, this);
      database.init();
      this.addDatabase(database);
    }
  }
  deinit() {
    this.deinitDataSources();
    super.deinit();
  }
  addDatabase(database) {
    this.databases.push(database);
  }
  logout() {
    return __async(this, null, function* () {
      const data = yield this.request("POST", {
        action: "logout"
      });
      this.emit("logout", { source: this });
    });
  }
  request(method, body) {
    return __async(this, null, function* () {
      const start = Date.now();
      const [headers, data] = yield _common__WEBPACK_IMPORTED_MODULE_2__.FrontHostApp.doHttpRequest2(method, body);
      if (!headers["qforms-platform-version"])
        throw new Error("no qforms-platform-version header");
      this.emit("request", {
        time: Date.now() - start,
        remotePlatformVersion: headers["qforms-platform-version"],
        remoteAppVersion: headers["qforms-app-version"] || null
      });
      return data;
    });
  }
  findDatabase(name) {
    return this.databases.find((database) => database.getName() === name);
  }
  getDatabase(name) {
    const database = this.findDatabase(name);
    if (!database)
      throw new Error(`no database: ${name}`);
    return database;
  }
  getText() {
    return this.getData().text;
  }
  getUser() {
    return this.getData().user;
  }
  getDomain() {
    return this.getAttr("domain");
  }
  getVirtualPath() {
    return this.getData().virtualPath;
  }
  rpc(name, params) {
    return __async(this, null, function* () {
      console.debug("Application.rpc", this.getFullName(), name, params);
      if (!name)
        throw new Error("no name");
      const response = yield this.request("POST", {
        action: "rpc",
        name,
        params,
        uuid: this.getAttr("uuid")
      });
      if (response.errorMessage)
        throw new Error(response.errorMessage);
      return response;
    });
  }
  emitResult(result, source) {
    console.debug("Application.emitResult", result, source);
    const promises = [];
    for (const database in result) {
      promises.push(...this.getDatabase(database).emitResult(result[database], source));
    }
    return Promise.allSettled(promises);
  }
  getNodeEnv() {
    return this.getData().nodeEnv;
  }
  isDevelopment() {
    return this.getNodeEnv() === "dev";
  }
  getRoute() {
    return this.getAttr("route");
  }
};
__name(_Application, "Application");
let Application = _Application;
_common_Helper__WEBPACK_IMPORTED_MODULE_3__.Helper.registerGlobalClass(Application);


/***/ }),

/***/ "./src/frontend/viewer/Model/Column/Column.ts":
/*!****************************************************!*\
  !*** ./src/frontend/viewer/Model/Column/Column.ts ***!
  \****************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Column": () => (/* binding */ Column)
/* harmony export */ });
/* harmony import */ var _Model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Model */ "./src/frontend/viewer/Model/Model.ts");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _Column = class _Column extends _Model__WEBPACK_IMPORTED_MODULE_0__.Model {
  constructor(data, parent) {
    super(data, parent);
    if (!this.getAttr("type"))
      throw new Error(`column ${this.getFullName()}: no type`);
    if (!["string", "number", "boolean", "object", "date"].includes(this.getAttr("type"))) {
      throw new Error(`${this.getFullName()}: wrong column type: ${this.getAttr("type")}`);
    }
  }
  init() {
  }
  getType() {
    return this.getAttr("type");
  }
};
__name(_Column, "Column");
let Column = _Column;
_common_Helper__WEBPACK_IMPORTED_MODULE_1__.Helper.registerGlobalClass(Column);


/***/ }),

/***/ "./src/frontend/viewer/Model/DataSource/DataSource.ts":
/*!************************************************************!*\
  !*** ./src/frontend/viewer/Model/DataSource/DataSource.ts ***!
  \************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DataSource": () => (/* binding */ DataSource)
/* harmony export */ });
/* harmony import */ var _Model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Model */ "./src/frontend/viewer/Model/Model.ts");
/* harmony import */ var _Form_Form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Form/Form */ "./src/frontend/viewer/Model/Form/Form.ts");
/* harmony import */ var _Page_Page__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Page/Page */ "./src/frontend/viewer/Model/Page/Page.ts");
/* harmony import */ var _Application_Application__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Application/Application */ "./src/frontend/viewer/Model/Application/Application.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../../../../types */ "./src/types.ts");
/* harmony import */ var _Field_Field__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ../Field/Field */ "./src/frontend/viewer/Model/Field/Field.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ../../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};








const _DataSource = class _DataSource extends _Model__WEBPACK_IMPORTED_MODULE_0__.Model {
  constructor(data, parent) {
    super(data, parent);
    this.rows = null;
    this.rowsByKey = null;
    this.news = [];
    this.changes = /* @__PURE__ */ new Map();
    this.frame = 1;
    this.count = null;
    this.lastFrame = 1;
    this.onTableInsert = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      if (this.deinited)
        throw new Error(`${this.getFullName()}: this data source deinited for onTableUpdate`);
      if (e.source === this) {
        return;
      }
      console.debug("DataSource.onTableInsert", this.getFullName(), e);
      if (!e.inserts.length)
        throw new Error(`${this.getFullName()}: no inserts`);
      for (const key of e.inserts) {
        if (this.getRow(key)) {
          console.debug("rows:", this.rows);
          console.debug("rowsByKey:", this.rowsByKey);
          throw new Error(`${this.getFullName()}: row already in this data source: ${key}`);
        }
        const newValues = e.source.getRow(key);
        const newRow = {};
        _DataSource.copyNewValues(newRow, newValues);
        this.addRow(newRow);
      }
      if (this.getParent() instanceof _Form_Form__WEBPACK_IMPORTED_MODULE_1__.Form) {
        this.getForm().onDataSourceInsert(e);
      }
      this.emit("insert", e);
    }), "onTableInsert");
    this.onTableUpdate = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      if (this.deinited)
        throw new Error(`${this.getFullName()}: this data source deinited for onTableUpdate`);
      if (e.source === this) {
        return;
      }
      console.debug("DataSource.onTableUpdate", this.getFullName(), e);
      if (!Object.keys(e.updates).length)
        throw new Error(`${this.getFullName()}: no updates`);
      for (const key in e.updates) {
        if (this.getRow(key)) {
          const newKey = e.updates[key];
          const sourceRow = e.source.getRow(newKey);
          this.updateRow(key, sourceRow);
        }
      }
      if (this.getParent() instanceof _Form_Form__WEBPACK_IMPORTED_MODULE_1__.Form) {
        this.getForm().onDataSourceUpdate(e);
      }
      this.emit("update", e);
    }), "onTableUpdate");
    this.onTableDelete = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      if (this.deinited)
        throw new Error(`${this.getFullName()}: this data source deinited for onTableDelete`);
      if (e.source === this) {
        return;
      }
      console.debug("DataSource.onTableDelete", this.getFullName(), e);
      if (!e.deletes.length)
        throw new Error(`${this.getFullName()}: no deletes`);
      for (const key of e.deletes) {
        if (this.getRow(key)) {
          this.removeRow(key);
        }
      }
      if (this.getParent() instanceof _Form_Form__WEBPACK_IMPORTED_MODULE_1__.Form) {
        this.getForm().onDataSourceDelete(e);
      }
      this.emit("delete", e);
    }), "onTableDelete");
    this.onTableRefresh = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      throw new Error("DataSource.onTableRefresh: not implemented");
    }), "onTableRefresh");
    if (data.count !== void 0) {
      this.count = data.count;
    }
  }
  init() {
    this.setRows(this.getData().rows);
    if (this.getAttr("table")) {
      const table = this.getTable();
      table.on("insert", this.onTableInsert);
      table.on("update", this.onTableUpdate);
      table.on("delete", this.onTableDelete);
      table.on("refresh", this.onTableRefresh);
    }
  }
  deinit() {
    if (this.getAttr("table")) {
      const table = this.getTable();
      table.off("insert", this.onTableInsert);
      table.off("update", this.onTableUpdate);
      table.off("delete", this.onTableDelete);
      table.off("refresh", this.onTableRefresh);
    }
    super.deinit();
  }
  setRows(rows) {
    this.rows = rows;
    this.fillRowsByKey();
  }
  addRow(row) {
    this.rows.push(row);
    const key = this.getRowKey(row);
    this.rowsByKey[key] = row;
  }
  addRows(rows) {
    for (let i = 0; i < rows.length; i++) {
      this.rows.push(rows[i]);
    }
    this.fillRowsByKey();
  }
  getRowsLength() {
    return this.rows.length;
  }
  fillRowsByKey() {
    this.rowsByKey = {};
    for (let i = 0; i < this.rows.length; i++) {
      const row = this.rows[i];
      const key = this.getRowKey(row);
      this.rowsByKey[key] = row;
    }
  }
  // deinit() {
  //     console.debug('DataSource.deinit', this.getFullName());
  //     super.deinit();
  // }
  /*getType(column) {
      // console.debug('DataSource.getType', this.getClassName(), column);
      throw new Error('DataSource column type not implemented');
  }*/
  discardRowColumn(row, column) {
    if (this.changes.has(row) && this.changes.get(row)[column] !== void 0) {
      delete this.changes.get(row)[column];
    }
  }
  changeRowColumn(row, column, newValue) {
    if (!this.changes.has(row))
      this.changes.set(row, {});
    this.changes.get(row)[column] = newValue;
  }
  setValue(row, column, value) {
    if (value === void 0)
      throw new Error(`${this.getFullName()}: undefined is wrong value for data source`);
    if (typeof value === "object" && value !== null) {
      throw new Error(
        `setValue: ${this.getFullName()}.${column}: object must be in JSON format`
      );
    }
    if (row[column] !== value) {
      this.changeRowColumn(row, column, value);
      if (row[column] === void 0 && value === null) {
        this.discardRowColumn(row, column);
      }
    } else {
      this.discardRowColumn(row, column);
    }
    if (this.changes.has(row) && !Object.keys(this.changes.get(row)).length)
      this.changes.delete(row);
  }
  isChanged() {
    return !!this.changes.size;
  }
  hasNew() {
    return !!this.news.length;
  }
  isRowColumnChanged(row, column) {
    return row[column] !== this.getValue(row, column);
  }
  getValue(row, column) {
    let value;
    if (this.changes.has(row) && this.changes.get(row)[column] !== void 0) {
      value = this.changes.get(row)[column];
    } else {
      value = row[column];
    }
    if (value !== void 0 && typeof value !== "string") {
      throw new Error(
        `getValue: ${this.getFullName()}.${column}: object must be in JSON format, value: ${value}`
      );
    }
    return value;
  }
  getKeyValues(row) {
    return this.getData().keyColumns.reduce((keyValues, column) => {
      keyValues[column] = JSON.parse(row[column]);
      return keyValues;
    }, {});
  }
  getRowKey(row) {
    const arr = [];
    for (const column of this.getData().keyColumns) {
      if (row[column] === void 0)
        return null;
      if (row[column] === null)
        throw new Error("wrong value null for data source value");
      try {
        const value = JSON.parse(row[column]);
        arr.push(value);
      } catch (err) {
        console.debug("getRowKey: cannot parse: ", row[column]);
        throw err;
      }
    }
    return (0,_types__WEBPACK_IMPORTED_MODULE_5__.keyTupleToKey)(arr);
  }
  removeRow(key) {
    const row = this.getRow(key);
    if (!row)
      throw new Error(`${this.getFullName()}: no row with key ${key} to remove`);
    const i = this.rows.indexOf(row);
    if (i === -1)
      throw new Error(`${this.getFullName()}: no row with i ${i} to remove`);
    this.rows.splice(i, 1);
    delete this.rowsByKey[key];
  }
  newRow(row) {
    console.debug("DataSource.newRow", this.getFullName(), row);
    if (this.rows.length > 0) {
      throw new Error("rows can be added to empty data sources only in new mode");
    }
    this.news.push(row);
  }
  getSingleRow(withChanges = false) {
    if (this.news[0])
      return this.news[0];
    const row = this.rows[0];
    if (!row)
      throw new Error("no single row");
    if (withChanges) {
      return this.getRowWithChanges(row);
    }
    return row;
  }
  getForm() {
    return this.getParent() instanceof _Form_Form__WEBPACK_IMPORTED_MODULE_1__.Form ? this.getParent() : null;
  }
  getPage() {
    if (this.getParent() instanceof _Form_Form__WEBPACK_IMPORTED_MODULE_1__.Form)
      return this.getParent().getParent();
    if (this.getParent() instanceof _Page_Page__WEBPACK_IMPORTED_MODULE_2__.Page)
      return this.getParent();
    return null;
  }
  getApp() {
    (0,_console__WEBPACK_IMPORTED_MODULE_7__.debug)("DataSource.getApp", this.getFullName());
    if (this.getParent() instanceof _Application_Application__WEBPACK_IMPORTED_MODULE_3__.Application)
      return this.getParent();
    if (this.getParent() instanceof _Page_Page__WEBPACK_IMPORTED_MODULE_2__.Page)
      return this.getParent().getParent();
    if (this.getParent() instanceof _Form_Form__WEBPACK_IMPORTED_MODULE_1__.Form)
      return this.getParent().getParent().getParent();
    if (this.getParent() instanceof _Field_Field__WEBPACK_IMPORTED_MODULE_6__.Field)
      return this.getParent().getParent().getParent().getParent();
    throw new Error(
      `unknown parent: ${this.getParent().constructor.name}(${this.getParent().getFullName()})`
    );
  }
  /*getNamespace() {
      if (this.parent instanceof Form) {
          return this.parent.getPage().getName() + '.' + this.parent.getName() + '.' + this.getName();
      }
      if (this.parent instanceof Page) {
          return this.parent.getName() + '.' + this.getName();
      }
      return this.getName();
  }*/
  getRow(key) {
    return this.rowsByKey[key] || null;
  }
  /*getRowByKey(key) {
      return this.rowsByKey[key] || null;
  }*/
  getRows() {
    if (!this.rows)
      throw new Error("no rows");
    return this.rows;
  }
  getRowByIndex(i) {
    return this.rows[i];
  }
  discard() {
    console.debug("DataSource.discard", this.getFullName());
    if (!this.isChanged())
      throw new Error(`no changes in data source ${this.getFullName()}`);
    this.changes.clear();
  }
  static keyToParams(key, paramName = "key") {
    if (typeof key !== "string")
      throw new Error("key not string");
    const params = {};
    const arr = JSON.parse(key);
    if (arr.length === 1) {
      params[paramName] = arr[0];
    } else if (arr.length > 1) {
      for (let i = 0; i < arr.length; i++) {
        params[`${paramName}${i + 1}`] = arr[i];
      }
    } else {
      throw new Error(`invalid key: ${key}`);
    }
    return params;
  }
  getChangesByKey() {
    const changes = {};
    for (const row of this.changes.keys()) {
      changes[this.getRowKey(row)] = this.changes.get(row);
    }
    return changes;
  }
  getRowWithChanges(row) {
    if (this.changes.has(row)) {
      return __spreadValues(__spreadValues({}, row), this.changes.get(row));
    }
    return row;
  }
  hasNewRows() {
    return this.news.length > 0;
  }
  static copyNewValues(row, newValues) {
    for (const name in newValues) {
      row[name] = newValues[name];
    }
  }
  updateRow(key, newValues) {
    console.debug("DataSource.updateRow", this.getFullName(), key, newValues);
    if (!key)
      throw new Error("no key");
    const row = this.getRow(key);
    if (!row)
      throw new Error(`${this.getFullName()}: no row with key ${key}`);
    const newKey = this.getRowKey(newValues);
    _DataSource.copyNewValues(row, newValues);
    if (key !== newKey) {
      delete this.rowsByKey[key];
      this.rowsByKey[newKey] = row;
    }
  }
  getTable() {
    if (!this.getAttr("table"))
      throw new Error(`${this.getFullName()}: table attr empty`);
    return this.getDatabase().getTable(this.getAttr("table"));
  }
  getDatabase() {
    if (!this.getAttr("database"))
      throw new Error(`${this.getFullName()}: database attr empty`);
    return this.getApp().getDatabase(this.getAttr("database"));
  }
  getType(columnName) {
    const type = this.getTable().getColumn(columnName).getType();
    return type;
  }
  insert(row) {
    return __async(this, null, function* () {
      console.debug("DataSource.insert", this.news);
      if (!this.news.length)
        throw new Error("no new rows to insert");
      const inserts = [];
      for (const row2 of this.news) {
        const newValues = this.getRowWithChanges(row2);
        _DataSource.copyNewValues(row2, newValues);
        const key = this.getRowKey(row2);
        if (!key)
          throw new Error("invalid insert row, no key");
        inserts.push(key);
      }
      this.changes.clear();
      for (const row2 of this.news) {
        this.addRow(row2);
      }
      this.news = [];
      console.debug("rows:", this.getRows());
      console.debug("inserts:", inserts);
      if (this.getParent() instanceof _Form_Form__WEBPACK_IMPORTED_MODULE_1__.Form) {
        this.getForm().onDataSourceInsert({ source: this, inserts });
      }
      this.emit("insert", { source: this, inserts });
      const database = this.getAttr("database");
      const table = this.getAttr("table");
      if (database && table) {
        const result = {
          [database]: {
            [table]: { insert: inserts }
          }
        };
        yield this.getApp().emitResult(result, this);
        return result;
      }
      return null;
    });
  }
  delete(key) {
    return __async(this, null, function* () {
      console.debug("DataSource.delete", key);
      if (!key)
        throw new Error("no key");
      this.removeRow(key);
      const deletes = [key];
      if (this.getParent() instanceof _Form_Form__WEBPACK_IMPORTED_MODULE_1__.Form) {
        this.getForm().onDataSourceDelete({ source: this, deletes });
      }
      this.emit("delete", { source: this, deletes });
      const database = this.getAttr("database");
      const table = this.getAttr("table");
      if (database && table) {
        const result = {
          [database]: {
            [table]: { delete: deletes }
          }
        };
        yield this.getApp().emitResult(result, this);
        return result;
      }
      return null;
    });
  }
  update() {
    return __async(this, null, function* () {
      console.debug("DataSource.update", this.getFullName());
      if (this.news.length) {
        yield this.insert();
        return null;
      }
      if (!this.changes.size)
        throw new Error(`no changes: ${this.getFullName()}`);
      const changes = this.getChangesByKey();
      const updates = {};
      for (const key in changes) {
        const row = this.getRow(key);
        const newValues = this.getRowWithChanges(row);
        const newKey = this.getRowKey(newValues);
        this.updateRow(key, newValues);
        updates[key] = newKey;
      }
      this.changes.clear();
      if (this.getParent() instanceof _Form_Form__WEBPACK_IMPORTED_MODULE_1__.Form) {
        this.getForm().onDataSourceUpdate({ source: this, updates });
      }
      this.emit("update", { source: this, updates });
      const database = this.getAttr("database");
      const table = this.getAttr("table");
      if (database && table) {
        const reuslt = {
          [database]: {
            [table]: {
              update: updates
            }
          }
        };
        yield this.getApp().emitResult(reuslt, this);
        return reuslt;
      }
      return null;
    });
  }
  isSurrogate() {
    return this.isAttr("database");
  }
  moveRow(row, offset) {
    console.debug("DataSource.moveRow");
    _common__WEBPACK_IMPORTED_MODULE_4__.Helper.moveArrItem(this.rows, row, offset);
    const event = { source: this };
    if (this.getParent() instanceof _Form_Form__WEBPACK_IMPORTED_MODULE_1__.Form) {
      this.getForm().onDataSourceRefresh(event);
    }
    this.emit("refresh", event);
  }
  getLimit() {
    if (this.getAttr("limit")) {
      return parseInt(this.getAttr("limit"));
    }
    return null;
  }
  getCount() {
    if (this.count === null)
      throw new Error(`${this.getFullName()}: no count info`);
    return this.count;
  }
  getFrame() {
    return this.frame;
  }
  getLastFrame() {
    return this.lastFrame;
  }
  setFrame(frame) {
    this.frame = frame;
  }
  getFramesCount() {
    if (this.count === null)
      throw new Error(`${this.getFullName()}: no count info`);
    if (this.count === 0)
      return 1;
    if (this.getLimit())
      return Math.ceil(this.count / this.getLimit());
    return 1;
  }
  hasMore() {
    return this.lastFrame < this.getFramesCount();
  }
  isPersistent() {
    return false;
  }
  refresh() {
    return __async(this, null, function* () {
      throw new Error("DataSource.refresh not implemented");
    });
  }
};
__name(_DataSource, "DataSource");
let DataSource = _DataSource;
_common__WEBPACK_IMPORTED_MODULE_4__.Helper.registerGlobalClass(DataSource);


/***/ }),

/***/ "./src/frontend/viewer/Model/DataSource/PersistentDataSource/NoSqlDataSource/NoSqlDataSource.ts":
/*!******************************************************************************************************!*\
  !*** ./src/frontend/viewer/Model/DataSource/PersistentDataSource/NoSqlDataSource/NoSqlDataSource.ts ***!
  \******************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "NoSqlDataSource": () => (/* binding */ NoSqlDataSource)
/* harmony export */ });
/* harmony import */ var _PersistentDataSource__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PersistentDataSource */ "./src/frontend/viewer/Model/DataSource/PersistentDataSource/PersistentDataSource.ts");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _NoSqlDataSource = class _NoSqlDataSource extends _PersistentDataSource__WEBPACK_IMPORTED_MODULE_0__.PersistentDataSource {
};
__name(_NoSqlDataSource, "NoSqlDataSource");
let NoSqlDataSource = _NoSqlDataSource;
_common_Helper__WEBPACK_IMPORTED_MODULE_1__.Helper.registerGlobalClass(NoSqlDataSource);


/***/ }),

/***/ "./src/frontend/viewer/Model/DataSource/PersistentDataSource/PersistentDataSource.ts":
/*!*******************************************************************************************!*\
  !*** ./src/frontend/viewer/Model/DataSource/PersistentDataSource/PersistentDataSource.ts ***!
  \*******************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PersistentDataSource": () => (/* binding */ PersistentDataSource)
/* harmony export */ });
/* harmony import */ var _DataSource__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../DataSource */ "./src/frontend/viewer/Model/DataSource/DataSource.ts");
/* harmony import */ var _Form_Form__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../Form/Form */ "./src/frontend/viewer/Model/Form/Form.ts");
var __defProp = Object.defineProperty;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};


const _PersistentDataSource = class _PersistentDataSource extends _DataSource__WEBPACK_IMPORTED_MODULE_0__.DataSource {
  constructor() {
    super(...arguments);
    this.onTableUpdate = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("PersistentDataSource.onTableUpdate", this.getFullName(), e);
      if (this.deinited)
        throw new Error(`${this.getFullName()}: this data source deinited for onTableUpdate`);
      if (e.source === this) {
        return;
      }
      if (!Object.keys(e.updates).length)
        throw new Error(`${this.getFullName()}: no updates`);
      yield this.refill();
      if (this.getParent() instanceof _Form_Form__WEBPACK_IMPORTED_MODULE_1__.Form) {
        this.getForm().onDataSourceUpdate(e);
      }
      this.emit("update", e);
    }), "onTableUpdate");
    this.onTableInsert = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("PersistentDataSource.onTableInsert", this.getFullName(), e);
      if (this.deinited)
        throw new Error(`${this.getFullName()}: this data source deinited for onTableInsert`);
      if (e.source === this) {
        return;
      }
      yield this.refill();
      if (this.getParent() instanceof _Form_Form__WEBPACK_IMPORTED_MODULE_1__.Form) {
        this.getForm().onDataSourceInsert(e);
      }
      this.emit("insert", e);
    }), "onTableInsert");
    this.onTableDelete = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("PersistentDataSource.onTableDelete", this.getFullName(), e);
      if (this.deinited)
        throw new Error(`${this.getFullName()}: this data source deinited for onTableDelete`);
      if (e.source === this) {
        return;
      }
      yield this.refill();
      if (this.getParent() instanceof _Form_Form__WEBPACK_IMPORTED_MODULE_1__.Form) {
        this.getForm().onDataSourceDelete(e);
      }
      this.emit("delete", e);
    }), "onTableDelete");
    this.onTableRefresh = /* @__PURE__ */ __name((e) => __async(this, null, function* () {
      console.debug("PersistentDataSource.onTableRefresh", this.getFullName(), e);
      if (this.deinited)
        throw new Error(`${this.getFullName()}: this data source deinited for onTableDelete`);
      if (e.source)
        throw new Error("refresh is foreign result so source must be null");
      yield this.refill();
      if (this.getParent() instanceof _Form_Form__WEBPACK_IMPORTED_MODULE_1__.Form) {
        this.getForm().onDataSourceRefresh(e);
      }
      this.emit("refresh", e);
    }), "onTableRefresh");
  }
  /* constructor(data, parent) {
      super(data, parent);
  } */
  /*init() {
      super.init();
  }*/
  /*deinit() {
      super.deinit();
  }*/
  insert(row) {
    return __async(this, null, function* () {
      console.debug("PersistentDataSource.insert", row);
      const database = this.getAttr("database");
      const table = this.getAttr("table");
      if (table === "")
        throw new Error("no data source table to insert");
      const result = yield this.getApp().request("POST", {
        action: "insert",
        uuid: this.getApp().getAttr("uuid"),
        page: this.getForm().getPage().getName(),
        form: this.getForm().getName(),
        row: this.getRowWithChanges(row)
      });
      const [key] = Object.keys(result[database][table].insertEx);
      if (!key)
        throw new Error("no inserted row key");
      const values = result[database][table].insertEx[key];
      for (const column in values) {
        row[column] = values[column];
      }
      this.news.splice(this.news.indexOf(row), 1);
      this.changes.clear();
      this.addRow(row);
      const event = { source: this, inserts: result[database][table].insert };
      if (this.getParent() instanceof _Form_Form__WEBPACK_IMPORTED_MODULE_1__.Form) {
        this.getForm().onDataSourceInsert(event);
      }
      this.emit("insert", event);
      yield this.getApp().emitResult(result, this);
      return result;
    });
  }
  update() {
    return __async(this, null, function* () {
      console.debug("PersistentDataSource.update", this.getFullName());
      const database = this.getAttr("database");
      const table = this.getAttr("table");
      if (table === "")
        throw new Error("no data source table to update");
      if (this.news[0]) {
        return yield this.insert(this.news[0]);
      }
      if (!this.changes.size)
        throw new Error(`no changes: ${this.getFullName()}`);
      const result = yield this.getApp().request("POST", {
        action: "update",
        uuid: this.getApp().getAttr("uuid"),
        page: this.getForm().getPage().getName(),
        form: this.getForm().getName(),
        changes: this.getChangesByKey()
      });
      const [key] = Object.keys(result[database][table].updateEx);
      if (!key)
        throw new Error("no updated row");
      const newValues = result[database][table].updateEx[key];
      this.changes.clear();
      this.updateRow(key, newValues);
      const event = { source: this, updates: result[database][table].update };
      if (this.getParent() instanceof _Form_Form__WEBPACK_IMPORTED_MODULE_1__.Form) {
        this.getForm().onDataSourceUpdate(event);
      }
      this.emit("update", event);
      yield this.getApp().emitResult(result, this);
      return result;
    });
  }
  delete(key) {
    return __async(this, null, function* () {
      console.debug("PersistentDataSource.delete:", this.getFullName(), key);
      if (!key)
        throw new Error("no key");
      const database = this.getAttr("database");
      const table = this.getAttr("table");
      if (!table) {
        throw new Error(`no table in data source: ${this.getFullName()}`);
      }
      const result = yield this.getApp().request("POST", {
        action: "_delete",
        uuid: this.getApp().getAttr("uuid"),
        page: this.getForm().getPage().getName(),
        form: this.getForm().getName(),
        params: { key }
      });
      yield this.refill();
      const event = { source: this, deletes: result[database][table].delete };
      if (this.getParent() instanceof _Form_Form__WEBPACK_IMPORTED_MODULE_1__.Form) {
        this.getForm().onDataSourceDelete(event);
      }
      this.emit("delete", event);
      yield this.getApp().emitResult(result, this);
      return result;
    });
  }
  getPageParams() {
    const page = this.getPage();
    return page ? page.getParams() : {};
  }
  refresh() {
    return __async(this, null, function* () {
      console.debug("PersistentDataSource.refresh", this.getFullName());
      yield this.refill();
      if (this.getParent() instanceof _Form_Form__WEBPACK_IMPORTED_MODULE_1__.Form) {
        this.getForm().onDataSourceRefresh({ source: this });
      }
    });
  }
  refill() {
    return __async(this, null, function* () {
      console.debug("PersistentDataSource.refill", this.getFullName());
      if (this.isChanged())
        throw new Error(`cannot refill changed data source: ${this.getFullName()}`);
      const data = yield this.select(this.getLimit() ? { frame: this.frame } : {});
      this.count = data.count;
      this.setRows(data.rows);
      this.lastFrame = 1;
    });
  }
  fill(frame) {
    return __async(this, null, function* () {
      if (this.isChanged())
        throw new Error(`cannot fill changed data source: ${this.getFullName()}`);
      const data = yield this.select(this.getLimit() ? { frame } : {});
      this.count = data.count;
      this.addRows(data.rows);
    });
  }
  more() {
    return __async(this, null, function* () {
      if (!this.hasMore())
        throw new Error(`${this.getFullName()}: no more rows`);
      this.lastFrame++;
      yield this.fill(this.lastFrame);
    });
  }
  select() {
    return __async(this, arguments, function* (params = {}) {
      console.debug("PersistentDataSource.select", this.getFullName(), params);
      const page = this.getPage();
      const form = this.getForm();
      const data = yield this.getApp().request("POST", {
        action: "select",
        page: page ? page.getName() : null,
        form: form ? form.getName() : null,
        ds: this.getName(),
        params: __spreadValues(__spreadValues({}, this.getPageParams()), params)
      });
      if (!(data.rows instanceof Array))
        throw new Error("rows must be array");
      return data;
    });
  }
  isPersistent() {
    return true;
  }
};
__name(_PersistentDataSource, "PersistentDataSource");
let PersistentDataSource = _PersistentDataSource;


/***/ }),

/***/ "./src/frontend/viewer/Model/DataSource/PersistentDataSource/SqlDataSource/SqlDataSource.ts":
/*!**************************************************************************************************!*\
  !*** ./src/frontend/viewer/Model/DataSource/PersistentDataSource/SqlDataSource/SqlDataSource.ts ***!
  \**************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "SqlDataSource": () => (/* binding */ SqlDataSource)
/* harmony export */ });
/* harmony import */ var _PersistentDataSource__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../PersistentDataSource */ "./src/frontend/viewer/Model/DataSource/PersistentDataSource/PersistentDataSource.ts");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _SqlDataSource = class _SqlDataSource extends _PersistentDataSource__WEBPACK_IMPORTED_MODULE_0__.PersistentDataSource {
};
__name(_SqlDataSource, "SqlDataSource");
let SqlDataSource = _SqlDataSource;
_common_Helper__WEBPACK_IMPORTED_MODULE_1__.Helper.registerGlobalClass(SqlDataSource);


/***/ }),

/***/ "./src/frontend/viewer/Model/Database/Database.ts":
/*!********************************************************!*\
  !*** ./src/frontend/viewer/Model/Database/Database.ts ***!
  \********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Database": () => (/* binding */ Database)
/* harmony export */ });
/* harmony import */ var _Model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Model */ "./src/frontend/viewer/Model/Model.ts");
/* harmony import */ var _Table_Table__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Table/Table */ "./src/frontend/viewer/Model/Table/Table.ts");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _Database = class _Database extends _Model__WEBPACK_IMPORTED_MODULE_0__.Model {
  constructor() {
    super(...arguments);
    this.tables = [];
  }
  init() {
    for (const tableData of this.getData().tables) {
      const table = new _Table_Table__WEBPACK_IMPORTED_MODULE_1__.Table(tableData, this);
      table.init();
      this.addTable(table);
    }
  }
  addTable(table) {
    this.tables.push(table);
  }
  findTable(name) {
    return this.tables.find((table) => table.getName() === name);
  }
  getTable(name) {
    const table = this.findTable(name);
    if (!table)
      throw new Error(`${this.getFullName()}: no table with name: ${name}`);
    return table;
  }
  emitResult(result, source = null) {
    console.debug("Database.emitResult");
    const promises = [];
    for (const table in result) {
      promises.push(...this.getTable(table).emitResult(result[table], source));
    }
    return promises;
  }
};
__name(_Database, "Database");
let Database = _Database;
_common_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.registerGlobalClass(Database);


/***/ }),

/***/ "./src/frontend/viewer/Model/Field/CheckBoxField/CheckBoxField.ts":
/*!************************************************************************!*\
  !*** ./src/frontend/viewer/Model/Field/CheckBoxField/CheckBoxField.ts ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CheckBoxField": () => (/* binding */ CheckBoxField)
/* harmony export */ });
/* harmony import */ var _Field__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Field */ "./src/frontend/viewer/Model/Field/Field.ts");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _CheckBoxField = class _CheckBoxField extends _Field__WEBPACK_IMPORTED_MODULE_0__.Field {
};
__name(_CheckBoxField, "CheckBoxField");
let CheckBoxField = _CheckBoxField;
_common_Helper__WEBPACK_IMPORTED_MODULE_1__.Helper.registerGlobalClass(CheckBoxField);


/***/ }),

/***/ "./src/frontend/viewer/Model/Field/CheckBoxListField/CheckBoxListField.ts":
/*!********************************************************************************!*\
  !*** ./src/frontend/viewer/Model/Field/CheckBoxListField/CheckBoxListField.ts ***!
  \********************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CheckBoxListField": () => (/* binding */ CheckBoxListField)
/* harmony export */ });
/* harmony import */ var _Field__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Field */ "./src/frontend/viewer/Model/Field/Field.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../common */ "./src/frontend/common/index.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _CheckBoxListField = class _CheckBoxListField extends _Field__WEBPACK_IMPORTED_MODULE_0__.Field {
  getDisplayValue(row) {
    let value = null;
    if (row[this.getData().displayColumn]) {
      try {
        value = _common__WEBPACK_IMPORTED_MODULE_1__.Helper.decodeValue(row[this.getData().displayColumn]);
      } catch (err) {
        console.debug("cannot parse:", row[this.getData().displayColumn]);
        throw err;
      }
    } else {
      value = this.getData().displayColumn;
      value = value.replace(/\{([\w\.]+)\}/g, (text, name) => {
        return row.hasOwnProperty(name) ? row[name] || "" : text;
      });
    }
    return value;
  }
  getValueValue(row) {
    if (!row[this.getData().valueColumn]) {
      throw new Error("no valueColumn in CheckBoxList data source");
    }
    return _common__WEBPACK_IMPORTED_MODULE_1__.Helper.decodeValue(row[this.getData().valueColumn]);
  }
  getDataSource() {
    const name = this.getData().dataSourceName;
    if (!name)
      throw new Error(`${this.getFullName()}: no dataSourceName`);
    if (this.getForm().findDataSource(name)) {
      return this.getForm().getDataSource(name);
    }
    if (this.getPage().findDataSource(name)) {
      return this.getPage().getDataSource(name);
    }
    if (this.getApp().findDataSource(name)) {
      return this.getApp().getDataSource(name);
    }
    throw new Error(`${this.getFullName()}: no data source: ${name}`);
  }
  findRowByRawValue(rawValue) {
    return this.getDataSource().getRows().find((row) => row[this.getData().valueColumn] === rawValue);
  }
};
__name(_CheckBoxListField, "CheckBoxListField");
let CheckBoxListField = _CheckBoxListField;
_common__WEBPACK_IMPORTED_MODULE_1__.Helper.registerGlobalClass(CheckBoxListField);


/***/ }),

/***/ "./src/frontend/viewer/Model/Field/ComboBoxField/ComboBoxField.ts":
/*!************************************************************************!*\
  !*** ./src/frontend/viewer/Model/Field/ComboBoxField/ComboBoxField.ts ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ComboBoxField": () => (/* binding */ ComboBoxField)
/* harmony export */ });
/* harmony import */ var _Field__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Field */ "./src/frontend/viewer/Model/Field/Field.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../common */ "./src/frontend/common/index.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _ComboBoxField = class _ComboBoxField extends _Field__WEBPACK_IMPORTED_MODULE_0__.Field {
  getDisplayValue(row) {
    let value = null;
    if (row[this.getData().displayColumn]) {
      try {
        value = _common__WEBPACK_IMPORTED_MODULE_1__.Helper.decodeValue(row[this.getData().displayColumn]);
      } catch (err) {
        console.debug("cannot parse:", row[this.getData().displayColumn]);
        throw err;
      }
    } else {
      value = this.getData().displayColumn;
      value = value.replace(/\{([\w\.]+)\}/g, (text, name) => {
        return row.hasOwnProperty(name) ? row[name] || "" : text;
      });
    }
    return value;
  }
  getValueValue(row) {
    if (!row[this.getData().valueColumn]) {
      throw new Error("no valueColumn in ComboBox data source");
    }
    return _common__WEBPACK_IMPORTED_MODULE_1__.Helper.decodeValue(row[this.getData().valueColumn]);
  }
  getComboBoxDataSource() {
    const name = this.getData().dataSourceName;
    if (!name)
      throw new Error(`${this.getFullName()}: no dataSourceName`);
    if (this.getForm().findDataSource(name)) {
      return this.getForm().getDataSource(name);
    }
    if (this.getPage().findDataSource(name)) {
      return this.getPage().getDataSource(name);
    }
    if (this.getApp().findDataSource(name)) {
      return this.getApp().getDataSource(name);
    }
    throw new Error(`${this.getFullName()}: no data source: ${name}`);
  }
  findRowByRawValue(rawValue) {
    return this.getComboBoxDataSource().getRows().find((row) => row[this.getData().valueColumn] === rawValue);
  }
};
__name(_ComboBoxField, "ComboBoxField");
let ComboBoxField = _ComboBoxField;
_common__WEBPACK_IMPORTED_MODULE_1__.Helper.registerGlobalClass(ComboBoxField);


/***/ }),

/***/ "./src/frontend/viewer/Model/Field/DateField/DateField.ts":
/*!****************************************************************!*\
  !*** ./src/frontend/viewer/Model/Field/DateField/DateField.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DateField": () => (/* binding */ DateField)
/* harmony export */ });
/* harmony import */ var _Field__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Field */ "./src/frontend/viewer/Model/Field/Field.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../common */ "./src/frontend/common/index.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _DateField = class _DateField extends _Field__WEBPACK_IMPORTED_MODULE_0__.Field {
  getFormat() {
    return this.getAttr("format");
  }
  rawToValue(raw) {
    const value = _common__WEBPACK_IMPORTED_MODULE_1__.Helper.decodeValue(raw);
    if (value && this.getAttr("timezone") === "false") {
      _common__WEBPACK_IMPORTED_MODULE_1__.Helper.addTimezoneOffset(value);
    }
    return value;
  }
  valueToRaw(value) {
    let rawValue;
    if (value && this.getAttr("timezone") === "false") {
      const v = _common__WEBPACK_IMPORTED_MODULE_1__.Helper.cloneDate(value);
      _common__WEBPACK_IMPORTED_MODULE_1__.Helper.removeTimezoneOffset(v);
      rawValue = _common__WEBPACK_IMPORTED_MODULE_1__.Helper.encodeValue(v);
    } else {
      rawValue = _common__WEBPACK_IMPORTED_MODULE_1__.Helper.encodeValue(value);
    }
    return rawValue;
  }
};
__name(_DateField, "DateField");
let DateField = _DateField;
_common__WEBPACK_IMPORTED_MODULE_1__.Helper.registerGlobalClass(DateField);


/***/ }),

/***/ "./src/frontend/viewer/Model/Field/DateTimeField/DateTimeField.ts":
/*!************************************************************************!*\
  !*** ./src/frontend/viewer/Model/Field/DateTimeField/DateTimeField.ts ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "DateTimeField": () => (/* binding */ DateTimeField)
/* harmony export */ });
/* harmony import */ var _Field__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Field */ "./src/frontend/viewer/Model/Field/Field.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../common */ "./src/frontend/common/index.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _DateTimeField = class _DateTimeField extends _Field__WEBPACK_IMPORTED_MODULE_0__.Field {
  getFormat() {
    return this.getAttr("format");
  }
  rawToValue(rawValue) {
    const value = _common__WEBPACK_IMPORTED_MODULE_1__.Helper.decodeValue(rawValue);
    if (value && this.getAttr("timezone") === "false") {
      _common__WEBPACK_IMPORTED_MODULE_1__.Helper.addTimezoneOffset(value);
    }
    return value;
  }
  valueToRaw(value) {
    let rawValue;
    if (value && this.getAttr("timezone") === "false") {
      const v = _common__WEBPACK_IMPORTED_MODULE_1__.Helper.cloneDate(value);
      _common__WEBPACK_IMPORTED_MODULE_1__.Helper.removeTimezoneOffset(v);
      rawValue = _common__WEBPACK_IMPORTED_MODULE_1__.Helper.encodeValue(v);
    } else {
      rawValue = _common__WEBPACK_IMPORTED_MODULE_1__.Helper.encodeValue(value);
    }
    return rawValue;
  }
};
__name(_DateTimeField, "DateTimeField");
let DateTimeField = _DateTimeField;
_common__WEBPACK_IMPORTED_MODULE_1__.Helper.registerGlobalClass(DateTimeField);


/***/ }),

/***/ "./src/frontend/viewer/Model/Field/Field.ts":
/*!**************************************************!*\
  !*** ./src/frontend/viewer/Model/Field/Field.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Field": () => (/* binding */ Field)
/* harmony export */ });
/* harmony import */ var _Model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Model */ "./src/frontend/viewer/Model/Model.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _Form_RowForm_RowForm__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../Form/RowForm/RowForm */ "./src/frontend/viewer/Model/Form/RowForm/RowForm.ts");
var __defProp = Object.defineProperty;
var __name = (target, value2) => __defProp(target, "name", { value: value2, configurable: true });



const _Field = class _Field extends _Model__WEBPACK_IMPORTED_MODULE_0__.Model {
  init() {
  }
  replaceThis(value2) {
    return value2.replace(/\{([@\w\.]+)\}/g, (text, name) => {
      if (name.indexOf(".") === -1)
        return text;
      let arr = name.split(".");
      if (arr[0] === "this")
        arr[0] = this.getPage().getName();
      return `{${arr.join(".")}}`;
    });
  }
  fillDefaultValue(row) {
    const column = this.getAttr("column");
    if (!column)
      return;
    const defaultValue = this.replaceThis(this.getAttr("defaultValue"));
    const js = _common__WEBPACK_IMPORTED_MODULE_1__.Helper.templateToJsString(defaultValue, this.getPage().getParams());
    if (typeof js !== "string")
      throw new Error(`${this.getFullName()}: defaultValue must be templated to js string`);
    try {
      const value = eval(js);
      if (value !== void 0) {
        row[column] = this.valueToRaw(value);
      }
    } catch (err) {
      throw new Error(`[${this.getFullName()}] fillDefaultValue: ${err.toString()}`);
    }
  }
  valueToPageParams(row2) {
    if (this.isParam()) {
      const value2 = this.getValue(row2);
      const rawValue2 = this.valueToRaw(value2);
      const paramValue = rawValue2 !== void 0 ? _common__WEBPACK_IMPORTED_MODULE_1__.Helper.decodeValue(rawValue2) : void 0;
      this.getPage().setParam(this.getFullName(), paramValue);
    }
  }
  isChanged(row2) {
    if (!this.getAttr("column"))
      throw new Error(`${this.getFullName()}: field has no column`);
    return this.getDefaultDataSource().isRowColumnChanged(row2, this.getAttr("column"));
  }
  hasColumn() {
    return !!this.getAttr("column");
  }
  getValue(row) {
    if (!row && this.getParent() instanceof _Form_RowForm_RowForm__WEBPACK_IMPORTED_MODULE_2__.RowForm) {
      row = this.getForm().getRow();
    }
    if (!row) {
      throw new Error(`${this.getFullName()}: need row`);
    }
    let rawValue;
    if (this.getAttr("column")) {
      rawValue = this.getRawValue(row);
    } else if (this.getAttr("value")) {
      const js = this.getAttr("value");
      try {
        rawValue = eval(js);
      } catch (err) {
        console.error(err);
        throw new Error(`${this.getFullName()}: value eval error: ${err.message}`);
      }
    } else {
      throw new Error(`${this.getFullName()}: no column and no value in field`);
    }
    if (rawValue === void 0)
      return void 0;
    if (rawValue === null)
      throw new Error(`[${this.getFullName()}]: null is wrong raw value`);
    try {
      return this.rawToValue(rawValue);
    } catch (err) {
      console.debug("raw value decode error:", this.getFullName(), rawValue);
      throw err;
    }
  }
  setValue(row2, value2) {
    if (!this.getAttr("column"))
      throw new Error(`field has no column: ${this.getFullName()}`);
    const rawValue2 = this.valueToRaw(value2);
    this.getForm().getDefaultDataSource().setValue(row2, this.getAttr("column"), rawValue2);
    this.valueToPageParams(row2);
  }
  rawToValue(rawValue2) {
    return _common__WEBPACK_IMPORTED_MODULE_1__.Helper.decodeValue(rawValue2);
  }
  valueToRaw(value2) {
    return _common__WEBPACK_IMPORTED_MODULE_1__.Helper.encodeValue(value2);
  }
  getRawValue(row2) {
    if (!this.hasColumn())
      throw new Error(`${this.getFullName()}: no column`);
    return this.getForm().getDefaultDataSource().getValue(row2, this.getAttr("column"));
  }
  getDefaultDataSource() {
    return this.getForm().getDefaultDataSource();
  }
  getType() {
    if (this.getAttr("type")) {
      return this.getAttr("type");
    }
    if (this.getAttr("column")) {
      const dataSource = this.getDefaultDataSource();
      if (dataSource.isSurrogate()) {
        return dataSource.getType(this.getAttr("column"));
      }
      throw new Error("field type empty");
    }
    throw new Error("field type and column empty");
  }
  getForm() {
    return this.getParent();
  }
  getPage() {
    return this.getForm().getPage();
  }
  getApp() {
    return this.getForm().getApp();
  }
  isReadOnly() {
    return this.getData().readOnly === "true";
  }
  isNotNull() {
    return this.getData().notNull === "true";
  }
  isNullable() {
    return this.getData().notNull === "false";
  }
  getWidth() {
    const width = parseInt(this.getData().width);
    if (isNaN(width))
      return null;
    if (width === 0)
      return 100;
    return width;
  }
  getFullName() {
    return `${this.getPage().getName()}.${this.getForm().getName()}.${this.getName()}`;
  }
  isParam() {
    return this.getData().param === "true";
  }
  validateOnChange() {
    if (this.getData().validateOnChange !== void 0) {
      return this.getData().validateOnChange === "true";
    }
    return true;
  }
  validateOnBlur() {
    if (this.getData().validateOnBlur !== void 0) {
      return this.getData().validateOnBlur === "true";
    }
    return false;
  }
  getCaption() {
    const caption = this.getAttr("caption");
    if (caption === "") {
      const columnName = this.getAttr("column");
      if (columnName && this.getForm().hasDefaultPersistentDataSource()) {
        const ds = this.getForm().getDataSource("default");
        if (ds.getAttr("table")) {
          const column2 = ds.getTable().getColumn(columnName);
          return column2.getCaption();
        }
      }
    }
    return caption;
  }
};
__name(_Field, "Field");
let Field = _Field;


/***/ }),

/***/ "./src/frontend/viewer/Model/Field/FileField/FileField.ts":
/*!****************************************************************!*\
  !*** ./src/frontend/viewer/Model/Field/FileField/FileField.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "FileField": () => (/* binding */ FileField)
/* harmony export */ });
/* harmony import */ var _Field__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Field */ "./src/frontend/viewer/Model/Field/Field.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../common */ "./src/frontend/common/index.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _FileField = class _FileField extends _Field__WEBPACK_IMPORTED_MODULE_0__.Field {
};
__name(_FileField, "FileField");
let FileField = _FileField;
_common__WEBPACK_IMPORTED_MODULE_1__.Helper.registerGlobalClass(FileField);


/***/ }),

/***/ "./src/frontend/viewer/Model/Field/LinkField/LinkField.ts":
/*!****************************************************************!*\
  !*** ./src/frontend/viewer/Model/Field/LinkField/LinkField.ts ***!
  \****************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LinkField": () => (/* binding */ LinkField)
/* harmony export */ });
/* harmony import */ var _Field__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Field */ "./src/frontend/viewer/Model/Field/Field.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../common */ "./src/frontend/common/index.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _LinkField = class _LinkField extends _Field__WEBPACK_IMPORTED_MODULE_0__.Field {
};
__name(_LinkField, "LinkField");
let LinkField = _LinkField;
_common__WEBPACK_IMPORTED_MODULE_1__.Helper.registerGlobalClass(LinkField);


/***/ }),

/***/ "./src/frontend/viewer/Model/Field/PasswordField/PasswordField.ts":
/*!************************************************************************!*\
  !*** ./src/frontend/viewer/Model/Field/PasswordField/PasswordField.ts ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PasswordField": () => (/* binding */ PasswordField)
/* harmony export */ });
/* harmony import */ var _Field__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Field */ "./src/frontend/viewer/Model/Field/Field.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../common */ "./src/frontend/common/index.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _PasswordField = class _PasswordField extends _Field__WEBPACK_IMPORTED_MODULE_0__.Field {
};
__name(_PasswordField, "PasswordField");
let PasswordField = _PasswordField;
_common__WEBPACK_IMPORTED_MODULE_1__.Helper.registerGlobalClass(PasswordField);


/***/ }),

/***/ "./src/frontend/viewer/Model/Field/PhoneField/PhoneField.ts":
/*!******************************************************************!*\
  !*** ./src/frontend/viewer/Model/Field/PhoneField/PhoneField.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "PhoneField": () => (/* binding */ PhoneField)
/* harmony export */ });
/* harmony import */ var _Field__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Field */ "./src/frontend/viewer/Model/Field/Field.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../common */ "./src/frontend/common/index.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _PhoneField = class _PhoneField extends _Field__WEBPACK_IMPORTED_MODULE_0__.Field {
};
__name(_PhoneField, "PhoneField");
let PhoneField = _PhoneField;
_common__WEBPACK_IMPORTED_MODULE_1__.Helper.registerGlobalClass(PhoneField);


/***/ }),

/***/ "./src/frontend/viewer/Model/Field/RadioField/RadioField.ts":
/*!******************************************************************!*\
  !*** ./src/frontend/viewer/Model/Field/RadioField/RadioField.ts ***!
  \******************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RadioField": () => (/* binding */ RadioField)
/* harmony export */ });
/* harmony import */ var _Field__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Field */ "./src/frontend/viewer/Model/Field/Field.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../common */ "./src/frontend/common/index.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _RadioField = class _RadioField extends _Field__WEBPACK_IMPORTED_MODULE_0__.Field {
  getDisplayValue(row) {
    const displayColumn = this.getAttr("displayColumn");
    let value = null;
    if (row[displayColumn]) {
      try {
        value = _common__WEBPACK_IMPORTED_MODULE_1__.Helper.decodeValue(row[displayColumn]);
      } catch (err) {
        console.debug("cannot parse:", row[displayColumn]);
        throw err;
      }
    } else {
      value = displayColumn;
      value = value.replace(/\{([\w\.]+)\}/g, (text, name) => {
        return row.hasOwnProperty(name) ? row[name] || "" : text;
      });
    }
    return value;
  }
  getValueValue(row) {
    const valueColumn = this.getAttr("valueColumn");
    if (!row[valueColumn]) {
      throw new Error("no valueColumn in ComboBox data source");
    }
    return _common__WEBPACK_IMPORTED_MODULE_1__.Helper.decodeValue(row[valueColumn]);
  }
  getDataSource() {
    const name = this.getAttr("dataSourceName");
    if (!name)
      throw new Error(`${this.getFullName()}: no dataSourceName`);
    if (this.getForm().findDataSource(name)) {
      return this.getForm().getDataSource(name);
    }
    if (this.getPage().findDataSource(name)) {
      return this.getPage().getDataSource(name);
    }
    if (this.getApp().findDataSource(name)) {
      return this.getApp().getDataSource(name);
    }
    throw new Error(`${this.getFullName()}: no data source: ${name}`);
  }
  findRowByRawValue(rawValue) {
    const valueColumn = this.getAttr("valueColumn");
    return this.getDataSource().getRows().find((row) => row[valueColumn] === rawValue);
  }
};
__name(_RadioField, "RadioField");
let RadioField = _RadioField;
_common__WEBPACK_IMPORTED_MODULE_1__.Helper.registerGlobalClass(RadioField);


/***/ }),

/***/ "./src/frontend/viewer/Model/Field/TextAreaField/TextAreaField.ts":
/*!************************************************************************!*\
  !*** ./src/frontend/viewer/Model/Field/TextAreaField/TextAreaField.ts ***!
  \************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextAreaField": () => (/* binding */ TextAreaField)
/* harmony export */ });
/* harmony import */ var _Field__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Field */ "./src/frontend/viewer/Model/Field/Field.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../common */ "./src/frontend/common/index.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _TextAreaField = class _TextAreaField extends _Field__WEBPACK_IMPORTED_MODULE_0__.Field {
  getRows() {
    return this.getData().rows;
  }
  getCols() {
    return this.getData().cols;
  }
};
__name(_TextAreaField, "TextAreaField");
let TextAreaField = _TextAreaField;
_common__WEBPACK_IMPORTED_MODULE_1__.Helper.registerGlobalClass(TextAreaField);


/***/ }),

/***/ "./src/frontend/viewer/Model/Field/TextBoxField/TextBoxField.ts":
/*!**********************************************************************!*\
  !*** ./src/frontend/viewer/Model/Field/TextBoxField/TextBoxField.ts ***!
  \**********************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TextBoxField": () => (/* binding */ TextBoxField)
/* harmony export */ });
/* harmony import */ var _Field__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Field */ "./src/frontend/viewer/Model/Field/Field.ts");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _TextBoxField = class _TextBoxField extends _Field__WEBPACK_IMPORTED_MODULE_0__.Field {
};
__name(_TextBoxField, "TextBoxField");
let TextBoxField = _TextBoxField;
_common_Helper__WEBPACK_IMPORTED_MODULE_1__.Helper.registerGlobalClass(TextBoxField);


/***/ }),

/***/ "./src/frontend/viewer/Model/Form/Form.ts":
/*!************************************************!*\
  !*** ./src/frontend/viewer/Model/Form/Form.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Form": () => (/* binding */ Form)
/* harmony export */ });
/* harmony import */ var _Model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Model */ "./src/frontend/viewer/Model/Model.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../common */ "./src/frontend/common/index.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};


const _Form = class _Form extends _Model__WEBPACK_IMPORTED_MODULE_0__.Model {
  constructor() {
    super(...arguments);
    this.dataSources = [];
    this.fields = [];
  }
  /* constructor(data, parent) {
      super(data, parent);
  } */
  init() {
    this.createDataSources();
    for (const data of this.getData().fields) {
      const Class = _common__WEBPACK_IMPORTED_MODULE_1__.Helper.getGlobalClass(data.class);
      if (!Class)
        throw new Error(`no ${data.class} class`);
      const field = new Class(data, this);
      field.init();
      this.fields.push(field);
    }
  }
  deinit() {
    this.deinitDataSources();
    for (const field of this.fields) {
      field.deinit();
    }
    super.deinit();
  }
  fillDefaultValues(row) {
    for (const field of this.fields) {
      field.fillDefaultValue(row);
    }
  }
  onDataSourceRefresh(e) {
    this.emit("refresh", e);
  }
  onDataSourceInsert(e) {
    this.getPage().onFormInsert(e);
    this.emit("insert", e);
  }
  onDataSourceUpdate(e) {
    this.emit("update", e);
  }
  onDataSourceDelete(e) {
    this.emit("delete", e);
  }
  update() {
    return __async(this, null, function* () {
      console.debug("Form.update", this.getFullName(), this.isChanged());
      if (this.getPage().deinited)
        throw new Error("page already deinited");
      if (!this.isChanged() && !this.getDefaultDataSource().hasNewRows())
        throw new Error(
          `form model not changed or does not have new rows: ${this.getFullName()}`
        );
      yield this.getDefaultDataSource().update();
    });
  }
  isChanged() {
    return this.getDefaultDataSource().isChanged();
  }
  hasNew() {
    return this.getDefaultDataSource().hasNew();
  }
  rpc(name, params) {
    return __async(this, null, function* () {
      console.debug("Form.rpc", this.getFullName(), name, params);
      if (!name)
        throw new Error("no name");
      const result = yield this.getApp().request("POST", {
        action: "rpc",
        uuid: this.getApp().getAttr("uuid"),
        page: this.getPage().getName(),
        form: this.getName(),
        name,
        params
      });
      if (result.errorMessage)
        throw new Error(result.errorMessage);
      return result;
    });
  }
  getKey() {
    return null;
  }
  getDefaultDataSource() {
    const dataSource = this.getDataSource("default");
    if (!dataSource)
      throw new Error(`${this.getFullName()}: no default data source`);
    return dataSource;
  }
  getPage() {
    return this.getParent();
  }
  getApp() {
    return this.getPage().getApp();
  }
  refresh() {
    return __async(this, null, function* () {
      yield this.getDefaultDataSource().refresh();
    });
  }
  findField(name) {
    return this.fields.find((field) => field.getName() === name);
  }
  getField(name) {
    const field = this.findField(name);
    if (!field)
      throw new Error(`${this.getFullName()}: no field ${name}`);
    return field;
  }
  hasDefaultPersistentDataSource() {
    return this.getDefaultDataSource().isPersistent();
  }
  decodeRow(rawRow) {
    const row = {};
    for (const field of this.fields) {
      const column = field.getAttr("column");
      if (column) {
        row[column] = field.getValue(rawRow);
      }
    }
    return row;
  }
};
__name(_Form, "Form");
let Form = _Form;


/***/ }),

/***/ "./src/frontend/viewer/Model/Form/RowForm/RowForm.ts":
/*!***********************************************************!*\
  !*** ./src/frontend/viewer/Model/Form/RowForm/RowForm.ts ***!
  \***********************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "RowForm": () => (/* binding */ RowForm)
/* harmony export */ });
/* harmony import */ var _Form__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Form */ "./src/frontend/viewer/Model/Form/Form.ts");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _RowForm = class _RowForm extends _Form__WEBPACK_IMPORTED_MODULE_0__.Form {
  init() {
    super.init();
    if (this.isNewMode()) {
      this.getDefaultDataSource().newRow(this.createRow());
    }
    this.fillParams(this.getRow());
  }
  isNewMode() {
    const newMode = this.getAttr("newMode");
    if (newMode === "true")
      return true;
    if (newMode === "false")
      return false;
    return this.getPage().isNewMode();
  }
  fillParams(row) {
    for (const field of this.fields) {
      field.valueToPageParams(row);
    }
  }
  onDataSourceUpdate(e) {
    this.fillParams(this.getRow());
    super.onDataSourceUpdate(e);
  }
  onDataSourceInsert(e) {
    this.fillParams(this.getRow());
    super.onDataSourceInsert(e);
  }
  getRow(withChanges = false) {
    return this.getDefaultDataSource().getSingleRow(withChanges);
  }
  getKey() {
    const dataSource = this.getDefaultDataSource();
    if (dataSource.isPersistent()) {
      const row = this.getRow();
      return dataSource.getRowKey(row);
    }
    return null;
  }
  createRow() {
    const row = {};
    this.fillDefaultValues(row);
    return row;
  }
  discard(fields = []) {
    console.debug("RowForm.discard", fields);
    if (this.getDefaultDataSource().isChanged()) {
      this.getDefaultDataSource().discard();
      fields.forEach((name) => {
        this.getField(name).valueToPageParams(this.getRow());
      });
    }
  }
};
__name(_RowForm, "RowForm");
let RowForm = _RowForm;
_common_Helper__WEBPACK_IMPORTED_MODULE_1__.Helper.registerGlobalClass(RowForm);


/***/ }),

/***/ "./src/frontend/viewer/Model/Form/TableForm/TableForm.ts":
/*!***************************************************************!*\
  !*** ./src/frontend/viewer/Model/Form/TableForm/TableForm.ts ***!
  \***************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "TableForm": () => (/* binding */ TableForm)
/* harmony export */ });
/* harmony import */ var _Form__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Form */ "./src/frontend/viewer/Model/Form/Form.ts");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _TableForm = class _TableForm extends _Form__WEBPACK_IMPORTED_MODULE_0__.Form {
};
__name(_TableForm, "TableForm");
let TableForm = _TableForm;
_common_Helper__WEBPACK_IMPORTED_MODULE_1__.Helper.registerGlobalClass(TableForm);


/***/ }),

/***/ "./src/frontend/viewer/Model/Model.ts":
/*!********************************************!*\
  !*** ./src/frontend/viewer/Model/Model.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Model": () => (/* binding */ Model)
/* harmony export */ });
/* harmony import */ var _EventEmitter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../EventEmitter */ "./src/frontend/viewer/EventEmitter.ts");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });


const _Model = class _Model extends _EventEmitter__WEBPACK_IMPORTED_MODULE_0__.EventEmitter {
  constructor(data, parent) {
    if (!data.name)
      throw new Error(`name required for model`);
    super();
    this.data = data;
    this.parent = parent;
    this.deinited = false;
  }
  init() {
  }
  deinit() {
    if (this.deinited)
      throw new Error(`${this.getFullName()}: model already deinited`);
    this.deinited = true;
  }
  static getAttr(data, name) {
    return data[name];
  }
  static getCol(data, name) {
    return data[name];
  }
  static getName(data) {
    return _Model.getAttr(data, "name");
  }
  static getClassName(data) {
    return _Model.getAttr(data, "class");
  }
  isAttr(name) {
    return this.data.hasOwnProperty(name);
  }
  getAttr(name) {
    return this.data[name];
  }
  getCol(name) {
    return this.data[name];
  }
  getClassName() {
    return this.getAttr("class");
  }
  getName() {
    return this.getAttr("name");
  }
  getFullName() {
    if (this.parent) {
      return `${this.parent.getFullName()}.${this.getName()}`;
    }
    return this.getName();
  }
  getCaption() {
    return this.getAttr("caption");
  }
  findDataSource(name) {
    return this.dataSources.find((dataSource) => dataSource.getName() === name);
  }
  getDataSource(name) {
    const ds = this.findDataSource(name);
    if (!ds)
      throw new Error(`${this.getFullName()}: no data source ${name}`);
    return ds;
  }
  createDataSources() {
    for (const data of this.data.dataSources) {
      try {
        const Class = _common_Helper__WEBPACK_IMPORTED_MODULE_1__.Helper.getGlobalClass(data.class);
        if (!Class)
          throw new Error(`no ${data.class} class`);
        const dataSource = new Class(data, this);
        dataSource.init();
        this.dataSources.push(dataSource);
      } catch (err) {
        err.message = `${this.getFullName()}.${data.name}: ${err.message}`;
        throw err;
      }
    }
  }
  deinitDataSources() {
    for (const dataSource of this.dataSources) {
      dataSource.deinit();
    }
  }
  hasActions() {
    return this.data.actions.length > 0;
  }
  getParent() {
    if (!this.parent)
      throw new Error("np parent");
    return this.parent;
  }
  getData() {
    return this.data;
  }
};
__name(_Model, "Model");
let Model = _Model;


/***/ }),

/***/ "./src/frontend/viewer/Model/Page/Page.ts":
/*!************************************************!*\
  !*** ./src/frontend/viewer/Model/Page/Page.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Page": () => (/* binding */ Page)
/* harmony export */ });
/* harmony import */ var _Model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Model */ "./src/frontend/viewer/Model/Model.ts");
/* harmony import */ var _DataSource_DataSource__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../DataSource/DataSource */ "./src/frontend/viewer/Model/DataSource/DataSource.ts");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/Helper */ "./src/frontend/common/Helper.ts");
/* harmony import */ var _Form_RowForm_RowForm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../Form/RowForm/RowForm */ "./src/frontend/viewer/Model/Form/RowForm/RowForm.ts");
/* harmony import */ var _console__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../../../../console */ "./src/console.ts");
var __defProp = Object.defineProperty;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};





const _Page = class _Page extends _Model__WEBPACK_IMPORTED_MODULE_0__.Model {
  constructor(data, parent, options) {
    super(data, parent);
    this.options = options;
    this.dataSources = [];
    this.forms = [];
    this.params = {};
    if (options.onCreate) {
      options.onCreate(this);
    }
  }
  init() {
    this.createDataSources();
    this.createForms();
    (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("page options:", this.options);
    (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("page params:", this.getParams());
  }
  deinit() {
    if (this.deinited)
      throw new Error(`page ${this.getFullName()} is already deinited`);
    this.deinitDataSources();
    this.deinitForms();
    super.deinit();
  }
  getOptions() {
    return this.options;
  }
  createForms() {
    for (const data of this.getData().forms) {
      const FormClass = _common_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.getGlobalClass(_Model__WEBPACK_IMPORTED_MODULE_0__.Model.getClassName(data));
      if (!FormClass)
        throw new Error(`no ${_Model__WEBPACK_IMPORTED_MODULE_0__.Model.getClassName(data)} class`);
      const form = new FormClass(data, this);
      form.init();
      this.forms.push(form);
    }
  }
  deinitForms() {
    for (const form of this.forms) {
      form.deinit();
    }
  }
  /*getId() {
      return this.options.id;
  }*/
  getParams() {
    return __spreadValues(__spreadValues({}, this.options.params || {}), this.params);
  }
  setParam(name, value) {
    this.params[name] = value !== void 0 ? value : null;
  }
  update() {
    return __async(this, null, function* () {
      (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("Page.update", this.getFullName());
      for (const form of this.forms) {
        if (form.isChanged() || form.hasNew()) {
          yield form.update();
        }
      }
    });
  }
  discard() {
    (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("Page.discard", this.getFullName());
    for (const form of this.forms) {
      if (form instanceof _Form_RowForm_RowForm__WEBPACK_IMPORTED_MODULE_3__.RowForm) {
        form.discard();
      }
    }
  }
  getKey() {
    for (const form of this.forms) {
      if (form.getClassName() === "RowForm") {
        return form.getKey();
      }
    }
    return null;
  }
  hasRowFormWithDefaultDs() {
    for (const form of this.forms) {
      if (form.getClassName() === "RowForm" && form.getDefaultDataSource()) {
        return true;
      }
    }
    return false;
  }
  hasRowFormWithDefaultSqlDataSource() {
    for (const form of this.forms) {
      if (form.getClassName() === "RowForm" && form.hasDefaultPersistentDataSource()) {
        return true;
      }
    }
    return false;
  }
  hasRowForm() {
    for (const form of this.forms) {
      if (form.getClassName() === "RowForm" && form.getAttr("visible") === "true") {
        return true;
      }
    }
    return false;
  }
  hasTableForm() {
    for (const form of this.forms) {
      if (form.getClassName() === "TableForm" && form.getAttr("visible") === "true") {
        return true;
      }
    }
    return false;
  }
  isNewMode() {
    return !!this.options.newMode;
  }
  hasNew() {
    for (const form of this.forms) {
      if (form.hasNew()) {
        return true;
      }
    }
    return false;
  }
  getApp() {
    return this.getParent();
  }
  isModal() {
    return !!this.options.modal;
  }
  onFormInsert(e) {
    (0,_console__WEBPACK_IMPORTED_MODULE_4__.debug)("Page.onFormInsert", e);
    for (const key of e.inserts) {
      const keyParams = _DataSource_DataSource__WEBPACK_IMPORTED_MODULE_1__.DataSource.keyToParams(key);
      for (const name in keyParams) {
        this.setParam(name, keyParams[name]);
      }
    }
  }
  rpc(name, params) {
    return __async(this, null, function* () {
      if (!name)
        throw new Error("no name");
      const result = yield this.getApp().request("POST", {
        action: "rpc",
        uuid: this.getApp().getAttr("uuid"),
        page: this.getName(),
        name,
        params
      });
      if (result.errorMessage)
        throw new Error(result.errorMessage);
      return result;
    });
  }
  findForm(name) {
    return this.forms.find((form) => form.getName() === name);
  }
  getForm(name) {
    const form = this.findForm(name);
    if (!form)
      throw new Error(`${this.getFullName()}: no form ${name}`);
    return form;
  }
  isSelectMode() {
    return !!this.options.selectMode;
  }
  isFormInTab() {
    return this.isAttr("formInTab") && this.getAttr("formInTab") === "true";
  }
};
__name(_Page, "Page");
let Page = _Page;
_common_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.registerGlobalClass(Page);


/***/ }),

/***/ "./src/frontend/viewer/Model/Table/Table.ts":
/*!**************************************************!*\
  !*** ./src/frontend/viewer/Model/Table/Table.ts ***!
  \**************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "Table": () => (/* binding */ Table)
/* harmony export */ });
/* harmony import */ var _Model__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../Model */ "./src/frontend/viewer/Model/Model.ts");
/* harmony import */ var _Column_Column__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../Column/Column */ "./src/frontend/viewer/Model/Column/Column.ts");
/* harmony import */ var _common_Helper__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../../../common/Helper */ "./src/frontend/common/Helper.ts");
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });



const _Table = class _Table extends _Model__WEBPACK_IMPORTED_MODULE_0__.Model {
  constructor() {
    super(...arguments);
    this.columns = [];
  }
  /* constructor(data, parent) {
      super(data, parent);
      this.columns = [];
  } */
  init() {
    for (const data of this.getData().columns) {
      const column = new _Column_Column__WEBPACK_IMPORTED_MODULE_1__.Column(data, this);
      column.init();
      this.addColumn(column);
    }
  }
  addColumn(column) {
    this.columns.push(column);
  }
  getColumn(name) {
    const column = this.columns.find((column2) => column2.getName() === name);
    if (!column)
      throw new Error(`table ${this.getFullName()}: no column ${name}`);
    return column;
  }
  emitResult(result, source = null) {
    console.debug("Table.emitResult");
    return [
      ...result.insert ? [this.emitInsert(source, result.insert)] : [],
      ...result.update ? [this.emitUpdate(source, result.update)] : [],
      ...result.delete ? [this.emitDelete(source, result.delete)] : [],
      ...result.refresh ? [this.emitRefresh(source)] : []
    ];
  }
  emitInsert(source, inserts) {
    return this.emit("insert", { source, inserts });
  }
  emitUpdate(source, updates) {
    return this.emit("update", { source, updates });
  }
  emitDelete(source, deletes) {
    return this.emit("delete", { source, deletes });
  }
  emitRefresh(source) {
    return this.emit("refresh", { source });
  }
};
__name(_Table, "Table");
let Table = _Table;
_common_Helper__WEBPACK_IMPORTED_MODULE_2__.Helper.registerGlobalClass(Table);


/***/ }),

/***/ "./src/frontend/viewer/Model/index.ts":
/*!********************************************!*\
  !*** ./src/frontend/viewer/Model/index.ts ***!
  \********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "CheckBoxField": () => (/* reexport safe */ _Field_CheckBoxField_CheckBoxField__WEBPACK_IMPORTED_MODULE_14__.CheckBoxField),
/* harmony export */   "CheckBoxListField": () => (/* reexport safe */ _Field_CheckBoxListField_CheckBoxListField__WEBPACK_IMPORTED_MODULE_18__.CheckBoxListField),
/* harmony export */   "Column": () => (/* reexport safe */ _Column_Column__WEBPACK_IMPORTED_MODULE_21__.Column),
/* harmony export */   "ComboBoxField": () => (/* reexport safe */ _Field_ComboBoxField_ComboBoxField__WEBPACK_IMPORTED_MODULE_6__.ComboBoxField),
/* harmony export */   "DataSource": () => (/* reexport safe */ _DataSource_DataSource__WEBPACK_IMPORTED_MODULE_0__.DataSource),
/* harmony export */   "Database": () => (/* reexport safe */ _Database_Database__WEBPACK_IMPORTED_MODULE_19__.Database),
/* harmony export */   "DateField": () => (/* reexport safe */ _Field_DateField_DateField__WEBPACK_IMPORTED_MODULE_5__.DateField),
/* harmony export */   "DateTimeField": () => (/* reexport safe */ _Field_DateTimeField_DateTimeField__WEBPACK_IMPORTED_MODULE_13__.DateTimeField),
/* harmony export */   "FileField": () => (/* reexport safe */ _Field_FileField_FileField__WEBPACK_IMPORTED_MODULE_16__.FileField),
/* harmony export */   "Form": () => (/* reexport safe */ _Form_Form__WEBPACK_IMPORTED_MODULE_2__.Form),
/* harmony export */   "LinkField": () => (/* reexport safe */ _Field_LinkField_LinkField__WEBPACK_IMPORTED_MODULE_22__.LinkField),
/* harmony export */   "NoSqlDataSource": () => (/* reexport safe */ _DataSource_PersistentDataSource_NoSqlDataSource_NoSqlDataSource__WEBPACK_IMPORTED_MODULE_9__.NoSqlDataSource),
/* harmony export */   "Page": () => (/* reexport safe */ _Page_Page__WEBPACK_IMPORTED_MODULE_1__.Page),
/* harmony export */   "PasswordField": () => (/* reexport safe */ _Field_PasswordField_PasswordField__WEBPACK_IMPORTED_MODULE_12__.PasswordField),
/* harmony export */   "PersistentDataSource": () => (/* reexport safe */ _DataSource_PersistentDataSource_PersistentDataSource__WEBPACK_IMPORTED_MODULE_10__.PersistentDataSource),
/* harmony export */   "PhoneField": () => (/* reexport safe */ _Field_PhoneField_PhoneField__WEBPACK_IMPORTED_MODULE_17__.PhoneField),
/* harmony export */   "RadioField": () => (/* reexport safe */ _Field_RadioField_RadioField__WEBPACK_IMPORTED_MODULE_15__.RadioField),
/* harmony export */   "RowForm": () => (/* reexport safe */ _Form_RowForm_RowForm__WEBPACK_IMPORTED_MODULE_3__.RowForm),
/* harmony export */   "SqlDataSource": () => (/* reexport safe */ _DataSource_PersistentDataSource_SqlDataSource_SqlDataSource__WEBPACK_IMPORTED_MODULE_8__.SqlDataSource),
/* harmony export */   "Table": () => (/* reexport safe */ _Table_Table__WEBPACK_IMPORTED_MODULE_20__.Table),
/* harmony export */   "TableForm": () => (/* reexport safe */ _Form_TableForm_TableForm__WEBPACK_IMPORTED_MODULE_4__.TableForm),
/* harmony export */   "TextAreaField": () => (/* reexport safe */ _Field_TextAreaField_TextAreaField__WEBPACK_IMPORTED_MODULE_11__.TextAreaField),
/* harmony export */   "TextBoxField": () => (/* reexport safe */ _Field_TextBoxField_TextBoxField__WEBPACK_IMPORTED_MODULE_7__.TextBoxField)
/* harmony export */ });
/* harmony import */ var _DataSource_DataSource__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./DataSource/DataSource */ "./src/frontend/viewer/Model/DataSource/DataSource.ts");
/* harmony import */ var _Page_Page__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Page/Page */ "./src/frontend/viewer/Model/Page/Page.ts");
/* harmony import */ var _Form_Form__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Form/Form */ "./src/frontend/viewer/Model/Form/Form.ts");
/* harmony import */ var _Form_RowForm_RowForm__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Form/RowForm/RowForm */ "./src/frontend/viewer/Model/Form/RowForm/RowForm.ts");
/* harmony import */ var _Form_TableForm_TableForm__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Form/TableForm/TableForm */ "./src/frontend/viewer/Model/Form/TableForm/TableForm.ts");
/* harmony import */ var _Field_DateField_DateField__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Field/DateField/DateField */ "./src/frontend/viewer/Model/Field/DateField/DateField.ts");
/* harmony import */ var _Field_ComboBoxField_ComboBoxField__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./Field/ComboBoxField/ComboBoxField */ "./src/frontend/viewer/Model/Field/ComboBoxField/ComboBoxField.ts");
/* harmony import */ var _Field_TextBoxField_TextBoxField__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./Field/TextBoxField/TextBoxField */ "./src/frontend/viewer/Model/Field/TextBoxField/TextBoxField.ts");
/* harmony import */ var _DataSource_PersistentDataSource_SqlDataSource_SqlDataSource__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./DataSource/PersistentDataSource/SqlDataSource/SqlDataSource */ "./src/frontend/viewer/Model/DataSource/PersistentDataSource/SqlDataSource/SqlDataSource.ts");
/* harmony import */ var _DataSource_PersistentDataSource_NoSqlDataSource_NoSqlDataSource__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./DataSource/PersistentDataSource/NoSqlDataSource/NoSqlDataSource */ "./src/frontend/viewer/Model/DataSource/PersistentDataSource/NoSqlDataSource/NoSqlDataSource.ts");
/* harmony import */ var _DataSource_PersistentDataSource_PersistentDataSource__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./DataSource/PersistentDataSource/PersistentDataSource */ "./src/frontend/viewer/Model/DataSource/PersistentDataSource/PersistentDataSource.ts");
/* harmony import */ var _Field_TextAreaField_TextAreaField__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./Field/TextAreaField/TextAreaField */ "./src/frontend/viewer/Model/Field/TextAreaField/TextAreaField.ts");
/* harmony import */ var _Field_PasswordField_PasswordField__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./Field/PasswordField/PasswordField */ "./src/frontend/viewer/Model/Field/PasswordField/PasswordField.ts");
/* harmony import */ var _Field_DateTimeField_DateTimeField__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./Field/DateTimeField/DateTimeField */ "./src/frontend/viewer/Model/Field/DateTimeField/DateTimeField.ts");
/* harmony import */ var _Field_CheckBoxField_CheckBoxField__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ./Field/CheckBoxField/CheckBoxField */ "./src/frontend/viewer/Model/Field/CheckBoxField/CheckBoxField.ts");
/* harmony import */ var _Field_RadioField_RadioField__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ./Field/RadioField/RadioField */ "./src/frontend/viewer/Model/Field/RadioField/RadioField.ts");
/* harmony import */ var _Field_FileField_FileField__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ./Field/FileField/FileField */ "./src/frontend/viewer/Model/Field/FileField/FileField.ts");
/* harmony import */ var _Field_PhoneField_PhoneField__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ./Field/PhoneField/PhoneField */ "./src/frontend/viewer/Model/Field/PhoneField/PhoneField.ts");
/* harmony import */ var _Field_CheckBoxListField_CheckBoxListField__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ./Field/CheckBoxListField/CheckBoxListField */ "./src/frontend/viewer/Model/Field/CheckBoxListField/CheckBoxListField.ts");
/* harmony import */ var _Database_Database__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ./Database/Database */ "./src/frontend/viewer/Model/Database/Database.ts");
/* harmony import */ var _Table_Table__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ./Table/Table */ "./src/frontend/viewer/Model/Table/Table.ts");
/* harmony import */ var _Column_Column__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ./Column/Column */ "./src/frontend/viewer/Model/Column/Column.ts");
/* harmony import */ var _Field_LinkField_LinkField__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ./Field/LinkField/LinkField */ "./src/frontend/viewer/Model/Field/LinkField/LinkField.ts");

























/***/ }),

/***/ "./src/frontend/viewer/ViewerFrontHostApp.ts":
/*!***************************************************!*\
  !*** ./src/frontend/viewer/ViewerFrontHostApp.ts ***!
  \***************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ViewerFrontHostApp": () => (/* binding */ ViewerFrontHostApp)
/* harmony export */ });
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react-dom */ "react-dom");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var _Model_Application_Application__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Model/Application/Application */ "./src/frontend/viewer/Model/Application/Application.ts");
/* harmony import */ var _Controller_ModelController_ApplicationController_ApplicationController__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Controller/ModelController/ApplicationController/ApplicationController */ "./src/frontend/viewer/Controller/ModelController/ApplicationController/ApplicationController.ts");
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../common */ "./src/frontend/common/index.ts");
/* harmony import */ var _Controller_AlertController_AlertController__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./Controller/AlertController/AlertController */ "./src/frontend/viewer/Controller/AlertController/AlertController.ts");
/* harmony import */ var _Controller_ConfirmController_ConfirmController__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./Controller/ConfirmController/ConfirmController */ "./src/frontend/viewer/Controller/ConfirmController/ConfirmController.ts");
/* harmony import */ var _style_application_less__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./style/application.less */ "./src/frontend/viewer/style/application.less");
/* harmony import */ var _style_application_less__WEBPACK_IMPORTED_MODULE_6___default = /*#__PURE__*/__webpack_require__.n(_style_application_less__WEBPACK_IMPORTED_MODULE_6__);
/* harmony import */ var _style_field_less__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./style/field.less */ "./src/frontend/viewer/style/field.less");
/* harmony import */ var _style_field_less__WEBPACK_IMPORTED_MODULE_7___default = /*#__PURE__*/__webpack_require__.n(_style_field_less__WEBPACK_IMPORTED_MODULE_7__);
/* harmony import */ var _style_form_less__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! ./style/form.less */ "./src/frontend/viewer/style/form.less");
/* harmony import */ var _style_form_less__WEBPACK_IMPORTED_MODULE_8___default = /*#__PURE__*/__webpack_require__.n(_style_form_less__WEBPACK_IMPORTED_MODULE_8__);
/* harmony import */ var _style_page_less__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! ./style/page.less */ "./src/frontend/viewer/style/page.less");
/* harmony import */ var _style_page_less__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(_style_page_less__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _style_paging_less__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./style/paging.less */ "./src/frontend/viewer/style/paging.less");
/* harmony import */ var _style_paging_less__WEBPACK_IMPORTED_MODULE_10___default = /*#__PURE__*/__webpack_require__.n(_style_paging_less__WEBPACK_IMPORTED_MODULE_10__);
/* harmony import */ var _style_toolbar_button_less__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./style/toolbar-button.less */ "./src/frontend/viewer/style/toolbar-button.less");
/* harmony import */ var _style_toolbar_button_less__WEBPACK_IMPORTED_MODULE_11___default = /*#__PURE__*/__webpack_require__.n(_style_toolbar_button_less__WEBPACK_IMPORTED_MODULE_11__);
/* harmony import */ var _style_toolbar_dropdown_button_less__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! ./style/toolbar-dropdown-button.less */ "./src/frontend/viewer/style/toolbar-dropdown-button.less");
/* harmony import */ var _style_toolbar_dropdown_button_less__WEBPACK_IMPORTED_MODULE_12___default = /*#__PURE__*/__webpack_require__.n(_style_toolbar_dropdown_button_less__WEBPACK_IMPORTED_MODULE_12__);
/* harmony import */ var _style_version_notification_less__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! ./style/version-notification.less */ "./src/frontend/viewer/style/version-notification.less");
/* harmony import */ var _style_version_notification_less__WEBPACK_IMPORTED_MODULE_13___default = /*#__PURE__*/__webpack_require__.n(_style_version_notification_less__WEBPACK_IMPORTED_MODULE_13__);
/* harmony import */ var _common_style_ellipsis_less__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! ../common/style/ellipsis.less */ "./src/frontend/common/style/ellipsis.less");
/* harmony import */ var _common_style_ellipsis_less__WEBPACK_IMPORTED_MODULE_14___default = /*#__PURE__*/__webpack_require__.n(_common_style_ellipsis_less__WEBPACK_IMPORTED_MODULE_14__);
/* harmony import */ var _common_style_flex_less__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! ../common/style/flex.less */ "./src/frontend/common/style/flex.less");
/* harmony import */ var _common_style_flex_less__WEBPACK_IMPORTED_MODULE_15___default = /*#__PURE__*/__webpack_require__.n(_common_style_flex_less__WEBPACK_IMPORTED_MODULE_15__);
/* harmony import */ var _common_style_flex_column_less__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! ../common/style/flex-column.less */ "./src/frontend/common/style/flex-column.less");
/* harmony import */ var _common_style_flex_column_less__WEBPACK_IMPORTED_MODULE_16___default = /*#__PURE__*/__webpack_require__.n(_common_style_flex_column_less__WEBPACK_IMPORTED_MODULE_16__);
/* harmony import */ var _common_style_flex_max_less__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! ../common/style/flex-max.less */ "./src/frontend/common/style/flex-max.less");
/* harmony import */ var _common_style_flex_max_less__WEBPACK_IMPORTED_MODULE_17___default = /*#__PURE__*/__webpack_require__.n(_common_style_flex_max_less__WEBPACK_IMPORTED_MODULE_17__);
/* harmony import */ var _common_style_frame_less__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! ../common/style/frame.less */ "./src/frontend/common/style/frame.less");
/* harmony import */ var _common_style_frame_less__WEBPACK_IMPORTED_MODULE_18___default = /*#__PURE__*/__webpack_require__.n(_common_style_frame_less__WEBPACK_IMPORTED_MODULE_18__);
/* harmony import */ var _common_style_full_less__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! ../common/style/full.less */ "./src/frontend/common/style/full.less");
/* harmony import */ var _common_style_full_less__WEBPACK_IMPORTED_MODULE_19___default = /*#__PURE__*/__webpack_require__.n(_common_style_full_less__WEBPACK_IMPORTED_MODULE_19__);
/* harmony import */ var _common_style_global_less__WEBPACK_IMPORTED_MODULE_20__ = __webpack_require__(/*! ../common/style/global.less */ "./src/frontend/common/style/global.less");
/* harmony import */ var _common_style_global_less__WEBPACK_IMPORTED_MODULE_20___default = /*#__PURE__*/__webpack_require__.n(_common_style_global_less__WEBPACK_IMPORTED_MODULE_20__);
/* harmony import */ var _common_style_grid_gap_5_less__WEBPACK_IMPORTED_MODULE_21__ = __webpack_require__(/*! ../common/style/grid-gap-5.less */ "./src/frontend/common/style/grid-gap-5.less");
/* harmony import */ var _common_style_grid_gap_5_less__WEBPACK_IMPORTED_MODULE_21___default = /*#__PURE__*/__webpack_require__.n(_common_style_grid_gap_5_less__WEBPACK_IMPORTED_MODULE_21__);
/* harmony import */ var _common_style_grid_gap_10_less__WEBPACK_IMPORTED_MODULE_22__ = __webpack_require__(/*! ../common/style/grid-gap-10.less */ "./src/frontend/common/style/grid-gap-10.less");
/* harmony import */ var _common_style_grid_gap_10_less__WEBPACK_IMPORTED_MODULE_22___default = /*#__PURE__*/__webpack_require__.n(_common_style_grid_gap_10_less__WEBPACK_IMPORTED_MODULE_22__);
/* harmony import */ var _common_style_wait_less__WEBPACK_IMPORTED_MODULE_23__ = __webpack_require__(/*! ../common/style/wait.less */ "./src/frontend/common/style/wait.less");
/* harmony import */ var _common_style_wait_less__WEBPACK_IMPORTED_MODULE_23___default = /*#__PURE__*/__webpack_require__.n(_common_style_wait_less__WEBPACK_IMPORTED_MODULE_23__);
var __defProp = Object.defineProperty;
var __defProps = Object.defineProperties;
var __getOwnPropDescs = Object.getOwnPropertyDescriptors;
var __getOwnPropSymbols = Object.getOwnPropertySymbols;
var __hasOwnProp = Object.prototype.hasOwnProperty;
var __propIsEnum = Object.prototype.propertyIsEnumerable;
var __defNormalProp = (obj, key, value) => key in obj ? __defProp(obj, key, { enumerable: true, configurable: true, writable: true, value }) : obj[key] = value;
var __spreadValues = (a, b) => {
  for (var prop in b || (b = {}))
    if (__hasOwnProp.call(b, prop))
      __defNormalProp(a, prop, b[prop]);
  if (__getOwnPropSymbols)
    for (var prop of __getOwnPropSymbols(b)) {
      if (__propIsEnum.call(b, prop))
        __defNormalProp(a, prop, b[prop]);
    }
  return a;
};
var __spreadProps = (a, b) => __defProps(a, __getOwnPropDescs(b));
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};
























const _ViewerFrontHostApp = class _ViewerFrontHostApp extends _common__WEBPACK_IMPORTED_MODULE_3__.FrontHostApp {
  constructor(options) {
    if (!options.data)
      throw new Error("ViewerFrontHostApp: no data");
    super(options);
    this.options = options;
    this.applicationController = null;
  }
  run() {
    return __async(this, null, function* () {
      console.debug("ViewerFrontHostApp.run", this.getData());
      const application = new _Model_Application_Application__WEBPACK_IMPORTED_MODULE_1__.Application(this.getData());
      application.init();
      const applicationController = this.applicationController = _Controller_ModelController_ApplicationController_ApplicationController__WEBPACK_IMPORTED_MODULE_2__.ApplicationController.create(
        application,
        this
      );
      applicationController.init();
      const rootElementName = `.${applicationController.getViewClass().name}__root`;
      const rootElement = document.querySelector(rootElementName);
      if (!rootElement) {
        throw new Error(`no root element: ${rootElementName}`);
      }
      applicationController.createView(rootElement);
      try {
        yield applicationController.connect();
      } catch (err) {
        this.logError(err);
      }
    });
  }
  onWindowPopState(e) {
    return __async(this, null, function* () {
      yield this.applicationController.onWindowPopState(e);
    });
  }
  logError(err) {
    console.error("FrontHostApp.logError", err);
    const body = {
      type: "error",
      source: "client",
      message: err.message,
      stack: err.stack,
      data: JSON.stringify(
        {
          href: window.location.href,
          platformVersion: this.getData().versions.platform,
          appVersion: this.getData().versions.app
        },
        null,
        4
      )
    };
    console.debug(`POST ${this.getData().logErrorUrl}`, body);
    fetch(this.getData().logErrorUrl, {
      method: "POST",
      headers: { "Content-Type": "application/json;charset=utf-8" },
      body: JSON.stringify(body)
    }).catch((err2) => {
      console.error(err2.message);
    });
  }
  getData() {
    if (!this.options.data)
      throw new Error("no data");
    return this.options.data;
  }
  alert(options) {
    console.debug("ViewerFrontHostApp.alert", options);
    return new Promise((resolve, reject) => {
      try {
        const root = document.querySelector(".alert-root");
        if (!root)
          throw new Error("no .alert-root");
        if (root.childElementCount === 0) {
          const ctrl = this.alertCtrl = new _Controller_AlertController_AlertController__WEBPACK_IMPORTED_MODULE_4__.AlertController(__spreadProps(__spreadValues({}, options), {
            onClose: () => {
              this.alertCtrl = null;
              react_dom__WEBPACK_IMPORTED_MODULE_0___default().unmountComponentAtNode(root);
              resolve();
            }
          }));
          const view = _common__WEBPACK_IMPORTED_MODULE_3__.Helper.createReactComponent(root, ctrl.getViewClass(), {
            ctrl,
            key: 0
          });
        } else {
          reject(new Error("alert already exists"));
        }
      } catch (err) {
        reject(err);
      }
    });
  }
  confirm(options) {
    console.debug("ViewerFrontHostApp.confirm", options);
    return new Promise((resolve, reject) => {
      try {
        const root = document.querySelector(".alert-root");
        if (!root)
          throw new Error("no .alert-root");
        if (root.childElementCount === 0) {
          const ctrl = this.alertCtrl = new _Controller_ConfirmController_ConfirmController__WEBPACK_IMPORTED_MODULE_5__.ConfirmController(__spreadProps(__spreadValues({}, options), {
            onClose: (result) => {
              this.alertCtrl = null;
              react_dom__WEBPACK_IMPORTED_MODULE_0___default().unmountComponentAtNode(root);
              resolve(result);
            }
          }));
          const view = _common__WEBPACK_IMPORTED_MODULE_3__.Helper.createReactComponent(root, ctrl.getViewClass(), { ctrl });
        } else {
          reject(new Error("confirm already exists"));
        }
      } catch (err) {
        reject(err);
      }
    });
  }
};
__name(_ViewerFrontHostApp, "ViewerFrontHostApp");
let ViewerFrontHostApp = _ViewerFrontHostApp;
_common__WEBPACK_IMPORTED_MODULE_3__.Helper.registerGlobalClass(ViewerFrontHostApp);


/***/ }),

/***/ "./src/frontend/viewer/WebSocketClient.ts":
/*!************************************************!*\
  !*** ./src/frontend/viewer/WebSocketClient.ts ***!
  \************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "WebSocketClient": () => (/* binding */ WebSocketClient)
/* harmony export */ });
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
var __async = (__this, __arguments, generator) => {
  return new Promise((resolve, reject) => {
    var fulfilled = (value) => {
      try {
        step(generator.next(value));
      } catch (e) {
        reject(e);
      }
    };
    var rejected = (value) => {
      try {
        step(generator.throw(value));
      } catch (e) {
        reject(e);
      }
    };
    var step = (x) => x.done ? resolve(x.value) : Promise.resolve(x.value).then(fulfilled, rejected);
    step((generator = generator.apply(__this, __arguments)).next());
  });
};
const _WebSocketClient = class _WebSocketClient {
  constructor(options = {}) {
    this.options = options;
    if (!options.applicationController)
      throw new Error("no options.applicationController");
    if (!options.protocol)
      throw new Error("no options.protocol");
    this.url = `${options.protocol}://${window.location.host}/?${this.createUriParamsString(
      options
    )}`;
    this.webSocket = null;
    this.refreshTimeoutId = null;
    this.RECONNECT_TIMEOUT = 10;
    this.REFRESH_TIMEOUT = 60 * 60;
  }
  createUriParamsString(options) {
    const params = {
      route: options.route,
      uuid: options.uuid,
      userId: options.userId,
      version: this.getApp().getModel().getData().versions.app
    };
    return Object.keys(params).map((key) => `${key}=${encodeURIComponent(params[key])}`).join("&");
  }
  connect() {
    console.debug("WebSocketClient.connect", this.url);
    return new Promise((resolve, reject) => {
      this.webSocket = new WebSocket(this.url);
      this.webSocket.onclose = (e) => __async(this, null, function* () {
        this.webSocket = null;
        reject(new Error(`Connection failed ${e.code}`));
      });
      this.webSocket.onopen = (e) => {
        this.webSocket.onclose = this.onClose.bind(this);
        this.webSocket.onmessage = this.onMessage.bind(this);
        this.startRefreshTimeout();
        resolve(e);
      };
    });
  }
  onRefreshTimeout() {
    return __async(this, null, function* () {
      this.refreshTimeoutId = null;
      this.send("ping");
      this.startRefreshTimeout();
    });
  }
  send(data) {
    console.debug("WebSocketClient.send", data);
    this.webSocket.send(data);
  }
  startRefreshTimeout() {
    this.refreshTimeoutId = setTimeout(
      this.onRefreshTimeout.bind(this),
      this.REFRESH_TIMEOUT * 1e3
    );
  }
  resetRefreshTimeout() {
    if (this.refreshTimeoutId) {
      clearTimeout(this.refreshTimeoutId);
      this.refreshTimeoutId = null;
    }
  }
  reconnect() {
    return __async(this, null, function* () {
      console.debug("WebSocketClient.reconnect");
      try {
        yield this.connect();
      } catch (err) {
        console.error(err);
        console.debug(`waiting ${this.RECONNECT_TIMEOUT} sec for socket reconnect...`);
        setTimeout(() => __async(this, null, function* () {
          return yield this.reconnect();
        }), this.RECONNECT_TIMEOUT * 1e3);
      }
    });
  }
  onClose(e) {
    return __async(this, null, function* () {
      console.error("WebSocketClient.onClose", e);
      this.getApp().getHostApp().logError(
        new Error(
          `websocket close ${this.getApp().getModel().getDomain()}/${this.getApp().getModel().getName()}`
        )
      );
      this.resetRefreshTimeout();
      this.webSocket.onclose = null;
      this.webSocket.onmessage = null;
      this.webSocket = null;
      yield this.reconnect();
    });
  }
  onMessage(e) {
    return __async(this, null, function* () {
      console.debug("WebSocketClient.onMessage", JSON.parse(e.data));
      const packet = JSON.parse(e.data);
      if (packet.type === "result") {
        this.getApp().getView().disableRerender();
        yield this.getApp().getModel().emitResult(packet.data);
        this.getApp().getView().enableRerender();
        this.getApp().getView().rerender();
      }
    });
  }
  getApp() {
    return this.options.applicationController;
  }
};
__name(_WebSocketClient, "WebSocketClient");
let WebSocketClient = _WebSocketClient;


/***/ }),

/***/ "./src/frontend/viewer/index.ts":
/*!**************************************!*\
  !*** ./src/frontend/viewer/index.ts ***!
  \**************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ApplicationController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.ApplicationController),
/* harmony export */   "ApplicationView": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.ApplicationView),
/* harmony export */   "CheckBoxField": () => (/* reexport safe */ _Model__WEBPACK_IMPORTED_MODULE_2__.CheckBoxField),
/* harmony export */   "CheckBoxListField": () => (/* reexport safe */ _Model__WEBPACK_IMPORTED_MODULE_2__.CheckBoxListField),
/* harmony export */   "Column": () => (/* reexport safe */ _Model__WEBPACK_IMPORTED_MODULE_2__.Column),
/* harmony export */   "ComboBoxField": () => (/* reexport safe */ _Model__WEBPACK_IMPORTED_MODULE_2__.ComboBoxField),
/* harmony export */   "DataSource": () => (/* reexport safe */ _Model__WEBPACK_IMPORTED_MODULE_2__.DataSource),
/* harmony export */   "Database": () => (/* reexport safe */ _Model__WEBPACK_IMPORTED_MODULE_2__.Database),
/* harmony export */   "DateField": () => (/* reexport safe */ _Model__WEBPACK_IMPORTED_MODULE_2__.DateField),
/* harmony export */   "DateTimeField": () => (/* reexport safe */ _Model__WEBPACK_IMPORTED_MODULE_2__.DateTimeField),
/* harmony export */   "FileField": () => (/* reexport safe */ _Model__WEBPACK_IMPORTED_MODULE_2__.FileField),
/* harmony export */   "Form": () => (/* reexport safe */ _Model__WEBPACK_IMPORTED_MODULE_2__.Form),
/* harmony export */   "LinkField": () => (/* reexport safe */ _Model__WEBPACK_IMPORTED_MODULE_2__.LinkField),
/* harmony export */   "LoginController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.LoginController),
/* harmony export */   "LoginFrontHostApp": () => (/* reexport safe */ _LoginFrontHostApp__WEBPACK_IMPORTED_MODULE_0__.LoginFrontHostApp),
/* harmony export */   "LoginView": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.LoginView),
/* harmony export */   "NoSqlDataSource": () => (/* reexport safe */ _Model__WEBPACK_IMPORTED_MODULE_2__.NoSqlDataSource),
/* harmony export */   "Page": () => (/* reexport safe */ _Model__WEBPACK_IMPORTED_MODULE_2__.Page),
/* harmony export */   "PageController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.PageController),
/* harmony export */   "PageView": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.PageView),
/* harmony export */   "PasswordField": () => (/* reexport safe */ _Model__WEBPACK_IMPORTED_MODULE_2__.PasswordField),
/* harmony export */   "PersistentDataSource": () => (/* reexport safe */ _Model__WEBPACK_IMPORTED_MODULE_2__.PersistentDataSource),
/* harmony export */   "PhoneField": () => (/* reexport safe */ _Model__WEBPACK_IMPORTED_MODULE_2__.PhoneField),
/* harmony export */   "RadioField": () => (/* reexport safe */ _Model__WEBPACK_IMPORTED_MODULE_2__.RadioField),
/* harmony export */   "RowForm": () => (/* reexport safe */ _Model__WEBPACK_IMPORTED_MODULE_2__.RowForm),
/* harmony export */   "RowFormCheckBoxFieldController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormCheckBoxFieldController),
/* harmony export */   "RowFormCheckBoxListFieldController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormCheckBoxListFieldController),
/* harmony export */   "RowFormCheckBoxListFieldView": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormCheckBoxListFieldView),
/* harmony export */   "RowFormComboBoxFieldController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormComboBoxFieldController),
/* harmony export */   "RowFormComboBoxFieldView": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormComboBoxFieldView),
/* harmony export */   "RowFormController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormController),
/* harmony export */   "RowFormDateFieldController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormDateFieldController),
/* harmony export */   "RowFormDateFieldView": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormDateFieldView),
/* harmony export */   "RowFormDateTimeFieldController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormDateTimeFieldController),
/* harmony export */   "RowFormDateTimeFieldView": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormDateTimeFieldView),
/* harmony export */   "RowFormFieldController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormFieldController),
/* harmony export */   "RowFormFieldView": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormFieldView),
/* harmony export */   "RowFormFileFieldController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormFileFieldController),
/* harmony export */   "RowFormLinkFieldController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormLinkFieldController),
/* harmony export */   "RowFormPasswordFieldController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormPasswordFieldController),
/* harmony export */   "RowFormPhoneFieldController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormPhoneFieldController),
/* harmony export */   "RowFormPhoneFieldView": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormPhoneFieldView),
/* harmony export */   "RowFormRadioFieldController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormRadioFieldController),
/* harmony export */   "RowFormTextAreaFieldController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormTextAreaFieldController),
/* harmony export */   "RowFormTextAreaFieldView": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormTextAreaFieldView),
/* harmony export */   "RowFormTextBoxFieldController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormTextBoxFieldController),
/* harmony export */   "RowFormTextBoxFieldView": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormTextBoxFieldView),
/* harmony export */   "RowFormTimeFieldController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormTimeFieldController),
/* harmony export */   "RowFormView": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.RowFormView),
/* harmony export */   "SqlDataSource": () => (/* reexport safe */ _Model__WEBPACK_IMPORTED_MODULE_2__.SqlDataSource),
/* harmony export */   "Table": () => (/* reexport safe */ _Model__WEBPACK_IMPORTED_MODULE_2__.Table),
/* harmony export */   "TableForm": () => (/* reexport safe */ _Model__WEBPACK_IMPORTED_MODULE_2__.TableForm),
/* harmony export */   "TableFormCheckBoxFieldController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.TableFormCheckBoxFieldController),
/* harmony export */   "TableFormCheckBoxFieldView": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.TableFormCheckBoxFieldView),
/* harmony export */   "TableFormComboBoxFieldController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.TableFormComboBoxFieldController),
/* harmony export */   "TableFormComboBoxFieldView": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.TableFormComboBoxFieldView),
/* harmony export */   "TableFormController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.TableFormController),
/* harmony export */   "TableFormDateFieldController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.TableFormDateFieldController),
/* harmony export */   "TableFormDateFieldView": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.TableFormDateFieldView),
/* harmony export */   "TableFormDateTimeFieldController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.TableFormDateTimeFieldController),
/* harmony export */   "TableFormDateTimeFieldView": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.TableFormDateTimeFieldView),
/* harmony export */   "TableFormLinkFieldController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.TableFormLinkFieldController),
/* harmony export */   "TableFormPhoneFieldController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.TableFormPhoneFieldController),
/* harmony export */   "TableFormTextBoxFieldController": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.TableFormTextBoxFieldController),
/* harmony export */   "TableFormTextBoxFieldView": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.TableFormTextBoxFieldView),
/* harmony export */   "TableFormView": () => (/* reexport safe */ _Controller__WEBPACK_IMPORTED_MODULE_3__.TableFormView),
/* harmony export */   "TextAreaField": () => (/* reexport safe */ _Model__WEBPACK_IMPORTED_MODULE_2__.TextAreaField),
/* harmony export */   "TextBoxField": () => (/* reexport safe */ _Model__WEBPACK_IMPORTED_MODULE_2__.TextBoxField),
/* harmony export */   "ViewerFrontHostApp": () => (/* reexport safe */ _ViewerFrontHostApp__WEBPACK_IMPORTED_MODULE_1__.ViewerFrontHostApp)
/* harmony export */ });
/* harmony import */ var _LoginFrontHostApp__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./LoginFrontHostApp */ "./src/frontend/viewer/LoginFrontHostApp.ts");
/* harmony import */ var _ViewerFrontHostApp__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./ViewerFrontHostApp */ "./src/frontend/viewer/ViewerFrontHostApp.ts");
/* harmony import */ var _Model__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./Model */ "./src/frontend/viewer/Model/index.ts");
/* harmony import */ var _Controller__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./Controller */ "./src/frontend/viewer/Controller/index.ts");






/***/ }),

/***/ "./src/pConsole.ts":
/*!*************************!*\
  !*** ./src/pConsole.ts ***!
  \*************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "LogLevel": () => (/* binding */ LogLevel),
/* harmony export */   "LogLevels": () => (/* binding */ LogLevels),
/* harmony export */   "getLogLevelName": () => (/* binding */ getLogLevelName),
/* harmony export */   "pConsole": () => (/* binding */ pConsole)
/* harmony export */ });
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
const LOG_LEVEL_EV_NAME = "QFORMS_LOG_LEVEL";
var LogLevel = /* @__PURE__ */ ((LogLevel2) => {
  LogLevel2["debug"] = "debug";
  LogLevel2["log"] = "log";
  LogLevel2["warn"] = "warn";
  LogLevel2["error"] = "error";
  return LogLevel2;
})(LogLevel || {});
const LogLevels = ["debug" /* debug */, "log" /* log */, "warn" /* warn */, "error" /* error */];
function getLogLevelName() {
  if (typeof window === "object") {
    return window[LOG_LEVEL_EV_NAME] || "debug";
  } else if (typeof global === "object") {
    return process.env[LOG_LEVEL_EV_NAME] || (process.env.NODE_ENV === "dev" ? "debug" : "log");
  }
  return "debug";
}
__name(getLogLevelName, "getLogLevelName");
function isJest() {
  return typeof jest !== "undefined";
}
__name(isJest, "isJest");
const pConsole = new Proxy(console, {
  get: function(target, prop, receiver) {
    if (typeof target[prop] === "function") {
      return function(...args) {
        const methodLevel = LogLevels.indexOf(prop);
        const logLevel = LogLevels.indexOf(getLogLevelName());
        if (methodLevel >= logLevel) {
          if (!isJest()) {
            return target[prop].apply(receiver, args);
          }
          if (prop === "error") {
            process.stderr.write(`${args.join(` `)}
`);
          } else {
            process.stdout.write(`${args.join(` `)}
`);
          }
        }
      };
    }
    return target[prop];
  }
});


/***/ }),

/***/ "./src/types.ts":
/*!**********************!*\
  !*** ./src/types.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "keyToKeyTuple": () => (/* binding */ keyToKeyTuple),
/* harmony export */   "keyTupleToKey": () => (/* binding */ keyTupleToKey)
/* harmony export */ });
var __defProp = Object.defineProperty;
var __name = (target, value) => __defProp(target, "name", { value, configurable: true });
const keyTupleToKey = /* @__PURE__ */ __name((keyArray) => {
  return JSON.stringify(keyArray);
}, "keyTupleToKey");
const keyToKeyTuple = /* @__PURE__ */ __name((key) => {
  return JSON.parse(key);
}, "keyToKeyTuple");


/***/ }),

/***/ "./src/frontend/common/style/ellipsis.less":
/*!*************************************************!*\
  !*** ./src/frontend/common/style/ellipsis.less ***!
  \*************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/style/flex-column.less":
/*!****************************************************!*\
  !*** ./src/frontend/common/style/flex-column.less ***!
  \****************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/style/flex-max.less":
/*!*************************************************!*\
  !*** ./src/frontend/common/style/flex-max.less ***!
  \*************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/style/flex.less":
/*!*********************************************!*\
  !*** ./src/frontend/common/style/flex.less ***!
  \*********************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/style/frame.less":
/*!**********************************************!*\
  !*** ./src/frontend/common/style/frame.less ***!
  \**********************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/style/full.less":
/*!*********************************************!*\
  !*** ./src/frontend/common/style/full.less ***!
  \*********************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/style/global.less":
/*!***********************************************!*\
  !*** ./src/frontend/common/style/global.less ***!
  \***********************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/style/grid-gap-10.less":
/*!****************************************************!*\
  !*** ./src/frontend/common/style/grid-gap-10.less ***!
  \****************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/style/grid-gap-5.less":
/*!***************************************************!*\
  !*** ./src/frontend/common/style/grid-gap-5.less ***!
  \***************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/style/wait.less":
/*!*********************************************!*\
  !*** ./src/frontend/common/style/wait.less ***!
  \*********************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/widget/Box/Box.less":
/*!*************************************************!*\
  !*** ./src/frontend/common/widget/Box/Box.less ***!
  \*************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/widget/CheckBox/CheckBox.less":
/*!***********************************************************!*\
  !*** ./src/frontend/common/widget/CheckBox/CheckBox.less ***!
  \***********************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/widget/DatePicker/DatePicker.less":
/*!***************************************************************!*\
  !*** ./src/frontend/common/widget/DatePicker/DatePicker.less ***!
  \***************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/widget/DropdownButton/DropdownButton.less":
/*!***********************************************************************!*\
  !*** ./src/frontend/common/widget/DropdownButton/DropdownButton.less ***!
  \***********************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/widget/DropdownDatePicker/DropdownDatePicker.less":
/*!*******************************************************************************!*\
  !*** ./src/frontend/common/widget/DropdownDatePicker/DropdownDatePicker.less ***!
  \*******************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/widget/Expand/Expand.less":
/*!*******************************************************!*\
  !*** ./src/frontend/common/widget/Expand/Expand.less ***!
  \*******************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/widget/Grid/Grid.less":
/*!***************************************************!*\
  !*** ./src/frontend/common/widget/Grid/Grid.less ***!
  \***************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/widget/GridCell/GridCell.less":
/*!***********************************************************!*\
  !*** ./src/frontend/common/widget/GridCell/GridCell.less ***!
  \***********************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/widget/Image/Image.less":
/*!*****************************************************!*\
  !*** ./src/frontend/common/widget/Image/Image.less ***!
  \*****************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/widget/Menu/Menu.less":
/*!***************************************************!*\
  !*** ./src/frontend/common/widget/Menu/Menu.less ***!
  \***************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/widget/Modal/Modal.less":
/*!*****************************************************!*\
  !*** ./src/frontend/common/widget/Modal/Modal.less ***!
  \*****************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/widget/Password/Password.less":
/*!***********************************************************!*\
  !*** ./src/frontend/common/widget/Password/Password.less ***!
  \***********************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/widget/Select/Select.less":
/*!*******************************************************!*\
  !*** ./src/frontend/common/widget/Select/Select.less ***!
  \*******************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/widget/Slider/Slider.less":
/*!*******************************************************!*\
  !*** ./src/frontend/common/widget/Slider/Slider.less ***!
  \*******************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/widget/Statusbar/Statusbar.less":
/*!*************************************************************!*\
  !*** ./src/frontend/common/widget/Statusbar/Statusbar.less ***!
  \*************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/widget/Tab/Tab.less":
/*!*************************************************!*\
  !*** ./src/frontend/common/widget/Tab/Tab.less ***!
  \*************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/widget/Tab2/Tab2.less":
/*!***************************************************!*\
  !*** ./src/frontend/common/widget/Tab2/Tab2.less ***!
  \***************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/widget/TimeBox/TimeBox2/TimeBox2.less":
/*!*******************************************************************!*\
  !*** ./src/frontend/common/widget/TimeBox/TimeBox2/TimeBox2.less ***!
  \*******************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/common/widget/Tooltip/Tooltip.less":
/*!*********************************************************!*\
  !*** ./src/frontend/common/widget/Tooltip/Tooltip.less ***!
  \*********************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/AlertController/AlertView.less":
/*!***********************************************************************!*\
  !*** ./src/frontend/viewer/Controller/AlertController/AlertView.less ***!
  \***********************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/ConfirmController/ConfirmView.less":
/*!***************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ConfirmController/ConfirmView.less ***!
  \***************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/LoginController/LoginView.less":
/*!***********************************************************************!*\
  !*** ./src/frontend/viewer/Controller/LoginController/LoginView.less ***!
  \***********************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/ModalController/ImageDialogController/ImageDialogView.less":
/*!***************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModalController/ImageDialogController/ImageDialogView.less ***!
  \***************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/ApplicationController/ApplicationView.less":
/*!***************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/ApplicationController/ApplicationView.less ***!
  \***************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormCheckBoxFieldController/RowFormCheckBoxFieldView.less":
/*!************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormCheckBoxFieldController/RowFormCheckBoxFieldView.less ***!
  \************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormCheckBoxListFieldController/RowFormCheckBoxListFieldView.less":
/*!********************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormCheckBoxListFieldController/RowFormCheckBoxListFieldView.less ***!
  \********************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormComboBoxFieldController/RowFormComboBoxFieldView.less":
/*!************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormComboBoxFieldController/RowFormComboBoxFieldView.less ***!
  \************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormDateFieldController/RowFormDateFieldView.less":
/*!****************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormDateFieldController/RowFormDateFieldView.less ***!
  \****************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormDateTimeFieldController/RowFormDateTimeFieldView.less":
/*!************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormDateTimeFieldController/RowFormDateTimeFieldView.less ***!
  \************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFileFieldController/RowFormFileFieldView.less":
/*!****************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormFileFieldController/RowFormFileFieldView.less ***!
  \****************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormLinkFieldController/RowFormLinkFieldView.less":
/*!****************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormLinkFieldController/RowFormLinkFieldView.less ***!
  \****************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormPasswordFieldController/RowFormPasswordFieldView.less":
/*!************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormPasswordFieldController/RowFormPasswordFieldView.less ***!
  \************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormPhoneFieldController/RowFormPhoneFieldView.less":
/*!******************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormPhoneFieldController/RowFormPhoneFieldView.less ***!
  \******************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormRadioFieldController/RowFormRadioFieldView.less":
/*!******************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormRadioFieldController/RowFormRadioFieldView.less ***!
  \******************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTextAreaFieldController/RowFormTextAreaFieldView.less":
/*!************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTextAreaFieldController/RowFormTextAreaFieldView.less ***!
  \************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTextBoxFieldController/RowFormTextBoxFieldView.less":
/*!**********************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTextBoxFieldController/RowFormTextBoxFieldView.less ***!
  \**********************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTimeFieldController/RowFormTimeFieldView.less":
/*!****************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/RowFormFieldController/RowFormTimeFieldController/RowFormTimeFieldView.less ***!
  \****************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormCheckBoxFieldController/TableFormCheckBoxFieldView.less":
/*!******************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormCheckBoxFieldController/TableFormCheckBoxFieldView.less ***!
  \******************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormDateFieldController/TableFormDateFieldView.less":
/*!**********************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormDateFieldController/TableFormDateFieldView.less ***!
  \**********************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormLinkFieldController/TableFormLinkFieldView.less":
/*!**********************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormLinkFieldController/TableFormLinkFieldView.less ***!
  \**********************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormTextBoxFieldController/TableFormTextBoxFieldView.less":
/*!****************************************************************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FieldController/TableFormFieldController/TableFormTextBoxFieldController/TableFormTextBoxFieldView.less ***!
  \****************************************************************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FormController/RowFormController/RowFormView.less":
/*!**********************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FormController/RowFormController/RowFormView.less ***!
  \**********************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/FormController/TableFormController/TableFormView.less":
/*!**************************************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/FormController/TableFormController/TableFormView.less ***!
  \**************************************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/Controller/ModelController/PageController/PageView.less":
/*!*************************************************************************************!*\
  !*** ./src/frontend/viewer/Controller/ModelController/PageController/PageView.less ***!
  \*************************************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/style/application.less":
/*!****************************************************!*\
  !*** ./src/frontend/viewer/style/application.less ***!
  \****************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/style/field.less":
/*!**********************************************!*\
  !*** ./src/frontend/viewer/style/field.less ***!
  \**********************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/style/form.less":
/*!*********************************************!*\
  !*** ./src/frontend/viewer/style/form.less ***!
  \*********************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/style/page.less":
/*!*********************************************!*\
  !*** ./src/frontend/viewer/style/page.less ***!
  \*********************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/style/paging.less":
/*!***********************************************!*\
  !*** ./src/frontend/viewer/style/paging.less ***!
  \***********************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/style/toolbar-button.less":
/*!*******************************************************!*\
  !*** ./src/frontend/viewer/style/toolbar-button.less ***!
  \*******************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/style/toolbar-dropdown-button.less":
/*!****************************************************************!*\
  !*** ./src/frontend/viewer/style/toolbar-dropdown-button.less ***!
  \****************************************************************/
/***/ (() => {



/***/ }),

/***/ "./src/frontend/viewer/style/version-notification.less":
/*!*************************************************************!*\
  !*** ./src/frontend/viewer/style/version-notification.less ***!
  \*************************************************************/
/***/ (() => {



/***/ }),

/***/ "body-parser":
/*!******************************!*\
  !*** external "body-parser" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("body-parser");

/***/ }),

/***/ "colors":
/*!*************************!*\
  !*** external "colors" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("colors");

/***/ }),

/***/ "colors/safe":
/*!******************************!*\
  !*** external "colors/safe" ***!
  \******************************/
/***/ ((module) => {

"use strict";
module.exports = require("colors/safe");

/***/ }),

/***/ "cookie-parser":
/*!********************************!*\
  !*** external "cookie-parser" ***!
  \********************************/
/***/ ((module) => {

"use strict";
module.exports = require("cookie-parser");

/***/ }),

/***/ "ejs":
/*!**********************!*\
  !*** external "ejs" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("ejs");

/***/ }),

/***/ "express":
/*!**************************!*\
  !*** external "express" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("express");

/***/ }),

/***/ "express-session":
/*!**********************************!*\
  !*** external "express-session" ***!
  \**********************************/
/***/ ((module) => {

"use strict";
module.exports = require("express-session");

/***/ }),

/***/ "glob":
/*!***********************!*\
  !*** external "glob" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("glob");

/***/ }),

/***/ "mongodb":
/*!**************************!*\
  !*** external "mongodb" ***!
  \**************************/
/***/ ((module) => {

"use strict";
module.exports = require("mongodb");

/***/ }),

/***/ "mysql":
/*!************************!*\
  !*** external "mysql" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("mysql");

/***/ }),

/***/ "node-fetch":
/*!*****************************!*\
  !*** external "node-fetch" ***!
  \*****************************/
/***/ ((module) => {

"use strict";
module.exports = require("node-fetch");

/***/ }),

/***/ "pg":
/*!*********************!*\
  !*** external "pg" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("pg");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("react");

/***/ }),

/***/ "react-dom":
/*!****************************!*\
  !*** external "react-dom" ***!
  \****************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom");

/***/ }),

/***/ "react-dom/server":
/*!***********************************!*\
  !*** external "react-dom/server" ***!
  \***********************************/
/***/ ((module) => {

"use strict";
module.exports = require("react-dom/server");

/***/ }),

/***/ "react/jsx-runtime":
/*!************************************!*\
  !*** external "react/jsx-runtime" ***!
  \************************************/
/***/ ((module) => {

"use strict";
module.exports = require("react/jsx-runtime");

/***/ }),

/***/ "slash":
/*!************************!*\
  !*** external "slash" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("slash");

/***/ }),

/***/ "uuid":
/*!***********************!*\
  !*** external "uuid" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("uuid");

/***/ }),

/***/ "ws":
/*!*********************!*\
  !*** external "ws" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("ws");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "./package.json":
/*!**********************!*\
  !*** ./package.json ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"name":"qforms","version":"0.37.0-dev","description":"A fullstack framework/platform based on Express and React for building Web UI for databases.","main":"dist/index.js","files":["dist"],"scripts":{"webpack-back-index":"NODE_ENV=dev webpack --config webpack.config.back.index.js","webpack-back-start":"NODE_ENV=dev webpack --config webpack.config.back.start.js","webpack-front-index":"NODE_ENV=dev webpack --config webpack.config.index.js","webpack-front-monitor":"NODE_ENV=dev webpack --config webpack.config.monitor.js","webpack-front-editor":"NODE_ENV=dev webpack --config webpack.config.editor.js","webpack-front-viewer":"NODE_ENV=dev webpack --config webpack.config.viewer.js","build":"npx gulp build-dev","build:prod":"npx gulp build-prod","start":"NODE_ENV=dev node dist/start.js","start:sample":"NODE_ENV=dev node apps/sample/start.js port=7001","start:sample:nodemon":"NODE_ENV=dev nodemon --watch apps/sample apps/sample/start.js port=7001","start:apps":"NODE_ENV=dev QFORMS_LOG_LEVEL=log APPS_DIR_PATH=~/projects/qforms-apps LISTEN_PORT=7000 node dist/start.js","nodemon-start":"NODE_ENV=dev nodemon --watch dist --watch apps dist/start.js","test":"jest --runInBand","test:path":"jest --runTestsByPath","test:cov":"jest --coverage","docker:build":"npx gulp docker-build","docker:run":"npx gulp docker-run","prettier:write":"npx prettier --write \\"src/**/*.{ts,tsx,less}\\""},"dependencies":{"body-parser":"^1.19.1","colors":"^1.4.0","cookie-parser":"^1.4.6","ejs":"~3.1.7","express":"^4.17.2","express-session":"^1.17.2","glob":"^5.0.5","mongodb":"^4.13.0","mysql":"^2.18.1","node-fetch":"^2.6.7","pg":"^8.11.0","react":"^17.0.2","react-dom":"^17.0.2","slash":"^1.0.0","uuid":"^8.3.2","ws":"^2.3.1"},"devDependencies":{"@babel/cli":"^7.16.0","@babel/core":"^7.16.5","@babel/plugin-proposal-class-properties":"^7.16.5","@babel/plugin-transform-react-jsx":"^7.16.5","@babel/preset-react":"^7.18.6","@types/cookie-parser":"^1.4.3","@types/express":"^4.17.14","@types/express-session":"^1.17.6","@types/glob":"^8.1.0","@types/jest":"^29.4.0","@types/mysql":"^2.15.21","@types/node":"^14.18.34","@types/node-fetch":"^2.6.4","@types/pg":"^8.6.6","@types/react":"^17.0.52","@types/react-dom":"^17.0.18","@types/slash":"^3.0.0","@types/uuid":"^9.0.2","@types/ws":"^8.5.5","@typescript-eslint/eslint-plugin":"^5.45.1","@typescript-eslint/parser":"^5.45.1","babel-loader":"^9.1.0","babel-preset-react-app":"^3.1.2","chai":"^3.2.0","copy-webpack-plugin":"^11.0.0","css-loader":"^6.7.3","del":"^1.2.1","esbuild-loader":"^4.0.2","eslint":"^8.29.0","eslint-config-airbnb":"^19.0.4","eslint-config-airbnb-typescript":"^17.0.0","eslint-config-prettier":"^8.6.0","eslint-plugin-import":"^2.26.0","eslint-plugin-jsx-a11y":"^6.6.1","eslint-plugin-prettier":"^4.2.1","eslint-plugin-react":"^7.31.11","eslint-plugin-react-hooks":"^4.6.0","gulp":"^4.0.2","gulp-babel":"^8.0.0","gulp-clean-css":"^4.3.0","gulp-concat":"^2.6.0","gulp-hash-filename":"^3.0.0","gulp-less":"^4.0.1","gulp-minify":"^3.1.0","gulp-sourcemaps":"^3.0.0","gulp-typescript":"^6.0.0-alpha.1","gulp-uglify":"^3.0.2","jest":"^29.4.3","less-loader":"^11.1.0","mini-css-extract-plugin":"^2.7.2","nodemon":"^2.0.20","null-loader":"^4.0.1","prettier":"^2.8.4","should":"^7.0.4","supertest":"^6.3.3","terser-webpack-plugin":"^5.3.6","through":"^2.3.8","ts-jest":"^29.0.5","ts-loader":"^9.3.1","typescript":"^4.9.3","webpack":"^5.74.0","webpack-cli":"^4.10.0","webpack-node-externals":"^3.0.0"},"repository":{"type":"git","url":"https://github.com/alexn1/qforms.git"},"keywords":["web","ui","database"],"author":{"name":"Alexander Nesterenko","email":"alex140@gmail.com","url":"https://github.com/alexn1"},"license":"MIT","bugs":{"url":"https://github.com/alexn1/qforms/issues"},"homepage":"https://github.com/alexn1/qforms"}');

/***/ }),

/***/ "./src/backend/viewer/text/en.json":
/*!*****************************************!*\
  !*** ./src/backend/viewer/text/en.json ***!
  \*****************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"login":{"login":"Login","username":"Username","password":"Password","signIn":"Sign in","WrongUsernameOrPassword":"Wrong username or password"},"application":{"logout":"Logout","error":"Error","alert":"Alert","confirm":"Confirm","versionNotification":"New version is available. Please refresh page."},"page":{"create":"Create","cancel":"Cancel","saveAndClose":"Save and close","save":"Save","close":"Close","refresh":"Refresh","discard":"Discard","actions":"Actions","select":"Select","reset":"Reset"},"form":{"refresh":"Refresh","new":"New","delete":"Delete","areYouSure":"Are you sure?","count":"Count","previous":"Previous","next":"Next","edit":"Edit","save":"Save","cancel":"Cancel","discard":"Discard","actions":"Actions","required":"required","phoneNumberFormatError":"phone number format error"},"field":{"selectValue":"select value","fillValue":"fill in this field","timeNotValid":"time not valid","clear":"Clear"},"error":{"notNumber":"not a number","invalidDate":"invalid date"},"confirm":{"yes":"Yes","no":"No"}}');

/***/ }),

/***/ "./src/backend/viewer/text/ru.json":
/*!*****************************************!*\
  !*** ./src/backend/viewer/text/ru.json ***!
  \*****************************************/
/***/ ((module) => {

"use strict";
module.exports = JSON.parse('{"login":{"login":"Вход","signIn":"Войти","username":"Логин","password":"Пароль","WrongUsernameOrPassword":"Неверный логин или пароль"},"application":{"logout":"Выйти","error":"Ошибка","alert":"Внимание!","confirm":"Подтверждение","versionNotification":"Доступна новая версия. Пожалуйста обновите страницу."},"page":{"create":"Создать","cancel":"Отмена","saveAndClose":"Сохранить и закрыть","save":"Сохранить","close":"Закрыть","refresh":"Обновить","discard":"Сбросить","actions":"Действия","select":"Выбрать","reset":"Сбросить"},"form":{"refresh":"Обновить","new":"Создать","delete":"Удалить","areYouSure":"Вы уверены?","count":"Количество","previous":"Предыдущая","next":"Следующая","edit":"Редактировать","save":"Сохранить","cancel":"Отменить","discard":"Сбросить","actions":"Действия","required":"обязательно","phoneNumberFormatError":"неверный формат номера"},"field":{"selectValue":"выберите значение","fillValue":"заполните поле","timeNotValid":"ошибка ввода времени","clear":"Очистить"},"error":{"notNumber":"требуется числовое значение","invalidDate":"неверный формат даты"},"confirm":{"yes":"Да","no":"Нет"}}');

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/compat get default export */
/******/ 	(() => {
/******/ 		// getDefaultExport function for compatibility with non-harmony modules
/******/ 		__webpack_require__.n = (module) => {
/******/ 			var getter = module && module.__esModule ?
/******/ 				() => (module['default']) :
/******/ 				() => (module);
/******/ 			__webpack_require__.d(getter, { a: getter });
/******/ 			return getter;
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
var __webpack_exports__ = {};
// This entry need to be wrapped in an IIFE because it need to be in strict mode.
(() => {
"use strict";
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
__webpack_require__.r(__webpack_exports__);
/* harmony export */ __webpack_require__.d(__webpack_exports__, {
/* harmony export */   "ApplicationController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.ApplicationController),
/* harmony export */   "ApplicationView": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.ApplicationView),
/* harmony export */   "ArrowIcon": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.ArrowIcon),
/* harmony export */   "Box": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.Box),
/* harmony export */   "Button": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.Button),
/* harmony export */   "CancelIcon": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.CancelIcon),
/* harmony export */   "CheckBox": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.CheckBox),
/* harmony export */   "CheckBoxField": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.CheckBoxField),
/* harmony export */   "CheckBoxList": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.CheckBoxList),
/* harmony export */   "CheckBoxListField": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.CheckBoxListField),
/* harmony export */   "CloseIcon": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.CloseIcon),
/* harmony export */   "CloseIcon2": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.CloseIcon2),
/* harmony export */   "Column": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.Column),
/* harmony export */   "ComboBox": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.ComboBox),
/* harmony export */   "ComboBoxField": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.ComboBoxField),
/* harmony export */   "DataSource": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.DataSource),
/* harmony export */   "Database": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.Database),
/* harmony export */   "DatabaseResult": () => (/* reexport safe */ _Result__WEBPACK_IMPORTED_MODULE_1__.DatabaseResult),
/* harmony export */   "DateField": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.DateField),
/* harmony export */   "DateIcon": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.DateIcon),
/* harmony export */   "DatePicker": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.DatePicker),
/* harmony export */   "DateTimeField": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.DateTimeField),
/* harmony export */   "DeleteIcon": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.DeleteIcon),
/* harmony export */   "DoneIcon": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.DoneIcon),
/* harmony export */   "DownIcon": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.DownIcon),
/* harmony export */   "DropdownButton": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.DropdownButton),
/* harmony export */   "DropdownDatePicker": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.DropdownDatePicker),
/* harmony export */   "EditIcon": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.EditIcon),
/* harmony export */   "Expand": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.Expand),
/* harmony export */   "FileField": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.FileField),
/* harmony export */   "Form": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.Form),
/* harmony export */   "FrontHostApp": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.FrontHostApp),
/* harmony export */   "Grid": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.Grid),
/* harmony export */   "GridCell": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.GridCell),
/* harmony export */   "GridRow": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.GridRow),
/* harmony export */   "Helper": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.Helper),
/* harmony export */   "Image": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.Image),
/* harmony export */   "InsertExResult": () => (/* reexport safe */ _Result__WEBPACK_IMPORTED_MODULE_1__.InsertExResult),
/* harmony export */   "LeftIcon": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.LeftIcon),
/* harmony export */   "LinkField": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.LinkField),
/* harmony export */   "LocationIcon": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.LocationIcon),
/* harmony export */   "LoginController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.LoginController),
/* harmony export */   "LoginFrontHostApp": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.LoginFrontHostApp),
/* harmony export */   "LoginView": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.LoginView),
/* harmony export */   "Menu": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.Menu),
/* harmony export */   "Modal": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.Modal),
/* harmony export */   "MoreVertIcon": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.MoreVertIcon),
/* harmony export */   "NoSqlDataSource": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.NoSqlDataSource),
/* harmony export */   "OpenInNewIcon": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.OpenInNewIcon),
/* harmony export */   "Page": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.Page),
/* harmony export */   "PageController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.PageController),
/* harmony export */   "PageView": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.PageView),
/* harmony export */   "Password": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.Password),
/* harmony export */   "PasswordField": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.PasswordField),
/* harmony export */   "PasswordIcon": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.PasswordIcon),
/* harmony export */   "PersistentDataSource": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.PersistentDataSource),
/* harmony export */   "PhoneBox": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.PhoneBox),
/* harmony export */   "PhoneField": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.PhoneField),
/* harmony export */   "PhoneIcon": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.PhoneIcon),
/* harmony export */   "Radio": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.Radio),
/* harmony export */   "RadioField": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RadioField),
/* harmony export */   "ReactComponent": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.ReactComponent),
/* harmony export */   "Result": () => (/* reexport safe */ _Result__WEBPACK_IMPORTED_MODULE_1__.Result),
/* harmony export */   "RightIcon": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RightIcon),
/* harmony export */   "RowForm": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowForm),
/* harmony export */   "RowFormCheckBoxFieldController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormCheckBoxFieldController),
/* harmony export */   "RowFormCheckBoxListFieldController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormCheckBoxListFieldController),
/* harmony export */   "RowFormCheckBoxListFieldView": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormCheckBoxListFieldView),
/* harmony export */   "RowFormComboBoxFieldController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormComboBoxFieldController),
/* harmony export */   "RowFormComboBoxFieldView": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormComboBoxFieldView),
/* harmony export */   "RowFormController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormController),
/* harmony export */   "RowFormDateFieldController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormDateFieldController),
/* harmony export */   "RowFormDateFieldView": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormDateFieldView),
/* harmony export */   "RowFormDateTimeFieldController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormDateTimeFieldController),
/* harmony export */   "RowFormDateTimeFieldView": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormDateTimeFieldView),
/* harmony export */   "RowFormFieldController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormFieldController),
/* harmony export */   "RowFormFieldView": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormFieldView),
/* harmony export */   "RowFormFileFieldController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormFileFieldController),
/* harmony export */   "RowFormLinkFieldController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormLinkFieldController),
/* harmony export */   "RowFormPasswordFieldController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormPasswordFieldController),
/* harmony export */   "RowFormPhoneFieldController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormPhoneFieldController),
/* harmony export */   "RowFormPhoneFieldView": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormPhoneFieldView),
/* harmony export */   "RowFormRadioFieldController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormRadioFieldController),
/* harmony export */   "RowFormTextAreaFieldController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormTextAreaFieldController),
/* harmony export */   "RowFormTextAreaFieldView": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormTextAreaFieldView),
/* harmony export */   "RowFormTextBoxFieldController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormTextBoxFieldController),
/* harmony export */   "RowFormTextBoxFieldView": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormTextBoxFieldView),
/* harmony export */   "RowFormTimeFieldController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormTimeFieldController),
/* harmony export */   "RowFormView": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.RowFormView),
/* harmony export */   "Search": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.Search),
/* harmony export */   "Select": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.Select),
/* harmony export */   "SettingsIcon": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.SettingsIcon),
/* harmony export */   "Slider": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.Slider),
/* harmony export */   "SqlDataSource": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.SqlDataSource),
/* harmony export */   "Statusbar": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.Statusbar),
/* harmony export */   "Tab": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.Tab),
/* harmony export */   "Tab2": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.Tab2),
/* harmony export */   "Table": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.Table),
/* harmony export */   "TableForm": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.TableForm),
/* harmony export */   "TableFormCheckBoxFieldController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.TableFormCheckBoxFieldController),
/* harmony export */   "TableFormCheckBoxFieldView": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.TableFormCheckBoxFieldView),
/* harmony export */   "TableFormComboBoxFieldController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.TableFormComboBoxFieldController),
/* harmony export */   "TableFormComboBoxFieldView": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.TableFormComboBoxFieldView),
/* harmony export */   "TableFormController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.TableFormController),
/* harmony export */   "TableFormDateFieldController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.TableFormDateFieldController),
/* harmony export */   "TableFormDateFieldView": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.TableFormDateFieldView),
/* harmony export */   "TableFormDateTimeFieldController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.TableFormDateTimeFieldController),
/* harmony export */   "TableFormDateTimeFieldView": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.TableFormDateTimeFieldView),
/* harmony export */   "TableFormLinkFieldController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.TableFormLinkFieldController),
/* harmony export */   "TableFormPhoneFieldController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.TableFormPhoneFieldController),
/* harmony export */   "TableFormTextBoxFieldController": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.TableFormTextBoxFieldController),
/* harmony export */   "TableFormTextBoxFieldView": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.TableFormTextBoxFieldView),
/* harmony export */   "TableFormView": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.TableFormView),
/* harmony export */   "TableResult": () => (/* reexport safe */ _Result__WEBPACK_IMPORTED_MODULE_1__.TableResult),
/* harmony export */   "TextArea": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.TextArea),
/* harmony export */   "TextAreaField": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.TextAreaField),
/* harmony export */   "TextBox": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.TextBox),
/* harmony export */   "TextBoxField": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.TextBoxField),
/* harmony export */   "TimeBox": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.TimeBox),
/* harmony export */   "TimeBox2": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.TimeBox2),
/* harmony export */   "TimeIcon": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.TimeIcon),
/* harmony export */   "Tooltip": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.Tooltip),
/* harmony export */   "UpdateEx": () => (/* reexport safe */ _Result__WEBPACK_IMPORTED_MODULE_1__.UpdateEx),
/* harmony export */   "UpdateResult": () => (/* reexport safe */ _Result__WEBPACK_IMPORTED_MODULE_1__.UpdateResult),
/* harmony export */   "ViewerFrontHostApp": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.ViewerFrontHostApp),
/* harmony export */   "VisibilityIcon": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.VisibilityIcon),
/* harmony export */   "VisibilityOffIcon": () => (/* reexport safe */ _frontend__WEBPACK_IMPORTED_MODULE_4__.VisibilityOffIcon),
/* harmony export */   "keyToKeyTuple": () => (/* reexport safe */ _types__WEBPACK_IMPORTED_MODULE_0__.keyToKeyTuple),
/* harmony export */   "keyTupleToKey": () => (/* reexport safe */ _types__WEBPACK_IMPORTED_MODULE_0__.keyTupleToKey)
/* harmony export */ });
/* harmony import */ var _types__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./types */ "./src/types.ts");
/* harmony import */ var _Result__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./Result */ "./src/Result.ts");
/* harmony import */ var _backend__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./backend */ "./src/backend/index.ts");
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _backend__WEBPACK_IMPORTED_MODULE_2__) if(["default","keyToKeyTuple","keyTupleToKey","DatabaseResult","InsertExResult","Result","TableResult","UpdateEx","UpdateResult"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _backend__WEBPACK_IMPORTED_MODULE_2__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);
/* harmony import */ var _common__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./common */ "./src/common/index.ts");
/* harmony reexport (unknown) */ var __WEBPACK_REEXPORT_OBJECT__ = {};
/* harmony reexport (unknown) */ for(const __WEBPACK_IMPORT_KEY__ in _common__WEBPACK_IMPORTED_MODULE_3__) if(["default","keyToKeyTuple","keyTupleToKey","DatabaseResult","InsertExResult","Result","TableResult","UpdateEx","UpdateResult","ActionEditor","ActionEditorController","ApplicationEditor","ApplicationEditorController","BackHostApp","BaseModel","BkAction","BkApplication","BkCheckBoxField","BkCheckBoxListField","BkColumn","BkComboBoxField","BkDataSource","BkDatabase","BkDateField","BkDateTimeField","BkField","BkFileField","BkForm","BkHelper","BkImageField","BkLabelField","BkLinkField","BkModel","BkMongoDbDatabase","BkMySqlDatabase","BkNoSqlDataSource","BkPage","BkPageLink","BkParam","BkPasswordField","BkPhoneField","BkPostgreSqlDatabase","BkRadioField","BkRowForm","BkSqlDataSource","BkTable","BkTableForm","BkTextAreaField","BkTextBoxField","BkTimeField","CheckBoxFieldEditor","CheckBoxListFieldEditor","ColumnEditor","ColumnEditorController","ComboBoxFieldEditor","Context","Converter","DataSourceEditor","DataSourceEditorController","DatabaseEditor","DatabaseEditorController","DateFieldEditor","DateTimeFieldEditor","FieldEditor","FieldEditorController","FileFieldEditor","FormEditor","FormEditorController","ImageFieldEditor","JsonFile","KeyColumnEditor","KeyColumnEditorController","LabelFieldEditor","LinkFieldEditor","MongoDbDatabaseEditor","MySqlDatabaseEditor","NoSqlDataSourceEditor","PageEditor","PageEditorController","PageLinkEditor","PageLinkEditorController","ParamEditor","ParamEditorController","PasswordFieldEditor","PhoneFieldEditor","PostgreSqlDatabaseEditor","RadioFieldEditor","RowFormEditor","SqlDataSourceEditor","TableEditor","TableEditorController","TableFormEditor","TextAreaFieldEditor","TextBoxFieldEditor","TimeFieldEditor","VisualEditorController"].indexOf(__WEBPACK_IMPORT_KEY__) < 0) __WEBPACK_REEXPORT_OBJECT__[__WEBPACK_IMPORT_KEY__] = () => _common__WEBPACK_IMPORTED_MODULE_3__[__WEBPACK_IMPORT_KEY__]
/* harmony reexport (unknown) */ __webpack_require__.d(__webpack_exports__, __WEBPACK_REEXPORT_OBJECT__);
/* harmony import */ var _frontend__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./frontend */ "./src/frontend/index.ts");






})();

/******/ 	return __webpack_exports__;
/******/ })()
;
});